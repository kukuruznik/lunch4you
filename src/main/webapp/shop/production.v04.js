steal.loading('shop/shop.js','jquery/controller/controller.js','jquery/view/ejs/ejs.js','jquery/controller/view/view.js','jquery/event/bbq/bbq.js','jquery/dom/cookie/cookie.js','shop/utils/utils.js','common/register_customer/register_customer.js','shop/menu/list/list.js','shop/order/new/newOrder.js','shop/home/home.js','shop/contacts/contacts.js','shop/ordering/ordering.js','shop/referral/new/newReferral.js','shop/profile/edit/editProfile.js','shop/auth/register/register.js','shop/auth/signin/signin.js','shop/models/models.js','jquery/class/class.js','jquery/lang/string/string.js','jquery/event/destroyed/destroyed.js','jquery/jquery.js','jquery/event/event.js','jquery/view/view.js','jquery/lang/string/rsplit/rsplit.js','jquery/lang/json/json.js','jquery/dom/form_params/form_params.js','jquery/dom/dom.js','common/register_customer/views/customerForm.ejs','shop/menu/list/views/list.ejs','shop/order/new/views/orderForm.ejs','shop/order/new/views/orderMessage.ejs','shop/home/views/home.ejs','shop/contacts/views/contacts.ejs','shop/ordering/views/ordering.ejs','shop/referral/new/views/referralForm.ejs','shop/profile/edit/views/edit.ejs','shop/profile/edit/views/updateConfirmation.ejs','shop/auth/register/views/registerForm.ejs','shop/auth/signin/views/signinForm.ejs','shop/auth/signin/views/pinForm.ejs','shop/auth/signin/views/signedIn.ejs','shop/auth/signin/views/success.ejs','shop/models/article.js','shop/models/order.js','shop/models/customer.js','shop/models/deliveryLocation.js','shop/models/dictionary.js','shop/models/category.js','jquery/model/model.js','shop/main/main.js','shop/main/views/page.ejs','shop/main/views/mainHeader.ejs');
steal({src: 'shop/production.css', has: ['shop/shop.css','common/form.css']});
steal("jquery/controller","jquery/view/ejs","jquery/controller/view","jquery/event/bbq","jquery/dom/cookie","shop/utils/utils.js","common/register_customer/register_customer.js","shop/menu/list/list.js","shop/order/new/newOrder.js","shop/home/home.js","shop/contacts/contacts.js","shop/ordering/ordering.js","shop/referral/new/newReferral.js","shop/profile/edit/editProfile.js","shop/auth/register/register.js","shop/auth/signin/signin.js","shop/shop.css","common/form.css","shop/models/models.js").then("shop/main",
function(){$("#content").shop_main()});steal.loaded("shop/shop.js");
steal("jquery/class","jquery/lang/string","jquery/event/destroyed",function(j){var b=function(v,y,t){var E,U=v.bind&&v.unbind?v:j(x(v)?[v]:v);if(y.indexOf(">")===0){y=y.substr(1);E=function(ca){ca.target===v&&t.apply(this,arguments)}}U.bind(y,E||t);return function(){U.unbind(y,E||t);v=y=t=E=null}},o=j.makeArray,r=j.isArray,x=j.isFunction,I=j.extend,M=j.String,P=j.each,X=Array.prototype.slice,Z=function(v,y,t,E){var U=v.delegate&&v.undelegate?v:j(x(v)?[v]:v);U.delegate(y,t,E);return function(){U.undelegate(y,
t,E);U=v=t=E=y=null}},G=function(v,y,t,E){return E?Z(v,E,y,t):b(v,y,t)},W=function(v,y){var t=typeof y=="string"?v[y]:y;return function(){v.called=y;return t.apply(v,[this.nodeName?j(this):this].concat(X.call(arguments,0)))}},ba=/\./g,Y=/_?controllers?/ig,ea=function(v){return M.underscore(v.replace("jQuery.","").replace(ba,"_").replace(Y,""))},na=/[^\w]/,la=/\{([^\}]+)\}/g,ga=/^(?:(.*?)\s)?([\w\.\:>]+)$/,D,m=function(v,y){return j.data(v,"controllers",y)};j.Class("jQuery.Controller",{setup:function(){this._super.apply(this,
arguments);if(!(!this.shortName||this.fullName=="jQuery.Controller")){this._fullName=ea(this.fullName);this._shortName=ea(this.shortName);var v=this,y=this.pluginName||this._fullName,t;j.fn[y]||(j.fn[y]=function(E){var U=o(arguments),ca=typeof E=="string"&&x(v.prototype[E]),N=U[0];return this.each(function(){var aa=m(this);if(aa=aa&&aa[y])ca?aa[N].apply(aa,U.slice(1)):aa.update.apply(aa,U);else v.newInstance.apply(v,[this].concat(U))})});this.actions={};for(t in this.prototype)if(!(t=="constructor"||
!x(this.prototype[t])))if(this._isAction(t))this.actions[t]=this._action(t)}},hookup:function(v){return new this(v)},_isAction:function(v){return na.test(v)?true:j.inArray(v,this.listensTo)>-1||j.event.special[v]||s[v]},_action:function(v,y){la.lastIndex=0;if(!y&&la.test(v))return null;v=y?M.sub(v,[y,window]):v;y=r(v);var t=(y?v[1]:v).match(ga);return{processor:s[t[2]]||D,parts:t,delegate:y?v[0]:undefined}},processors:{},listensTo:[],defaults:{}},{setup:function(v,y){var t=this.constructor;v=(typeof v==
"string"?j(v):v.jquery?v:[v])[0];var E=t.pluginName||t._fullName;this.element=j(v).addClass(E);(m(v)||m(v,{}))[E]=this;this.options=I(I(true,{},t.defaults),y);this.called="init";this.bind();return[this.element,this.options].concat(o(arguments).slice(2))},bind:function(v,y,t){if(v===undefined){this._bindings=[];v=this.constructor;y=this._bindings;t=v.actions;var E=this.element;for(funcName in t)if(t.hasOwnProperty(funcName)){ready=t[funcName]||v._action(funcName,this.options);y.push(ready.processor(ready.delegate||
E,ready.parts[2],ready.parts[1],funcName,this))}var U=W(this,"destroy");E.bind("destroyed",U);y.push(function(ca){j(ca).unbind("destroyed",U)});return y.length}if(typeof v=="string"){t=y;y=v;v=this.element}return this._binder(v,y,t)},_binder:function(v,y,t,E){if(typeof t=="string")t=W(this,t);this._bindings.push(G(v,y,t,E));return this._bindings.length},_unbind:function(){var v=this.element[0];P(this._bindings,function(y,t){t(v)});this._bindings=[]},delegate:function(v,y,t,E){if(typeof v=="string"){E=
t;t=y;y=v;v=this.element}return this._binder(v,t,E,y)},update:function(v){I(this.options,v);this._unbind();this.bind()},destroy:function(){if(this._destroyed)throw this.constructor.shortName+" controller already deleted";var v=this.constructor.pluginName||this.constructor._fullName;this._destroyed=true;this.element.removeClass(v);this._unbind();delete this._actions;delete this.element.data("controllers")[v];j(this).triggerHandler("destroyed");this.element=null},find:function(v){return this.element.find(v)},
_set_called:true});var s=j.Controller.processors;D=function(v,y,t,E,U){return G(v,y,W(U,E),t)};P("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave".split(" "),function(v,y){s[y]=D});var B,Q=function(v,y){for(B=0;B<y.length;B++)if(typeof y[B]=="string"?v.constructor._shortName==y[B]:v instanceof y[B])return true;return false};j.fn.extend({controllers:function(){var v=o(arguments),
y=[],t,E,U;this.each(function(){t=j.data(this,"controllers");for(U in t)if(t.hasOwnProperty(U)){E=t[U];if(!v.length||Q(E,v))y.push(E)}});return y},controller:function(){return this.controllers.apply(this,arguments)[0]}})});steal.loaded("jquery/controller/controller.js");
steal("jquery/view","jquery/lang/string/rsplit").then(function(j){var b=function(t){eval(t)},o=j.String.rsplit,r=j.extend,x=j.isArray,I=/\r\n/g,M=/\r/g,P=/\n/g,X=/\n/,Z=/\\/g,G=/"/g,W=/'/g,ba=/\t/g,Y=/\{/g,ea=/\}/g,na=/\s*\(([\$\w]+)\)\s*->([^\n]*)/,la=function(t){return t.replace(Z,"\\\\").replace(P,"\\n").replace(G,'\\"').replace(ba,"\\t")},ga=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(G,"&#34;").replace(W,"&#39;")},D=j.View,m=function(t){var E=
t.match(Y);t=t.match(ea);return(E?E.length:0)-(t?t.length:0)},s=function(t){if(this.constructor!=s){var E=new s(t);return function(U,ca){return E.render(U,ca)}}if(typeof t=="function")this.template={fn:t};else{r(this,s.options,t);this.template=y(this.text,this.type,this.name)}};window.jQuery&&(jQuery.EJS=s);s.prototype.render=function(t,E){t=t||{};this._extra_helpers=E;E=new s.Helpers(t,E||{});return this.template.fn.call(t,t,E)};r(s,{text:function(t){if(typeof t=="string")return t;if(t===null||t===
undefined)return"";var E=t.hookup&&function(U,ca){t.hookup.call(t,U,ca)}||typeof t=="function"&&t||x(t)&&function(U,ca){for(var N=0;N<t.length;N++)t[N].hookup?t[N].hookup(U,ca):t[N](U,ca)};if(E)return"data-view-id='"+D.hookup(E)+"'";return t.toString?t.toString():""},clean:function(t){return typeof t=="string"?ga(t):typeof t=="number"?t:s.text(t)},options:{type:"<",ext:".ejs"}});var B=function(t,E,U){E=o(E,X);for(var ca=0;ca<E.length;ca++)Q(t,E[ca],U)},Q=function(t,E,U){t.lines++;E=o(E,t.splitter);
for(var ca,N=0;N<E.length;N++){ca=E[N];ca!==null&&U(ca,t)}},v=function(t,E){var U={};r(U,{left:t+"%",right:"%"+E,dLeft:t+"%%",dRight:"%%"+E,eeLeft:t+"%==",eLeft:t+"%=",cmnt:t+"%#",scan:B,lines:0});U.splitter=new RegExp("("+[U.dLeft,U.dRight,U.eeLeft,U.eLeft,U.cmnt,U.left,U.right+"\n",U.right,"\n"].join(")|(").replace(/\[/g,"\\[").replace(/\]/g,"\\]")+")");return U},y=function(t,E,U){t=t.replace(I,"\n").replace(M,"\n");E=E||"<";var ca=new s.Buffer(["var ___v1ew = [];"],[]),N="",aa=function(oa){ca.push("___v1ew.push(",
'"',la(oa),'");')},ja=null,ma=function(){N=""},H=[];B(v(E,E==="["?"]":">"),t||"",function(oa,ha){if(ja===null)switch(oa){case "\n":N+="\n";aa(N);ca.cr();ma();break;case ha.left:case ha.eLeft:case ha.eeLeft:case ha.cmnt:ja=oa;N.length>0&&aa(N);ma();break;case ha.dLeft:N+=ha.left;break;default:N+=oa;break}else switch(oa){case ha.right:switch(ja){case ha.left:oa=m(N);ha=H.length&&oa==-1?H.pop():";";ha==="));"&&ca.push("return ___v1ew.join('')");ca.push(N,ha);oa===1&&H.push(";");break;case ha.eLeft:(oa=
m(N))&&H.push("));");if(na.test(N)){ha=N.match(na);N="function(__){var "+ha[1]+"=$(__);"+ha[2]+"}"}ca.push("___v1ew.push(","jQuery.EJS.clean(",N,oa?"var ___v1ew = [];":"));");break;case ha.eeLeft:(oa=m(N))&&H.push("));");ca.push("___v1ew.push(","jQuery.EJS.text(",N,oa?"var ___v1ew = [];":"));");break}ja=null;ma();break;case ha.dRight:N+=ha.right;break;default:N+=oa;break}});N.length>0&&ca.push("___v1ew.push(",'"',la(N)+'");');t={out:"try { with(_VIEW) { with (_CONTEXT) {"+ca.close()+" return ___v1ew.join('')}}}catch(e){e.lineNumber=null;throw e;}"};
b.call(t,"this.fn = (function(_CONTEXT,_VIEW){"+t.out+"});\r\n//@ sourceURL="+U+".js");return t};s.Buffer=function(t,E){this.line=[];this.script=[];this.post=E;this.push.apply(this,t)};s.Buffer.prototype={push:function(){this.line.push.apply(this.line,arguments)},cr:function(){this.script.push(this.line.join(""),"\n");this.line=[]},close:function(){if(this.line.length>0){this.script.push(this.line.join(""));this.line=[]}this.post.length&&this.push.apply(this,this.post);this.script.push(";");return this.script.join("")}};
s.Helpers=function(t,E){this._data=t;this._extras=E;r(this,E)};s.Helpers.prototype={plugin:function(){var t=j.makeArray(arguments),E=t.shift();return function(U){U=j(U);U[E].apply(U,t)}},view:function(t,E,U){U=U||this._extras;E=E||this._data;return D(t,E,U)}};D.register({suffix:"ejs",script:function(t,E){return"jQuery.EJS(function(_CONTEXT,_VIEW) { "+(new s({text:E,name:t})).template.out+" })"},renderer:function(t,E){return s({text:E,name:t})}})});steal.loaded("jquery/view/ejs/ejs.js");
steal("jquery/controller","jquery/view").then(function(){var j=steal.URI||steal.File;jQuery.Controller.getFolder=function(){return jQuery.String.underscore(this.fullName.replace(/\./g,"/")).replace("/Controllers","")};jQuery.Controller._calculatePosition=function(o,r,x){var I=o.fullName.split("."),M=I.slice(0);M.splice(0,2);M.join("/");I=(o=I.length>2&&I[1]=="Controllers")?jQuery.String.underscore(I[0]):jQuery.String.underscore(I.join("/"));M=jQuery.String.underscore(M.join("/")).toLowerCase();var P=
typeof r=="string"&&/\.[\w\d]+$/.test(r)?"":jQuery.View.ext;if(typeof r=="string"){if(r.substr(0,2)!="//")r="//"+j(I).join("views/"+(r.indexOf("/")!==-1?r:(o?M+"/":"")+r))+P}else r||(r="//"+j(I).join("views/"+(o?M+"/":"")+x.replace(/\.|#/g,"").replace(/ /g,"_"))+P);return r};var b=function(o){var r={};if(o)if(jQuery.isArray(o))for(var x=0;x<o.length;x++)jQuery.extend(r,o[x]);else jQuery.extend(r,o);else{if(this._default_helpers)r=this._default_helpers;o=window;x=this.constructor.fullName.split(/\./);
for(var I=0;I<x.length;I++)if(o){typeof o.Helpers=="object"&&jQuery.extend(r,o.Helpers);o=o[x[I]]}o&&typeof o.Helpers=="object"&&jQuery.extend(r,o.Helpers);this._default_helpers=r}return r};jQuery.Controller.prototype.view=function(o,r,x){if(typeof o!="string"&&!x){x=r;r=o;o=null}o=jQuery.Controller._calculatePosition(this.Class,o,this.called);r=r||this;x=b.call(this,x);return jQuery.View(o,r,x)}});steal.loaded("jquery/controller/view/view.js");
steal("jquery").then(function(){(function(j,b){function o(N){return typeof N==="string"}function r(N){var aa=G.call(arguments,1);return function(){return N.apply(this,aa.concat(G.call(arguments)))}}function x(N){return N.replace(/^[^#]*#?(.*)$/,"$1")}function I(N){return N.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function M(N,aa,ja,ma,H){var oa;if(ma!==Z){aa=ja.match(N?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);ja=aa[3]||"";if(H===2&&o(ma))ma=ma.replace(N?E:t,"");else{oa=ea(aa[2]);ma=o(ma)?
ea[N?Q:B](ma):ma;ma=H===2?ma:H===1?j.extend({},ma,oa):j.extend({},oa,ma);ma=ba(ma);if(N)ma=ma.replace(U,W)}N=aa[1]+(N?"#":ma||!aa[1]?"?":"")+ma+ja}else N=aa(ja!==Z?ja:b[v][y]);return N}function P(N,aa,ja){if(aa===Z||typeof aa==="boolean"){ja=aa;aa=ba[N?Q:B]()}else aa=o(aa)?aa.replace(N?E:t,""):aa;return ea(aa,ja)}function X(N,aa,ja,ma){if(!o(ja)&&typeof ja!=="object"){ma=ja;ja=aa;aa=Z}return this.each(function(){var H=j(this),oa=aa||m()[(this.nodeName||"").toLowerCase()]||"",ha=oa&&H.attr(oa)||"";
H.attr(oa,ba[N](ha,ja,ma))})}var Z,G=Array.prototype.slice,W=decodeURIComponent,ba=j.param,Y,ea,na,la=j.bbq=j.bbq||{},ga,D,m,s=j.event.special,B="querystring",Q="fragment",v="location",y="href",t=/^.*\?|#.*$/g,E=/^.*\#/,U,ca={};ba[B]=r(M,0,I);ba[Q]=Y=r(M,1,x);Y.noEscape=function(N){N=N||"";N=j.map(N.split(""),encodeURIComponent);U=new RegExp(N.join("|"),"g")};Y.noEscape(",/");j.deparam=ea=function(N,aa){var ja={},ma={"true":true,"false":false,"null":null};j.each(N.replace(/\+/g," ").split("&"),function(H,
oa){var ha=oa.split("=");H=W(ha[0]);oa=ja;var d=0,va=H.split("]["),xa=va.length-1;if(/\[/.test(va[0])&&/\]$/.test(va[xa])){va[xa]=va[xa].replace(/\]$/,"");va=va.shift().split("[").concat(va);xa=va.length-1}else xa=0;if(ha.length===2){ha=W(ha[1]);if(aa)ha=ha&&!isNaN(ha)?+ha:ha==="undefined"?Z:ma[ha]!==Z?ma[ha]:ha;if(xa)for(;d<=xa;d++){H=va[d]===""?oa.length:va[d];oa=oa[H]=d<xa?oa[H]||(va[d+1]&&isNaN(va[d+1])?{}:[]):ha}else if(j.isArray(ja[H]))ja[H].push(ha);else ja[H]=ja[H]!==Z?[ja[H],ha]:ha}else if(H)ja[H]=
aa?Z:""});return ja};ea[B]=r(P,0);ea[Q]=na=r(P,1);j.elemUrlAttr||(j.elemUrlAttr=function(N){return j.extend(ca,N)})({a:y,base:y,iframe:"src",img:"src",input:"src",form:"action",link:y,script:"src"});m=j.elemUrlAttr;j.fn[B]=r(X,B);j.fn[Q]=r(X,Q);la.pushState=ga=function(N,aa){if(o(N)&&/^#/.test(N)&&aa===Z)aa=2;var ja=N!==Z;N=Y(b[v][y],ja?N:{},ja?aa:2);b[v][y]=N+(/#/.test(N)?"":"#")};la.getState=D=function(N,aa){return N===Z||typeof N==="boolean"?na(N):na(aa)[N]};la.removeState=function(N){var aa={};
if(N!==Z){aa=D();j.each(j.isArray(N)?N:arguments,function(ja,ma){delete aa[ma]})}ga(aa,2)};s.hashchange=j.extend(s.hashchange,{add:function(N){function aa(ma){var H=ma[Q]=Y();ma.getState=function(oa,ha){return oa===Z||typeof oa==="boolean"?ea(H,oa):ea(H,ha)[oa]};ja.apply(this,arguments)}var ja;if(j.isFunction(N)){ja=N;return aa}else{ja=N.handler;N.handler=aa}}})})(jQuery,this);(function(j,b,o){function r(W){W=W||b[M][P];return W.replace(/^[^#]*#?(.*)$/,"$1")}var x,I=j.event.special,M="location",P=
"href",X=document.documentMode,Z=j.browser.msie&&(X===o||X<8),G="onhashchange"in b&&!Z;j.hashchangeDelay=100;I.hashchange=j.extend(I.hashchange,{setup:function(){if(G)return false;j(x.start)},teardown:function(){if(G)return false;j(x.stop)}});x=function(){function W(){na=la=function(ga){return ga};if(Z){ea=j('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;la=function(){return r(ea.document[M][P])};na=function(ga,D){if(ga!==D){D=ea.document;D.open().close();D[M].hash="#"+
ga}};na(r())}}var ba={},Y,ea,na,la;ba.start=function(){if(!Y){var ga=r();na||W();(function D(){var m=r(),s=la(ga);if(m!==ga){na(ga=m,s);j(b).trigger("hashchange")}else if(s!==ga)b[M][P]=b[M][P].replace(/#.*/,"")+"#"+s;Y=setTimeout(D,j.hashchangeDelay)})()}};ba.stop=function(){if(!ea){Y&&clearTimeout(Y);Y=0}};return ba}()})(jQuery,this)});steal.loaded("jquery/event/bbq/bbq.js");
steal("jquery/lang/json",function(){jQuery.cookie=function(j,b,o){if(typeof b!="undefined"){o=o||{};if(b===null){b="";o.expires=-1}if(typeof b=="object"&&jQuery.toJSON)b=jQuery.toJSON(b);var r="";if(o.expires&&(typeof o.expires=="number"||o.expires.toUTCString)){if(typeof o.expires=="number"){r=new Date;r.setTime(r.getTime()+o.expires*24*60*60*1E3)}else r=o.expires;r="; expires="+r.toUTCString()}var x=o.path?"; path="+o.path:"",I=o.domain?"; domain="+o.domain:"";o=o.secure?"; secure":"";document.cookie=
[j,"=",encodeURIComponent(b),r,x,I,o].join("")}else{b=null;if(document.cookie&&document.cookie!=""){o=document.cookie.split(";");for(r=0;r<o.length;r++){x=jQuery.trim(o[r]);if(x.substring(0,j.length+1)==j+"="){b=decodeURIComponent(x.substring(j.length+1));break}}}if(jQuery.evalJSON&&b&&b.match(/^\s*\{/))try{b=jQuery.evalJSON(b)}catch(M){}return b}}});steal.loaded("jquery/dom/cookie/cookie.js");
steal("jquery/class").then(function(j){j.Class("Shop.Utils",{getLocalizedMessage:function(b){j.EJS.Helpers.prototype.msg(b)},isEmailAddressValid:function(b){return/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(b)},isCookieEnabled:function(){this.saveToCookie("tEsT","tEsT");var b=this.loadFromCookie("tEsT")=="tEsT";this.saveToCookie("tEsT",null);return b},loadFromCookie:function(b){return j.cookie(b)},saveToCookie:function(b,o){j.cookie(b,o,{expires:90})},enableInput:function(b,
o){o?b.removeAttr("disabled"):b.attr("disabled","disabled")}},{})});steal.loaded("shop/utils/utils.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view","jquery/dom/form_params").then("./views/customerForm.ejs",function(j){j.Controller("Common.RegisterCustomer",{},{init:function(){this.deliveryLocations=this.options.deliveryLocations||[];this.customer=this.options.customer||{};this._render()},"#customerForm #submitButton click":function(b,o){this.element.trigger("updateProfile",this.element.find("form").formParams());o.preventDefault();return false},"input[type=reset] click":function(b,
o){this._close();o.preventDefault();return false},_close:function(){this.element.trigger("close")},"{document} keypress":function(b,o){o.keyCode==27&&this._close()},_render:function(){this.element.html(this.view("customerForm",this))}})});steal.loaded("common/register_customer/register_customer.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view").then("./views/list.ejs",function(j){j.Controller("Shop.Menu.List",{},{init:function(){this._reloadMenu()},update:function(){this._reloadMenu()},_reloadMenu:function(){Shop.Models.Article.getGroupedMenu().done(this.proxy("_render"))},_render:function(b){this.groupedMenu=b;this.element.html(this.view("list",this.groupedMenu))}})});steal.loaded("shop/menu/list/list.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view").then("./views/orderForm.ejs","./views/orderMessage.ejs",function(j){j.Controller("Shop.Order.New",{},{init:function(){this._reloadData()},update:function(){this._reloadData()},"#orderForm #submitButton click":function(){this._createOrder()},"#deliveryLocationsSelect change":function(b){b=b.val();var o=j("#setDdlDiv"),r=j("#setDefaultDeliveryLocation");if(b==-1)o.hide();else{var x=null;if(Shop.customer&&Shop.customer.defaultDeliveryLocation)x=
Shop.customer.defaultDeliveryLocation.id;if(!x||x!=b){o.show();x||r.attr("checked","true")}else o.hide()}},_reloadData:function(){Shop.Models.Article.findOne(Shop.params.meal,this.proxy("_onDataLoaded"))},_onDataLoaded:function(b){this.article=b;this.deliveryLocations=Shop.deliveryLocations;this.deliveryLocation=(this.customer=Shop.customer)?this.customer.defaultDeliveryLocation:null;var o=new function(){};if(this.customer)if(this.article)if(b.isActiveDelivery)if(b.isSoldOut){o.resultCode="SOLD_OUT";
this._renderMessage(o)}else this._renderForm();else{o.resultCode="NOT_AVAILABLE";this._renderMessage(o)}else{o.resultCode="NOT_EXISTS";this._renderMessage(o)}else{o.resultCode="NOT_AUTHENTICATED";this._renderMessage(o)}},_createOrder:function(){if(this._validateOrderForm()){this._enableSubmit(false);var b=this,o=null;if(Shop.customer&&Shop.customer.defaultDeliveryLocation)o=Shop.customer.defaultDeliveryLocation.id;var r=j("#deliveryLocationsSelect").val();(o=(j("#setDefaultDeliveryLocation").attr("checked")?
true:false)&&(!o||o!=r))&&Shop.Main.setDefaultDeliveryLocation(r);var x=j("#note").val();Shop.Models.Order.create(this.article,this.customer,r,o,x,function(I){b._renderMessage(I)})}},_validateOrderForm:function(){if(j("#deliveryLocationsSelect").val()==-1){alert(j.EJS.Helpers.prototype.msg("order.detail.validation.emptyDeliveryLocation"));return false}return true},_enableSubmit:function(b){var o=j("#submitButton");Shop.Utils.enableInput(o,b)},_renderMessage:function(b){this.orderResult=b;this.element.html(this.view("orderMessage",
this))},_renderForm:function(){this.element.html(this.view("orderForm",this))}})});steal.loaded("shop/order/new/newOrder.js");steal("jquery/controller","jquery/view/ejs","jquery/controller/view").then("./views/home.ejs",function(j){j.Controller("Shop.Home",{},{init:function(){this._reloadData()},update:function(){this._reloadData()},_reloadData:function(){this._render()},_render:function(){this.element.html(this.view("home",this))}})});steal.loaded("shop/home/home.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view").then("./views/contacts.ejs",function(j){j.Controller("Shop.Ordering",{},{init:function(){this._reloadData()},update:function(){this._reloadData()},_reloadData:function(){this._render()},_render:function(){this.element.html(this.view("ordering",this))}})});steal.loaded("shop/contacts/contacts.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view").then("./views/ordering.ejs",function(j){j.Controller("Shop.Contacts",{},{init:function(){this._reloadData()},update:function(){this._reloadData()},_reloadData:function(){this._render()},_render:function(){this.element.html(this.view("contacts",this))}})});steal.loaded("shop/ordering/ordering.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view").then("./views/referralForm.ejs",function(j){j.Controller("Shop.Referral.New",{},{init:function(){this._reloadData()},update:function(){this._reloadData()},"#referralForm #submitButton click":function(){this._submitReferral()},_reloadData:function(){this.customer=Shop.customer;this._render()},_submitReferral:function(){if(this._validateReferralForm()){this._enableReferralSubmit(false);var b=this,o=j("#referralMessage").attr("value");
Shop.Models.Customer.createReferral(this.customer,this.parsedEmails,o,function(){alert(j.EJS.Helpers.prototype.msg("referral.detail.action.referralMsg"));b._enableReferralSubmit(true)})}},_parseEmails:function(){var b=j("#recipientEmail").attr("value").split(/[,;\t\n\r]/);b=j.map(b,function(o){return o.trim()});this.parsedEmails=b=j.grep(b,function(o){return o.trim()})},_validateReferralForm:function(){this._parseEmails();var b=this.parsedEmails;if(b.length==0){alert(j.EJS.Helpers.prototype.msg("referral.detail.validation.emptyEmailAddress"));
return false}for(var o=0;o<b.length;o++){var r=b[o];if(!Shop.Utils.isEmailAddressValid(r)){alert(j.EJS.Helpers.prototype.msg("referral.detail.validation.invalidEmailFormat")+" "+r);return false}}return true},_enableReferralSubmit:function(b){var o=j("#submitReferralButton");Shop.Utils.enableInput(o,b)},_render:function(){this.element.html(this.view("referralForm",this))}})});steal.loaded("shop/referral/new/newReferral.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view","common/register_customer").then("./views/edit.ejs","./views/updateConfirmation.ejs",function(j){j.Controller("Shop.Profile.Edit",{},{init:function(){this.token=Shop.Main.getToken();this._reloadData()},update:function(){this._reloadData()},_reloadData:function(){this._onDataLoaded()},_onDataLoaded:function(){this.deliveryLocations=Shop.deliveryLocations;this.deliveryLocation=(this.customer=Shop.customer)?this.customer.defaultDeliveryLocation:
null;this._render()},"{window} updateProfile":function(){if(this._validateProfileForm()){var b=new function(){};b.id=this.customer.id;b.firstName=j.trim(j("#reg_firstName").attr("value"));b.lastName=j.trim(j("#reg_lastName").attr("value"));b.email=j.trim(j("#reg_email").attr("value"));b.isSubscribedMenuWeekly=j("#reg_subscribeMenuWeekly").attr("checked")=="checked";b.isSubscribedNews=j("#reg_subscribeNews").attr("checked")=="checked";var o=j("#reg_ddl").val(),r=this;Shop.Models.Customer.updateProfile(b,
o,function(){r._renderConfirmation();Shop.Main.reloadCustomer()})}},_validateProfileForm:function(){var b=j("#reg_email").attr("value");if(j.trim(b)==""){alert(j.EJS.Helpers.prototype.msg("customer.registration.validation.emptyEmailAddress"));return false}if(!Shop.Utils.isEmailAddressValid(b)){alert(j.EJS.Helpers.prototype.msg("customer.registration.validation.invalidEmailFormat"));return false}return true},_renderConfirmation:function(){this.element.html(this.view("updateConfirmation",this))},_render:function(){this.element.html(this.view("edit"));
this.element.find("#profile-edit").common_register_customer(this)}})});steal.loaded("shop/profile/edit/editProfile.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view","common/register_customer").then("./views/registerForm.ejs",function(j){j.Controller("Shop.Auth.Register",{},{init:function(){this._render()},update:function(){this._render()},"#registerForm #submitButton click":function(){this._submitRegistration()},_submitRegistration:function(){if(this._validateInputForm()){var b=j.trim(j("#reg_email").attr("value"));Shop.Models.Customer.findByEmail(b,this.proxy("_customerCheckedHandler"))}},
_customerCheckedHandler:function(b){if(b)alert(j.EJS.Helpers.prototype.msg("auth.register.userExists"));else{b=new function(){};b.email=j.trim(j("#reg_email").attr("value"));b.firstName=j.trim(j("#reg_firstName").attr("value"));b.lastName=j.trim(j("#reg_lastName").attr("value"));Shop.Models.Customer.register(b,this.proxy("_customerCreatedHandler"))}},_customerCreatedHandler:function(b){alert(j.EJS.Helpers.prototype.msg("auth.register.userCreated"));window.location.href="#view=signin&phase=verifyPIN&email="+
b.email},_validateInputForm:function(){var b=j("#reg_email").attr("value");if(j.trim(b)==""){alert(j.EJS.Helpers.prototype.msg("customer.registration.validation.emptyEmailAddress"));return false}if(!Shop.Utils.isEmailAddressValid(b)){alert(j.EJS.Helpers.prototype.msg("customer.registration.validation.invalidEmailFormat"));return false}return true},_renderConfirmation:function(){this.element.html(this.view("registerConfirmation",this))},_render:function(){this.element.html(this.view("registerForm"))}})});
steal.loaded("shop/auth/register/register.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view").then("./views/signinForm.ejs","./views/pinForm.ejs","./views/signedIn.ejs","./views/success.ejs",function(j){j.Controller("Shop.Auth.Signin",{email:null,getSigninEmail:function(){return this.signinEmail},setSigninEmail:function(b){this.signinEmail=b}},{init:function(){this._render()},update:function(){this._render()},"#signinForm #submitButton click":function(){this._submitEmail()},"#pinForm #submitButton click":function(){this._submitPin()},
_submitEmail:function(){if(this._validateInputForm()){var b=j.trim(j("#reg_email").attr("value"));this.Class.setSigninEmail(b);Shop.Models.Customer.sendSigninEmail(b,this.proxy("_emailSentHandler"))}},_emailSentHandler:function(b){if(b){this._renderPinForm();alert(j.EJS.Helpers.prototype.msg("auth.signin.emailSent"))}else alert(j.EJS.Helpers.prototype.msg("auth.signin.userNotExist"))},_submitPin:function(){var b=j.trim(j("#reg_pin").attr("value")),o=this.Class.getSigninEmail();Shop.Models.Customer.findByPin(o,
b,this.proxy("_pinSentHandler"))},_pinSentHandler:function(b){if(b){Shop.Main.setToken(b.token);this.Class.setSigninEmail(null);this._renderSuccess();Shop.Main.reloadCustomer()}else alert(j.EJS.Helpers.prototype.msg("customer.registration.validation.invalidPIN"))},_validateInputForm:function(){var b=j("#reg_email").attr("value");if(j.trim(b)==""){alert(j.EJS.Helpers.prototype.msg("customer.registration.validation.emptyEmailAddress"));return false}if(!Shop.Utils.isEmailAddressValid(b)){alert(j.EJS.Helpers.prototype.msg("customer.registration.validation.invalidEmailFormat"));
return false}return true},_render:function(){if(Shop.Main.getCustomer())this._renderSignedInForm();else if(Shop.params.phase=="verifyPIN"){this.Class.setSigninEmail(Shop.params.email);this._renderPinForm()}else this._renderRequestForm()},_renderRequestForm:function(){this.element.html(this.view("signinForm"))},_renderSuccess:function(){this.element.html(this.view("success"))},_renderSignedInForm:function(){this.element.html(this.view("signedIn"))},_renderPinForm:function(){this.element.html(this.view("pinForm"))}})});
steal.loaded("shop/auth/signin/signin.js");steal("./article.js","./order.js","./customer.js","./deliveryLocation.js","./dictionary.js","./category.js");steal.loaded("shop/models/models.js");
steal("jquery","jquery/lang/string",function(j){var b=false,o=j.makeArray,r=j.isFunction,x=j.isArray,I=j.extend,M=j.String.getObject,P=function(G,W){return G.concat(o(W))},X=/xyz/.test(function(){})?/\b_super\b/:/.*/,Z=function(G,W,ba){ba=ba||G;for(var Y in G)ba[Y]=r(G[Y])&&r(W[Y])&&X.test(G[Y])?function(ea,na){return function(){var la=this._super,ga;this._super=W[ea];ga=na.apply(this,arguments);this._super=la;return ga}}(Y,G[Y]):G[Y]};clss=j.Class=function(){arguments.length&&clss.extend.apply(clss,
arguments)};I(clss,{proxy:function(G){var W=o(arguments),ba;G=W.shift();x(G)||(G=[G]);ba=this;return function(){for(var Y=P(W,arguments),ea,na=G.length,la=0,ga;la<na;la++)if(ga=G[la]){if((ea=typeof ga=="string")&&ba._set_called)ba.called=ga;Y=(ea?ba[ga]:ga).apply(ba,Y||[]);if(la<na-1)Y=!x(Y)||Y._use_call?[Y]:Y}return Y}},newInstance:function(){var G=this.rawInstance(),W;if(G.setup)W=G.setup.apply(G,arguments);if(G.init)G.init.apply(G,x(W)?W:arguments);return G},setup:function(G){this.defaults=I(true,
{},G.defaults,this.defaults);return arguments},rawInstance:function(){b=true;var G=new this;b=false;return G},extend:function(G,W,ba){function Y(){if(!b)return this.constructor!==Y&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.Class.newInstance.apply(this.Class,arguments)}if(typeof G!="string"){ba=W;W=G;G=null}if(!ba){ba=W;W=null}ba=ba||{};var ea=this,na=this.prototype,la,ga,D,m;b=true;m=new this;b=false;Z(ba,na,m);for(la in this)if(this.hasOwnProperty(la))Y[la]=
this[la];Z(W,this,Y);if(G){D=G.split(/\./);ga=D.pop();D=na=M(D.join("."),window,true);na[ga]=Y}I(Y,{prototype:m,namespace:D,shortName:ga,constructor:Y,fullName:G});Y.prototype.Class=Y.prototype.constructor=Y;ga=Y.setup.apply(Y,P([ea],arguments));if(Y.init)Y.init.apply(Y,ga||P([ea],arguments));return Y}});clss.callback=clss.prototype.callback=clss.prototype.proxy=clss.proxy})();steal.loaded("jquery/class/class.js");
steal("jquery").then(function(j){var b={undHash:/_|-/,colons:/::/,words:/([A-Z]+)([A-Z][a-z])/g,lowUp:/([a-z\d])([A-Z])/g,dash:/([a-z\d])([A-Z])/g,replacer:/\{([^\}]+)\}/g,dot:/\./},o=function(M,P,X){return M[P]!==undefined?M[P]:X&&(M[P]={})},r=function(M){var P=typeof M;return M&&(P=="function"||P=="object")},x,I=j.String=j.extend(j.String||{},{getObject:x=function(M,P,X){M=M?M.split(b.dot):[];var Z=M.length,G,W,ba,Y=0;P=j.isArray(P)?P:[P||window];if(Z==0)return P[0];for(;G=P[Y++];){for(ba=0;ba<
Z-1&&r(G);ba++)G=o(G,M[ba],X);if(r(G)){W=o(G,M[ba],X);if(W!==undefined){X===false&&delete G[M[ba]];return W}}}},capitalize:function(M){return M.charAt(0).toUpperCase()+M.substr(1)},camelize:function(M){M=I.classize(M);return M.charAt(0).toLowerCase()+M.substr(1)},classize:function(M,P){M=M.split(b.undHash);for(var X=0;X<M.length;X++)M[X]=I.capitalize(M[X]);return M.join(P||"")},niceName:function(M){return I.classize(M," ")},underscore:function(M){return M.replace(b.colons,"/").replace(b.words,"$1_$2").replace(b.lowUp,
"$1_$2").replace(b.dash,"_").toLowerCase()},sub:function(M,P,X){var Z=[];X=typeof X=="boolean"?!X:X;Z.push(M.replace(b.replacer,function(G,W){G=x(W,P,X);if(r(G)){Z.push(G);return""}else return""+G}));return Z.length<=1?Z[0]:Z},_regs:b})});steal.loaded("jquery/lang/string/string.js");steal("jquery/event").then(function(j){var b=jQuery.cleanData;j.cleanData=function(o){for(var r=0,x;(x=o[r])!==undefined;r++)j(x).triggerHandler("destroyed");b(o)}});steal.loaded("jquery/event/destroyed/destroyed.js");
(function(j,b){function o(a){var c=va[a]={},e,f;a=a.split(/\s+/);e=0;for(f=a.length;e<f;e++)c[a[e]]=true;return c}function r(a,c,e){if(e===b&&a.nodeType===1){e="data-"+c.replace(tb,"-$1").toLowerCase();e=a.getAttribute(e);if(typeof e==="string"){try{e=e==="true"?true:e==="false"?false:e==="null"?null:d.isNumeric(e)?parseFloat(e):ub.test(e)?d.parseJSON(e):e}catch(f){}d.data(a,c,e)}else e=b}return e}function x(a){for(var c in a)if(!(c==="data"&&d.isEmptyObject(a[c])))if(c!=="toJSON")return false;return true}
function I(a,c,e){var f=c+"defer",g=c+"queue",h=c+"mark",l=d._data(a,f);if(l&&(e==="queue"||!d._data(a,g))&&(e==="mark"||!d._data(a,h)))setTimeout(function(){if(!d._data(a,g)&&!d._data(a,h)){d.removeData(a,f,true);l.fire()}},0)}function M(){return false}function P(){return true}function X(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function Z(a,c,e){c=c||0;if(d.isFunction(c))return d.grep(a,function(g,h){return!!c.call(g,h,g)===e});else if(c.nodeType)return d.grep(a,function(g){return g===
c===e});else if(typeof c==="string"){var f=d.grep(a,function(g){return g.nodeType===1});if(vb.test(c))return d.filter(c,f,!e);else c=d.filter(c,f)}return d.grep(a,function(g){return d.inArray(g,c)>=0===e})}function G(a){var c=Ta.split("|");a=a.createDocumentFragment();if(a.createElement)for(;c.length;)a.createElement(c.pop());return a}function W(a){return d.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ba(a,c){if(!(c.nodeType!==
1||!d.hasData(a))){var e,f,g;f=d._data(a);a=d._data(c,f);var h=f.events;if(h){delete a.handle;a.events={};for(e in h){f=0;for(g=h[e].length;f<g;f++)d.event.add(c,e+(h[e][f].namespace?".":"")+h[e][f].namespace,h[e][f],h[e][f].data)}}if(a.data)a.data=d.extend({},a.data)}}function Y(a,c){var e;if(c.nodeType===1){c.clearAttributes&&c.clearAttributes();c.mergeAttributes&&c.mergeAttributes(a);e=c.nodeName.toLowerCase();if(e==="object")c.outerHTML=a.outerHTML;else if(e==="input"&&(a.type==="checkbox"||a.type===
"radio")){if(a.checked)c.defaultChecked=c.checked=a.checked;if(c.value!==a.value)c.value=a.value}else if(e==="option")c.selected=a.defaultSelected;else if(e==="input"||e==="textarea")c.defaultValue=a.defaultValue;c.removeAttribute(d.expando)}}function ea(a){return typeof a.getElementsByTagName!=="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!=="undefined"?a.querySelectorAll("*"):[]}function na(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function la(a){var c=
(a.nodeName||"").toLowerCase();if(c==="input")na(a);else c!=="script"&&typeof a.getElementsByTagName!=="undefined"&&d.grep(a.getElementsByTagName("input"),na)}function ga(a){var c=H.createElement("div");Ua.appendChild(c);c.innerHTML=a.outerHTML;return c.firstChild}function D(a,c){c.src?d.ajax({url:c.src,async:false,dataType:"script"}):d.globalEval((c.text||c.textContent||c.innerHTML||"").replace(wb,"/*$0*/"));c.parentNode&&c.parentNode.removeChild(c)}function m(a,c,e){var f=c==="width"?a.offsetWidth:
a.offsetHeight,g=c==="width"?xb:yb,h=0,l=g.length;if(f>0){if(e!=="border")for(;h<l;h++){e||(f-=parseFloat(d.css(a,"padding"+g[h]))||0);if(e==="margin")f+=parseFloat(d.css(a,e+g[h]))||0;else f-=parseFloat(d.css(a,"border"+g[h]+"Width"))||0}return f+"px"}f=Fa(a,c,c);if(f<0||f==null)f=a.style[c]||0;f=parseFloat(f)||0;if(e)for(;h<l;h++){f+=parseFloat(d.css(a,"padding"+g[h]))||0;if(e!=="padding")f+=parseFloat(d.css(a,"border"+g[h]+"Width"))||0;if(e==="margin")f+=parseFloat(d.css(a,e+g[h]))||0}return f+
"px"}function s(a){return function(c,e){if(typeof c!=="string"){e=c;c="*"}if(d.isFunction(e)){c=c.toLowerCase().split(Va);for(var f=0,g=c.length,h,l;f<g;f++){h=c[f];if(l=/^\+/.test(h))h=h.substr(1)||"*";h=a[h]=a[h]||[];h[l?"unshift":"push"](e)}}}}function B(a,c,e,f,g,h){g=g||c.dataTypes[0];h=h||{};h[g]=true;g=a[g];for(var l=0,n=g?g.length:0,p=a===Ma,u;l<n&&(p||!u);l++){u=g[l](c,e,f);if(typeof u==="string")if(!p||h[u])u=b;else{c.dataTypes.unshift(u);u=B(a,c,e,f,u,h)}}if((p||!u)&&!h["*"])u=B(a,c,e,
f,"*",h);return u}function Q(a,c){var e,f,g=d.ajaxSettings.flatOptions||{};for(e in c)if(c[e]!==b)(g[e]?a:f||(f={}))[e]=c[e];f&&d.extend(true,a,f)}function v(a,c,e,f){if(d.isArray(c))d.each(c,function(h,l){e||zb.test(a)?f(a,l):v(a+"["+(typeof l==="object"||d.isArray(l)?h:"")+"]",l,e,f)});else if(!e&&c!=null&&typeof c==="object")for(var g in c)v(a+"["+g+"]",c[g],e,f);else f(a,c)}function y(a,c,e){var f=a.contents,g=a.dataTypes,h=a.responseFields,l,n,p,u;for(n in h)if(n in e)c[h[n]]=e[n];for(;g[0]===
"*";){g.shift();if(l===b)l=a.mimeType||c.getResponseHeader("content-type")}if(l)for(n in f)if(f[n]&&f[n].test(l)){g.unshift(n);break}if(g[0]in e)p=g[0];else{for(n in e){if(!g[0]||a.converters[n+" "+g[0]]){p=n;break}u||(u=n)}p=p||u}if(p){p!==g[0]&&g.unshift(p);return e[p]}}function t(a,c){if(a.dataFilter)c=a.dataFilter(c,a.dataType);var e=a.dataTypes,f={},g,h,l=e.length,n,p=e[0],u,L,A,R,K;for(g=1;g<l;g++){if(g===1)for(h in a.converters)if(typeof h==="string")f[h.toLowerCase()]=a.converters[h];u=p;
p=e[g];if(p==="*")p=u;else if(u!=="*"&&u!==p){L=u+" "+p;A=f[L]||f["* "+p];if(!A){K=b;for(R in f){n=R.split(" ");if(n[0]===u||n[0]==="*")if(K=f[n[1]+" "+p]){R=f[R];if(R===true)A=K;else if(K===true)A=R;break}}}A||K||d.error("No conversion from "+L.replace(" "," to "));if(A!==true)c=A?A(c):K(R(c))}}return c}function E(){try{return new j.XMLHttpRequest}catch(a){}}function U(){try{return new j.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}function ca(){setTimeout(N,0);return Ia=d.now()}function N(){Ia=
b}function aa(a,c){var e={};d.each(Wa.concat.apply([],Wa.slice(0,c)),function(){e[this]=a});return e}function ja(a){if(!Na[a]){var c=H.body,e=d("<"+a+">").appendTo(c),f=e.css("display");e.remove();if(f==="none"||f===""){if(!za){za=H.createElement("iframe");za.frameBorder=za.width=za.height=0}c.appendChild(za);if(!Ga||!za.createElement){Ga=(za.contentWindow||za.contentDocument).document;Ga.write((H.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");Ga.close()}e=Ga.createElement(a);Ga.body.appendChild(e);
f=d.css(e,"display");c.removeChild(za)}Na[a]=f}return Na[a]}function ma(a){return d.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:false}var H=j.document,oa=j.navigator,ha=j.location,d=function(){function a(){if(!c.isReady){try{H.documentElement.doScroll("left")}catch(q){setTimeout(a,1);return}c.ready()}}var c=function(q,F){return new c.fn.init(q,F,g)},e=j.jQuery,f=j.$,g,h=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,l=/\S/,n=/^\s+/,p=/\s+$/,u=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,L=/^[\],:{}\s]*$/,
A=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,R=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,K=/(?:^|:|,)(?:\s*\[)+/g,da=/(webkit)[ \/]([\w.]+)/,qa=/(opera)(?:.*version)?[ \/]([\w.]+)/,sa=/(msie) ([\w.]+)/,ra=/(mozilla)(?:.*? rv:([\w.]+))?/,Ba=/-([a-z]|[0-9])/ig,fa=/^-ms-/,Aa=function(q,F){return(F+"").toUpperCase()},ya=oa.userAgent,i,k,w=Object.prototype.toString,z=Object.prototype.hasOwnProperty,C=Array.prototype.push,J=Array.prototype.slice,S=String.prototype.trim,V=Array.prototype.indexOf,
ka={};c.fn=c.prototype={constructor:c,init:function(q,F,T){var O;if(!q)return this;if(q.nodeType){this.context=this[0]=q;this.length=1;return this}if(q==="body"&&!F&&H.body){this.context=H;this[0]=H.body;this.selector=q;this.length=1;return this}if(typeof q==="string")if((O=q.charAt(0)==="<"&&q.charAt(q.length-1)===">"&&q.length>=3?[null,q,null]:h.exec(q))&&(O[1]||!F))if(O[1]){T=(F=F instanceof c?F[0]:F)?F.ownerDocument||F:H;if(q=u.exec(q))if(c.isPlainObject(F)){q=[H.createElement(q[1])];c.fn.attr.call(q,
F,true)}else q=[T.createElement(q[1])];else{q=c.buildFragment([O[1]],[T]);q=(q.cacheable?c.clone(q.fragment):q.fragment).childNodes}return c.merge(this,q)}else{if((F=H.getElementById(O[2]))&&F.parentNode){if(F.id!==O[2])return T.find(q);this.length=1;this[0]=F}this.context=H;this.selector=q;return this}else return!F||F.jquery?(F||T).find(q):this.constructor(F).find(q);else if(c.isFunction(q))return T.ready(q);if(q.selector!==b){this.selector=q.selector;this.context=q.context}return c.makeArray(q,
this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return J.call(this,0)},get:function(q){return q==null?this.toArray():q<0?this[this.length+q]:this[q]},pushStack:function(q,F,T){var O=this.constructor();c.isArray(q)?C.apply(O,q):c.merge(O,q);O.prevObject=this;O.context=this.context;if(F==="find")O.selector=this.selector+(this.selector?" ":"")+T;else if(F)O.selector=this.selector+"."+F+"("+T+")";return O},each:function(q,F){return c.each(this,q,F)},ready:function(q){c.bindReady();
i.add(q);return this},eq:function(q){q=+q;return q===-1?this.slice(q):this.slice(q,q+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(J.apply(this,arguments),"slice",J.call(arguments).join(","))},map:function(q){return this.pushStack(c.map(this,function(F,T){return q.call(F,T,F)}))},end:function(){return this.prevObject||this.constructor(null)},push:C,sort:[].sort,splice:[].splice};c.fn.init.prototype=c.fn;c.extend=c.fn.extend=function(){var q,
F,T,O,pa,ia=arguments[0]||{},ta=1,ua=arguments.length,Oa=false;if(typeof ia==="boolean"){Oa=ia;ia=arguments[1]||{};ta=2}if(typeof ia!=="object"&&!c.isFunction(ia))ia={};if(ua===ta){ia=this;--ta}for(;ta<ua;ta++)if((q=arguments[ta])!=null)for(F in q){T=ia[F];O=q[F];if(ia!==O)if(Oa&&O&&(c.isPlainObject(O)||(pa=c.isArray(O)))){if(pa){pa=false;T=T&&c.isArray(T)?T:[]}else T=T&&c.isPlainObject(T)?T:{};ia[F]=c.extend(Oa,T,O)}else if(O!==b)ia[F]=O}return ia};c.extend({noConflict:function(q){if(j.$===c)j.$=
f;if(q&&j.jQuery===c)j.jQuery=e;return c},isReady:false,readyWait:1,holdReady:function(q){if(q)c.readyWait++;else c.ready(true)},ready:function(q){if(q===true&&!--c.readyWait||q!==true&&!c.isReady){if(!H.body)return setTimeout(c.ready,1);c.isReady=true;if(!(q!==true&&--c.readyWait>0)){i.fireWith(H,[c]);c.fn.trigger&&c(H).trigger("ready").off("ready")}}},bindReady:function(){if(!i){i=c.Callbacks("once memory");if(H.readyState==="complete")return setTimeout(c.ready,1);if(H.addEventListener){H.addEventListener("DOMContentLoaded",
k,false);j.addEventListener("load",c.ready,false)}else if(H.attachEvent){H.attachEvent("onreadystatechange",k);j.attachEvent("onload",c.ready);var q=false;try{q=j.frameElement==null}catch(F){}H.documentElement.doScroll&&q&&a()}}},isFunction:function(q){return c.type(q)==="function"},isArray:Array.isArray||function(q){return c.type(q)==="array"},isWindow:function(q){return q&&typeof q==="object"&&"setInterval"in q},isNumeric:function(q){return!isNaN(parseFloat(q))&&isFinite(q)},type:function(q){return q==
null?String(q):ka[w.call(q)]||"object"},isPlainObject:function(q){if(!q||c.type(q)!=="object"||q.nodeType||c.isWindow(q))return false;try{if(q.constructor&&!z.call(q,"constructor")&&!z.call(q.constructor.prototype,"isPrototypeOf"))return false}catch(F){return false}var T;for(T in q);return T===b||z.call(q,T)},isEmptyObject:function(q){for(var F in q)return false;return true},error:function(q){throw new Error(q);},parseJSON:function(q){if(typeof q!=="string"||!q)return null;q=c.trim(q);if(j.JSON&&
j.JSON.parse)return j.JSON.parse(q);if(L.test(q.replace(A,"@").replace(R,"]").replace(K,"")))return(new Function("return "+q))();c.error("Invalid JSON: "+q)},parseXML:function(q){var F,T;try{if(j.DOMParser){T=new DOMParser;F=T.parseFromString(q,"text/xml")}else{F=new ActiveXObject("Microsoft.XMLDOM");F.async="false";F.loadXML(q)}}catch(O){F=b}if(!F||!F.documentElement||F.getElementsByTagName("parsererror").length)c.error("Invalid XML: "+q);return F},noop:function(){},globalEval:function(q){if(q&&
l.test(q))(j.execScript||function(F){j.eval.call(j,F)})(q)},camelCase:function(q){return q.replace(fa,"ms-").replace(Ba,Aa)},nodeName:function(q,F){return q.nodeName&&q.nodeName.toUpperCase()===F.toUpperCase()},each:function(q,F,T){var O,pa=0,ia=q.length,ta=ia===b||c.isFunction(q);if(T)if(ta)for(O in q){if(F.apply(q[O],T)===false)break}else for(;pa<ia;){if(F.apply(q[pa++],T)===false)break}else if(ta)for(O in q){if(F.call(q[O],O,q[O])===false)break}else for(;pa<ia;)if(F.call(q[pa],pa,q[pa++])===false)break;
return q},trim:S?function(q){return q==null?"":S.call(q)}:function(q){return q==null?"":q.toString().replace(n,"").replace(p,"")},makeArray:function(q,F){F=F||[];if(q!=null){var T=c.type(q);q.length==null||T==="string"||T==="function"||T==="regexp"||c.isWindow(q)?C.call(F,q):c.merge(F,q)}return F},inArray:function(q,F,T){var O;if(F){if(V)return V.call(F,q,T);O=F.length;for(T=T?T<0?Math.max(0,O+T):T:0;T<O;T++)if(T in F&&F[T]===q)return T}return-1},merge:function(q,F){var T=q.length,O=0;if(typeof F.length===
"number")for(var pa=F.length;O<pa;O++)q[T++]=F[O];else for(;F[O]!==b;)q[T++]=F[O++];q.length=T;return q},grep:function(q,F,T){var O=[],pa;T=!!T;for(var ia=0,ta=q.length;ia<ta;ia++){pa=!!F(q[ia],ia);T!==pa&&O.push(q[ia])}return O},map:function(q,F,T){var O,pa,ia=[],ta=0,ua=q.length;if(q instanceof c||ua!==b&&typeof ua==="number"&&(ua>0&&q[0]&&q[ua-1]||ua===0||c.isArray(q)))for(;ta<ua;ta++){O=F(q[ta],ta,T);if(O!=null)ia[ia.length]=O}else for(pa in q){O=F(q[pa],pa,T);if(O!=null)ia[ia.length]=O}return ia.concat.apply([],
ia)},guid:1,proxy:function(q,F){if(typeof F==="string"){var T=q[F];F=q;q=T}if(!c.isFunction(q))return b;var O=J.call(arguments,2);T=function(){return q.apply(F,O.concat(J.call(arguments)))};T.guid=q.guid=q.guid||T.guid||c.guid++;return T},access:function(q,F,T,O,pa,ia){var ta=q.length;if(typeof F==="object"){for(var ua in F)c.access(q,ua,F[ua],O,pa,T);return q}if(T!==b){O=!ia&&O&&c.isFunction(T);for(ua=0;ua<ta;ua++)pa(q[ua],F,O?T.call(q[ua],ua,pa(q[ua],F)):T,ia);return q}return ta?pa(q[0],F):b},now:function(){return(new Date).getTime()},
uaMatch:function(q){q=q.toLowerCase();q=da.exec(q)||qa.exec(q)||sa.exec(q)||q.indexOf("compatible")<0&&ra.exec(q)||[];return{browser:q[1]||"",version:q[2]||"0"}},sub:function(){function q(T,O){return new q.fn.init(T,O)}c.extend(true,q,this);q.superclass=this;q.fn=q.prototype=this();q.fn.constructor=q;q.sub=this.sub;q.fn.init=function(T,O){if(O&&O instanceof c&&!(O instanceof q))O=q(O);return c.fn.init.call(this,T,O,F)};q.fn.init.prototype=q.fn;var F=q(H);return q},browser:{}});c.each("Boolean Number String Function Array Date RegExp Object".split(" "),
function(q,F){ka["[object "+F+"]"]=F.toLowerCase()});ya=c.uaMatch(ya);if(ya.browser){c.browser[ya.browser]=true;c.browser.version=ya.version}if(c.browser.webkit)c.browser.safari=true;if(l.test("\u00a0")){n=/^[\s\xA0]+/;p=/[\s\xA0]+$/}g=c(H);if(H.addEventListener)k=function(){H.removeEventListener("DOMContentLoaded",k,false);c.ready()};else if(H.attachEvent)k=function(){if(H.readyState==="complete"){H.detachEvent("onreadystatechange",k);c.ready()}};return c}(),va={};d.Callbacks=function(a){a=a?va[a]||
o(a):{};var c=[],e=[],f,g,h,l,n,p=function(A){var R,K,da,qa;R=0;for(K=A.length;R<K;R++){da=A[R];qa=d.type(da);if(qa==="array")p(da);else if(qa==="function")if(!a.unique||!L.has(da))c.push(da)}},u=function(A,R){R=R||[];f=!a.memory||[A,R];g=true;n=h||0;h=0;for(l=c.length;c&&n<l;n++)if(c[n].apply(A,R)===false&&a.stopOnFalse){f=true;break}g=false;if(c)if(a.once)if(f===true)L.disable();else c=[];else if(e&&e.length){f=e.shift();L.fireWith(f[0],f[1])}},L={add:function(){if(c){var A=c.length;p(arguments);
if(g)l=c.length;else if(f&&f!==true){h=A;u(f[0],f[1])}}return this},remove:function(){if(c)for(var A=arguments,R=0,K=A.length;R<K;R++)for(var da=0;da<c.length;da++)if(A[R]===c[da]){if(g)if(da<=l){l--;da<=n&&n--}c.splice(da--,1);if(a.unique)break}return this},has:function(A){if(c)for(var R=0,K=c.length;R<K;R++)if(A===c[R])return true;return false},empty:function(){c=[];return this},disable:function(){c=e=f=b;return this},disabled:function(){return!c},lock:function(){e=b;if(!f||f===true)L.disable();
return this},locked:function(){return!e},fireWith:function(A,R){if(e)if(g)a.once||e.push([A,R]);else a.once&&f||u(A,R);return this},fire:function(){L.fireWith(this,arguments);return this},fired:function(){return!!f}};return L};var xa=[].slice;d.extend({Deferred:function(a){var c=d.Callbacks("once memory"),e=d.Callbacks("once memory"),f=d.Callbacks("memory"),g="pending",h={resolve:c,reject:e,notify:f},l={done:c.add,fail:e.add,progress:f.add,state:function(){return g},isResolved:c.fired,isRejected:e.fired,
then:function(u,L,A){n.done(u).fail(L).progress(A);return this},always:function(){n.done.apply(n,arguments).fail.apply(n,arguments);return this},pipe:function(u,L,A){return d.Deferred(function(R){d.each({done:[u,"resolve"],fail:[L,"reject"],progress:[A,"notify"]},function(K,da){var qa=da[0],sa=da[1],ra;d.isFunction(qa)?n[K](function(){(ra=qa.apply(this,arguments))&&d.isFunction(ra.promise)?ra.promise().then(R.resolve,R.reject,R.notify):R[sa+"With"](this===n?R:this,[ra])}):n[K](R[sa])})}).promise()},
promise:function(u){if(u==null)u=l;else for(var L in l)u[L]=l[L];return u}},n=l.promise({}),p;for(p in h){n[p]=h[p].fire;n[p+"With"]=h[p].fireWith}n.done(function(){g="resolved"},e.disable,f.lock).fail(function(){g="rejected"},c.disable,f.lock);a&&a.call(n,n);return n},when:function(a){function c(L){return function(A){f[L]=arguments.length>1?xa.call(arguments,0):A;--n||p.resolveWith(p,f)}}function e(L){return function(A){l[L]=arguments.length>1?xa.call(arguments,0):A;p.notifyWith(u,l)}}var f=xa.call(arguments,
0),g=0,h=f.length,l=new Array(h),n=h,p=h<=1&&a&&d.isFunction(a.promise)?a:d.Deferred(),u=p.promise();if(h>1){for(;g<h;g++)if(f[g]&&f[g].promise&&d.isFunction(f[g].promise))f[g].promise().then(c(g),p.reject,e(g));else--n;n||p.resolveWith(p,f)}else if(p!==a)p.resolveWith(p,h?[a]:[]);return u}});d.support=function(){var a,c,e,f,g,h,l,n,p=H.createElement("div");p.setAttribute("className","t");p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
c=p.getElementsByTagName("*");e=p.getElementsByTagName("a")[0];if(!c||!c.length||!e)return{};f=H.createElement("select");g=f.appendChild(H.createElement("option"));c=p.getElementsByTagName("input")[0];a={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,
checkOn:c.value==="on",optSelected:g.selected,getSetAttribute:p.className!=="t",enctype:!!H.createElement("form").enctype,html5Clone:H.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};c.checked=true;a.noCloneChecked=c.cloneNode(true).checked;f.disabled=true;a.optDisabled=!g.disabled;try{delete p.test}catch(u){a.deleteExpando=
false}if(!p.addEventListener&&p.attachEvent&&p.fireEvent){p.attachEvent("onclick",function(){a.noCloneEvent=false});p.cloneNode(true).fireEvent("onclick")}c=H.createElement("input");c.value="t";c.setAttribute("type","radio");a.radioValue=c.value==="t";c.setAttribute("checked","checked");p.appendChild(c);e=H.createDocumentFragment();e.appendChild(p.lastChild);a.checkClone=e.cloneNode(true).cloneNode(true).lastChild.checked;a.appendChecked=c.checked;e.removeChild(c);e.appendChild(p);p.innerHTML="";
if(j.getComputedStyle){c=H.createElement("div");c.style.width="0";c.style.marginRight="0";p.style.width="2px";p.appendChild(c);a.reliableMarginRight=(parseInt((j.getComputedStyle(c,null)||{marginRight:0}).marginRight,10)||0)===0}if(p.attachEvent)for(l in{submit:1,change:1,focusin:1}){c="on"+l;n=c in p;if(!n){p.setAttribute(c,"return;");n=typeof p[c]==="function"}a[l+"Bubbles"]=n}e.removeChild(p);e=f=g=c=p=c=null;d(function(){var L,A,R,K,da=H.getElementsByTagName("body")[0];if(da){L=H.createElement("div");
L.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";da.insertBefore(L,da.firstChild);p=H.createElement("div");L.appendChild(p);p.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";h=p.getElementsByTagName("td");n=h[0].offsetHeight===0;h[0].style.display="";h[1].style.display="none";a.reliableHiddenOffsets=n&&h[0].offsetHeight===0;p.innerHTML="";p.style.width=p.style.paddingLeft="1px";d.boxModel=a.boxModel=
p.offsetWidth===2;if(typeof p.style.zoom!=="undefined"){p.style.display="inline";p.style.zoom=1;a.inlineBlockNeedsLayout=p.offsetWidth===2;p.style.display="";p.innerHTML="<div style='width:4px;'></div>";a.shrinkWrapBlocks=p.offsetWidth!==2}p.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;visibility:hidden;border:0;";p.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;'><div></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
A=p.firstChild;R=A.firstChild;K={doesNotAddBorder:R.offsetTop!==5,doesAddBorderForTableAndCells:A.nextSibling.firstChild.firstChild.offsetTop===5};R.style.position="fixed";R.style.top="20px";K.fixedPosition=R.offsetTop===20||R.offsetTop===15;R.style.position=R.style.top="";A.style.overflow="hidden";A.style.position="relative";K.subtractsBorderForOverflowNotVisible=R.offsetTop===-5;K.doesNotIncludeMarginInBodyOffset=da.offsetTop!==1;da.removeChild(L);p=null;d.extend(a,K)}});return a}();var ub=/^(?:\{.*\}|\[.*\])$/,
tb=/([A-Z])/g;d.extend({cache:{},uuid:0,expando:"jQuery"+(d.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(a){a=a.nodeType?d.cache[a[d.expando]]:a[d.expando];return!!a&&!x(a)},data:function(a,c,e,f){if(d.acceptData(a)){var g;g=d.expando;var h=typeof c==="string",l=a.nodeType,n=l?d.cache:a,p=l?a[g]:a[g]&&g,u=c==="events";if(!((!p||!n[p]||!u&&!f&&!n[p].data)&&h&&e===b)){if(!p)if(l)a[g]=p=++d.uuid;else p=
g;if(!n[p]){n[p]={};if(!l)n[p].toJSON=d.noop}if(typeof c==="object"||typeof c==="function")if(f)n[p]=d.extend(n[p],c);else n[p].data=d.extend(n[p].data,c);g=a=n[p];if(!f){if(!a.data)a.data={};a=a.data}if(e!==b)a[d.camelCase(c)]=e;if(u&&!a[c])return g.events;if(h){e=a[c];if(e==null)e=a[d.camelCase(c)]}else e=a;return e}}},removeData:function(a,c,e){if(d.acceptData(a)){var f,g,h,l=d.expando,n=a.nodeType,p=n?d.cache:a,u=n?a[l]:l;if(p[u]){if(c)if(f=e?p[u]:p[u].data){if(!d.isArray(c))if(c in f)c=[c];else{c=
d.camelCase(c);c=c in f?[c]:c.split(" ")}g=0;for(h=c.length;g<h;g++)delete f[c[g]];if(!(e?x:d.isEmptyObject)(f))return}if(!e){delete p[u].data;if(!x(p[u]))return}if(d.support.deleteExpando||!p.setInterval)delete p[u];else p[u]=null;if(n)if(d.support.deleteExpando)delete a[l];else if(a.removeAttribute)a.removeAttribute(l);else a[l]=null}}},_data:function(a,c,e){return d.data(a,c,e,true)},acceptData:function(a){if(a.nodeName){var c=d.noData[a.nodeName.toLowerCase()];if(c)return!(c===true||a.getAttribute("classid")!==
c)}return true}});d.fn.extend({data:function(a,c){var e,f,g,h=null;if(typeof a==="undefined"){if(this.length){h=d.data(this[0]);if(this[0].nodeType===1&&!d._data(this[0],"parsedAttrs")){f=this[0].attributes;for(var l=0,n=f.length;l<n;l++){g=f[l].name;if(g.indexOf("data-")===0){g=d.camelCase(g.substring(5));r(this[0],g,h[g])}}d._data(this[0],"parsedAttrs",true)}}return h}else if(typeof a==="object")return this.each(function(){d.data(this,a)});e=a.split(".");e[1]=e[1]?"."+e[1]:"";if(c===b){h=this.triggerHandler("getData"+
e[1]+"!",[e[0]]);if(h===b&&this.length){h=d.data(this[0],a);h=r(this[0],a,h)}return h===b&&e[1]?this.data(e[0]):h}else return this.each(function(){var p=d(this),u=[e[0],c];p.triggerHandler("setData"+e[1]+"!",u);d.data(this,a,c);p.triggerHandler("changeData"+e[1]+"!",u)})},removeData:function(a){return this.each(function(){d.removeData(this,a)})}});d.extend({_mark:function(a,c){if(a){c=(c||"fx")+"mark";d._data(a,c,(d._data(a,c)||0)+1)}},_unmark:function(a,c,e){if(a!==true){e=c;c=a;a=false}if(c){e=
e||"fx";var f=e+"mark";if(a=a?0:(d._data(c,f)||1)-1)d._data(c,f,a);else{d.removeData(c,f,true);I(c,e,"mark")}}},queue:function(a,c,e){var f;if(a){c=(c||"fx")+"queue";f=d._data(a,c);if(e)if(!f||d.isArray(e))f=d._data(a,c,d.makeArray(e));else f.push(e);return f||[]}},dequeue:function(a,c){c=c||"fx";var e=d.queue(a,c),f=e.shift(),g={};if(f==="inprogress")f=e.shift();if(f){c==="fx"&&e.unshift("inprogress");d._data(a,c+".run",g);f.call(a,function(){d.dequeue(a,c)},g)}if(!e.length){d.removeData(a,c+"queue "+
c+".run",true);I(a,c,"queue")}}});d.fn.extend({queue:function(a,c){if(typeof a!=="string"){c=a;a="fx"}if(c===b)return d.queue(this[0],a);return this.each(function(){var e=d.queue(this,a,c);a==="fx"&&e[0]!=="inprogress"&&d.dequeue(this,a)})},dequeue:function(a){return this.each(function(){d.dequeue(this,a)})},delay:function(a,c){a=d.fx?d.fx.speeds[a]||a:a;c=c||"fx";return this.queue(c,function(e,f){var g=setTimeout(e,a);f.stop=function(){clearTimeout(g)}})},clearQueue:function(a){return this.queue(a||
"fx",[])},promise:function(a,c){function e(){--h||f.resolveWith(g,[g])}if(typeof a!=="string"){c=a;a=b}a=a||"fx";var f=d.Deferred(),g=this;c=g.length;var h=1,l=a+"defer",n=a+"queue";a=a+"mark";for(var p;c--;)if(p=d.data(g[c],l,b,true)||(d.data(g[c],n,b,true)||d.data(g[c],a,b,true))&&d.data(g[c],l,d.Callbacks("once memory"),true)){h++;p.add(e)}e();return f.promise()}});var Xa=/[\n\t\r]/g,Ja=/\s+/,Ab=/\r/g,Bb=/^(?:button|input)$/i,Cb=/^(?:button|input|object|select|textarea)$/i,Db=/^a(?:rea)?$/i,Ya=
/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Za=d.support.getSetAttribute,Ca,$a,ab;d.fn.extend({attr:function(a,c){return d.access(this,a,c,true,d.attr)},removeAttr:function(a){return this.each(function(){d.removeAttr(this,a)})},prop:function(a,c){return d.access(this,a,c,true,d.prop)},removeProp:function(a){a=d.propFix[a]||a;return this.each(function(){try{this[a]=b;delete this[a]}catch(c){}})},addClass:function(a){var c,
e,f,g,h,l,n;if(d.isFunction(a))return this.each(function(p){d(this).addClass(a.call(this,p,this.className))});if(a&&typeof a==="string"){c=a.split(Ja);e=0;for(f=this.length;e<f;e++){g=this[e];if(g.nodeType===1)if(!g.className&&c.length===1)g.className=a;else{h=" "+g.className+" ";l=0;for(n=c.length;l<n;l++)~h.indexOf(" "+c[l]+" ")||(h+=c[l]+" ");g.className=d.trim(h)}}}return this},removeClass:function(a){var c,e,f,g,h,l,n;if(d.isFunction(a))return this.each(function(p){d(this).removeClass(a.call(this,
p,this.className))});if(a&&typeof a==="string"||a===b){c=(a||"").split(Ja);e=0;for(f=this.length;e<f;e++){g=this[e];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(Xa," ");l=0;for(n=c.length;l<n;l++)h=h.replace(" "+c[l]+" "," ");g.className=d.trim(h)}else g.className=""}}return this},toggleClass:function(a,c){var e=typeof a,f=typeof c==="boolean";if(d.isFunction(a))return this.each(function(g){d(this).toggleClass(a.call(this,g,this.className,c),c)});return this.each(function(){if(e===
"string")for(var g,h=0,l=d(this),n=c,p=a.split(Ja);g=p[h++];){n=f?n:!l.hasClass(g);l[n?"addClass":"removeClass"](g)}else if(e==="undefined"||e==="boolean"){this.className&&d._data(this,"__className__",this.className);this.className=this.className||a===false?"":d._data(this,"__className__")||""}})},hasClass:function(a){a=" "+a+" ";for(var c=0,e=this.length;c<e;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(Xa," ").indexOf(a)>-1)return true;return false},val:function(a){var c,e,f,
g=this[0];if(arguments.length){f=d.isFunction(a);return this.each(function(h){var l=d(this);if(this.nodeType===1){h=f?a.call(this,h,l.val()):a;if(h==null)h="";else if(typeof h==="number")h+="";else if(d.isArray(h))h=d.map(h,function(n){return n==null?"":n+""});c=d.valHooks[this.nodeName.toLowerCase()]||d.valHooks[this.type];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h}})}else if(g){if((c=d.valHooks[g.nodeName.toLowerCase()]||d.valHooks[g.type])&&"get"in c&&(e=c.get(g,"value"))!==b)return e;
e=g.value;return typeof e==="string"?e.replace(Ab,""):e==null?"":e}}});d.extend({valHooks:{option:{get:function(a){var c=a.attributes.value;return!c||c.specified?a.value:a.text}},select:{get:function(a){var c,e,f=a.selectedIndex,g=[],h=a.options,l=a.type==="select-one";if(f<0)return null;a=l?f:0;for(e=l?f+1:h.length;a<e;a++){c=h[a];if(c.selected&&(d.support.optDisabled?!c.disabled:c.getAttribute("disabled")===null)&&(!c.parentNode.disabled||!d.nodeName(c.parentNode,"optgroup"))){c=d(c).val();if(l)return c;
g.push(c)}}if(l&&!g.length&&h.length)return d(h[f]).val();return g},set:function(a,c){var e=d.makeArray(c);d(a).find("option").each(function(){this.selected=d.inArray(d(this).val(),e)>=0});if(!e.length)a.selectedIndex=-1;return e}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(a,c,e,f){var g,h,l=a.nodeType;if(!(!a||l===3||l===8||l===2)){if(f&&c in d.attrFn)return d(a)[c](e);if(typeof a.getAttribute==="undefined")return d.prop(a,c,e);if(f=
l!==1||!d.isXMLDoc(a)){c=c.toLowerCase();h=d.attrHooks[c]||(Ya.test(c)?$a:Ca)}if(e!==b)if(e===null)d.removeAttr(a,c);else if(h&&"set"in h&&f&&(g=h.set(a,e,c))!==b)return g;else{a.setAttribute(c,""+e);return e}else if(h&&"get"in h&&f&&(g=h.get(a,c))!==null)return g;else{g=a.getAttribute(c);return g===null?b:g}}},removeAttr:function(a,c){var e,f,g,h=0;if(c&&a.nodeType===1){e=c.toLowerCase().split(Ja);for(g=e.length;h<g;h++)if(f=e[h]){c=d.propFix[f]||f;d.attr(a,f,"");a.removeAttribute(Za?f:c);if(Ya.test(f)&&
c in a)a[c]=false}}},attrHooks:{type:{set:function(a,c){if(Bb.test(a.nodeName)&&a.parentNode)d.error("type property can't be changed");else if(!d.support.radioValue&&c==="radio"&&d.nodeName(a,"input")){var e=a.value;a.setAttribute("type",c);if(e)a.value=e;return c}}},value:{get:function(a,c){if(Ca&&d.nodeName(a,"button"))return Ca.get(a,c);return c in a?a.value:null},set:function(a,c,e){if(Ca&&d.nodeName(a,"button"))return Ca.set(a,c,e);a.value=c}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",
"for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,e){var f,g,h=a.nodeType;if(!(!a||h===3||h===8||h===2)){if(h!==1||!d.isXMLDoc(a)){c=d.propFix[c]||c;g=d.propHooks[c]}return e!==b?g&&"set"in g&&(f=g.set(a,e,c))!==b?f:(a[c]=e):g&&"get"in g&&(f=g.get(a,c))!==null?f:a[c]}},propHooks:{tabIndex:{get:function(a){var c=
a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):Cb.test(a.nodeName)||Db.test(a.nodeName)&&a.href?0:b}}}});d.attrHooks.tabindex=d.propHooks.tabIndex;$a={get:function(a,c){var e,f=d.prop(a,c);return f===true||typeof f!=="boolean"&&(e=a.getAttributeNode(c))&&e.nodeValue!==false?c.toLowerCase():b},set:function(a,c,e){if(c===false)d.removeAttr(a,e);else{c=d.propFix[e]||e;if(c in a)a[c]=true;a.setAttribute(e,e.toLowerCase())}return e}};if(!Za){ab={name:true,id:true};Ca=d.valHooks.button=
{get:function(a,c){return(a=a.getAttributeNode(c))&&(ab[c]?a.nodeValue!=="":a.specified)?a.nodeValue:b},set:function(a,c,e){var f=a.getAttributeNode(e);if(!f){f=H.createAttribute(e);a.setAttributeNode(f)}return f.nodeValue=c+""}};d.attrHooks.tabindex.set=Ca.set;d.each(["width","height"],function(a,c){d.attrHooks[c]=d.extend(d.attrHooks[c],{set:function(e,f){if(f===""){e.setAttribute(c,"auto");return f}}})});d.attrHooks.contenteditable={get:Ca.get,set:function(a,c,e){if(c==="")c="false";Ca.set(a,c,
e)}}}d.support.hrefNormalized||d.each(["href","src","width","height"],function(a,c){d.attrHooks[c]=d.extend(d.attrHooks[c],{get:function(e){e=e.getAttribute(c,2);return e===null?b:e}})});if(!d.support.style)d.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,c){return a.style.cssText=""+c}};if(!d.support.optSelected)d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(){return null}});if(!d.support.enctype)d.propFix.enctype="encoding";d.support.checkOn||
d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(a,c){if(d.isArray(c))return a.checked=d.inArray(d(a).val(),c)>=0}})});var Pa=/^(?:textarea|input|select)$/i,bb=/^([^\.]*)?(?:\.(.+))?$/,Eb=/\bhover(\.\S+)?\b/,Fb=/^key/,Gb=/^(?:mouse|contextmenu)|click/,cb=/^(?:focusinfocus|focusoutblur)$/,Hb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,
Ib=function(a){if(a=Hb.exec(a)){a[1]=(a[1]||"").toLowerCase();a[3]=a[3]&&new RegExp("(?:^|\\s)"+a[3]+"(?:\\s|$)")}return a},Jb=function(a,c){var e=a.attributes||{};return(!c[1]||a.nodeName.toLowerCase()===c[1])&&(!c[2]||(e.id||{}).value===c[2])&&(!c[3]||c[3].test((e["class"]||{}).value))},db=function(a){return d.event.special.hover?a:a.replace(Eb,"mouseenter$1 mouseleave$1")};d.event={add:function(a,c,e,f,g){var h,l,n,p,u,L,A,R,K;if(!(a.nodeType===3||a.nodeType===8||!c||!e||!(h=d._data(a)))){if(e.handler){A=
e;e=A.handler}if(!e.guid)e.guid=d.guid++;n=h.events;if(!n)h.events=n={};l=h.handle;if(!l){h.handle=l=function(da){return typeof d!=="undefined"&&(!da||d.event.triggered!==da.type)?d.event.dispatch.apply(l.elem,arguments):b};l.elem=a}c=d.trim(db(c)).split(" ");for(h=0;h<c.length;h++){p=bb.exec(c[h])||[];u=p[1];L=(p[2]||"").split(".").sort();K=d.event.special[u]||{};u=(g?K.delegateType:K.bindType)||u;K=d.event.special[u]||{};p=d.extend({type:u,origType:p[1],data:f,handler:e,guid:e.guid,selector:g,quick:Ib(g),
namespace:L.join(".")},A);R=n[u];if(!R){R=n[u]=[];R.delegateCount=0;if(!K.setup||K.setup.call(a,f,L,l)===false)if(a.addEventListener)a.addEventListener(u,l,false);else a.attachEvent&&a.attachEvent("on"+u,l)}if(K.add){K.add.call(a,p);if(!p.handler.guid)p.handler.guid=e.guid}g?R.splice(R.delegateCount++,0,p):R.push(p);d.event.global[u]=true}a=null}},global:{},remove:function(a,c,e,f,g){var h=d.hasData(a)&&d._data(a),l,n,p,u,L,A,R,K,da,qa;if(h&&(R=h.events)){c=d.trim(db(c||"")).split(" ");for(l=0;l<
c.length;l++){n=bb.exec(c[l])||[];p=u=n[1];n=n[2];if(p){K=d.event.special[p]||{};p=(f?K.delegateType:K.bindType)||p;da=R[p]||[];L=da.length;n=n?new RegExp("(^|\\.)"+n.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(A=0;A<da.length;A++){qa=da[A];if((g||u===qa.origType)&&(!e||e.guid===qa.guid)&&(!n||n.test(qa.namespace))&&(!f||f===qa.selector||f==="**"&&qa.selector)){da.splice(A--,1);qa.selector&&da.delegateCount--;K.remove&&K.remove.call(a,qa)}}if(da.length===0&&L!==da.length){if(!K.teardown||
K.teardown.call(a,n)===false)d.removeEvent(a,p,h.handle);delete R[p]}}else for(p in R)d.event.remove(a,p+c[l],e,f,true)}if(d.isEmptyObject(R)){if(c=h.handle)c.elem=null;d.removeData(a,["events","handle"],true)}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(a,c,e,f){if(!(e&&(e.nodeType===3||e.nodeType===8))){var g=a.type||a,h=[],l,n,p,u,L;if(!cb.test(g+d.event.triggered)){if(g.indexOf("!")>=0){g=g.slice(0,-1);l=true}if(g.indexOf(".")>=0){h=g.split(".");g=h.shift();h.sort()}if(!((!e||
d.event.customEvent[g])&&!d.event.global[g])){a=typeof a==="object"?a[d.expando]?a:new d.Event(g,a):new d.Event(g);a.type=g;a.isTrigger=true;a.exclusive=l;a.namespace=h.join(".");a.namespace_re=a.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;l=g.indexOf(":")<0?"on"+g:"";if(e){a.result=b;if(!a.target)a.target=e;c=c!=null?d.makeArray(c):[];c.unshift(a);p=d.event.special[g]||{};if(!(p.trigger&&p.trigger.apply(e,c)===false)){L=[[e,p.bindType||g]];if(!f&&!p.noBubble&&!d.isWindow(e)){u=
p.delegateType||g;h=cb.test(u+g)?e:e.parentNode;for(n=null;h;h=h.parentNode){L.push([h,u]);n=h}if(n&&n===e.ownerDocument)L.push([n.defaultView||n.parentWindow||j,u])}for(n=0;n<L.length&&!a.isPropagationStopped();n++){h=L[n][0];a.type=L[n][1];(u=(d._data(h,"events")||{})[a.type]&&d._data(h,"handle"))&&u.apply(h,c);(u=l&&h[l])&&d.acceptData(h)&&u.apply(h,c)===false&&a.preventDefault()}a.type=g;if(!f&&!a.isDefaultPrevented())if((!p._default||p._default.apply(e.ownerDocument,c)===false)&&!(g==="click"&&
d.nodeName(e,"a"))&&d.acceptData(e))if(l&&e[g]&&(g!=="focus"&&g!=="blur"||a.target.offsetWidth!==0)&&!d.isWindow(e)){if(n=e[l])e[l]=null;d.event.triggered=g;e[g]();d.event.triggered=b;if(n)e[l]=n}return a.result}}else{e=d.cache;for(n in e)e[n].events&&e[n].events[g]&&d.event.trigger(a,c,e[n].handle.elem,true)}}}}},dispatch:function(a){a=d.event.fix(a||j.event);var c=(d._data(this,"events")||{})[a.type]||[],e=c.delegateCount,f=[].slice.call(arguments,0),g=!a.exclusive&&!a.namespace,h=[],l,n,p,u,L,
A,R;f[0]=a;a.delegateTarget=this;if(e&&!a.target.disabled&&!(a.button&&a.type==="click")){p=d(this);p.context=this.ownerDocument||this;for(n=a.target;n!=this;n=n.parentNode||this){L={};A=[];p[0]=n;for(l=0;l<e;l++){u=c[l];R=u.selector;if(L[R]===b)L[R]=u.quick?Jb(n,u.quick):p.is(R);L[R]&&A.push(u)}A.length&&h.push({elem:n,matches:A})}}c.length>e&&h.push({elem:this,matches:c.slice(e)});for(l=0;l<h.length&&!a.isPropagationStopped();l++){e=h[l];a.currentTarget=e.elem;for(c=0;c<e.matches.length&&!a.isImmediatePropagationStopped();c++){u=
e.matches[c];if(g||!a.namespace&&!u.namespace||a.namespace_re&&a.namespace_re.test(u.namespace)){a.data=u.data;a.handleObj=u;u=((d.event.special[u.origType]||{}).handle||u.handler).apply(e.elem,f);if(u!==b){a.result=u;if(u===false){a.preventDefault();a.stopPropagation()}}}}}return a.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),
filter:function(a,c){if(a.which==null)a.which=c.charCode!=null?c.charCode:c.keyCode;return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var e,f,g=c.button,h=c.fromElement;if(a.pageX==null&&c.clientX!=null){e=a.target.ownerDocument||H;f=e.documentElement;e=e.body;a.pageX=c.clientX+(f&&f.scrollLeft||e&&e.scrollLeft||0)-(f&&f.clientLeft||e&&e.clientLeft||0);a.pageY=c.clientY+(f&&f.scrollTop||e&&
e.scrollTop||0)-(f&&f.clientTop||e&&e.clientTop||0)}if(!a.relatedTarget&&h)a.relatedTarget=h===a.target?c.toElement:h;if(!a.which&&g!==b)a.which=g&1?1:g&2?3:g&4?2:0;return a}},fix:function(a){if(a[d.expando])return a;var c,e,f=a,g=d.event.fixHooks[a.type]||{},h=g.props?this.props.concat(g.props):this.props;a=d.Event(f);for(c=h.length;c;){e=h[--c];a[e]=f[e]}if(!a.target)a.target=f.srcElement||H;if(a.target.nodeType===3)a.target=a.target.parentNode;if(a.metaKey===b)a.metaKey=a.ctrlKey;return g.filter?
g.filter(a,f):a},special:{ready:{setup:d.bindReady},load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,c,e){if(d.isWindow(this))this.onbeforeunload=e},teardown:function(a,c){if(this.onbeforeunload===c)this.onbeforeunload=null}}},simulate:function(a,c,e,f){a=d.extend(new d.Event,e,{type:a,isSimulated:true,originalEvent:{}});f?d.event.trigger(a,null,c):d.event.dispatch.call(c,a);a.isDefaultPrevented()&&e.preventDefault()}};d.event.handle=
d.event.dispatch;d.removeEvent=H.removeEventListener?function(a,c,e){a.removeEventListener&&a.removeEventListener(c,e,false)}:function(a,c,e){a.detachEvent&&a.detachEvent("on"+c,e)};d.Event=function(a,c){if(!(this instanceof d.Event))return new d.Event(a,c);if(a&&a.type){this.originalEvent=a;this.type=a.type;this.isDefaultPrevented=a.defaultPrevented||a.returnValue===false||a.getPreventDefault&&a.getPreventDefault()?P:M}else this.type=a;c&&d.extend(this,c);this.timeStamp=a&&a.timeStamp||d.now();this[d.expando]=
true};d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=P;var a=this.originalEvent;if(a)if(a.preventDefault)a.preventDefault();else a.returnValue=false},stopPropagation:function(){this.isPropagationStopped=P;var a=this.originalEvent;if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=P;this.stopPropagation()},isDefaultPrevented:M,isPropagationStopped:M,isImmediatePropagationStopped:M};d.each({mouseenter:"mouseover",
mouseleave:"mouseout"},function(a,c){d.event.special[a]={delegateType:c,bindType:c,handle:function(e){var f=this,g=e.relatedTarget,h=e.handleObj,l;if(!g||g!==f&&!d.contains(f,g)){e.type=h.origType;l=h.handler.apply(this,arguments);e.type=c}return l}}});if(!d.support.submitBubbles)d.event.special.submit={setup:function(){if(d.nodeName(this,"form"))return false;d.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=d.nodeName(a,"input")||d.nodeName(a,"button")?a.form:b)&&!a._submit_attached){d.event.add(a,
"submit._submit",function(c){this.parentNode&&!c.isTrigger&&d.event.simulate("submit",this.parentNode,c,true)});a._submit_attached=true}})},teardown:function(){if(d.nodeName(this,"form"))return false;d.event.remove(this,"._submit")}};if(!d.support.changeBubbles)d.event.special.change={setup:function(){if(Pa.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){d.event.add(this,"propertychange._change",function(a){if(a.originalEvent.propertyName==="checked")this._just_changed=true});
d.event.add(this,"click._change",function(a){if(this._just_changed&&!a.isTrigger){this._just_changed=false;d.event.simulate("change",this,a,true)}})}return false}d.event.add(this,"beforeactivate._change",function(a){a=a.target;if(Pa.test(a.nodeName)&&!a._change_attached){d.event.add(a,"change._change",function(c){this.parentNode&&!c.isSimulated&&!c.isTrigger&&d.event.simulate("change",this.parentNode,c,true)});a._change_attached=true}})},handle:function(a){var c=a.target;if(this!==c||a.isSimulated||
a.isTrigger||c.type!=="radio"&&c.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){d.event.remove(this,"._change");return Pa.test(this.nodeName)}};d.support.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(a,c){var e=0,f=function(g){d.event.simulate(c,g.target,d.event.fix(g),true)};d.event.special[c]={setup:function(){e++===0&&H.addEventListener(a,f,true)},teardown:function(){--e===0&&H.removeEventListener(a,f,true)}}});d.fn.extend({on:function(a,
c,e,f,g){var h,l;if(typeof a==="object"){if(typeof c!=="string"){e=c;c=b}for(l in a)this.on(l,c,e,a[l],g);return this}if(e==null&&f==null){f=c;e=c=b}else if(f==null)if(typeof c==="string"){f=e;e=b}else{f=e;e=c;c=b}if(f===false)f=M;else if(!f)return this;if(g===1){h=f;f=function(n){d().off(n);return h.apply(this,arguments)};f.guid=h.guid||(h.guid=d.guid++)}return this.each(function(){d.event.add(this,a,f,e,c)})},one:function(a,c,e,f){return this.on.call(this,a,c,e,f,1)},off:function(a,c,e){if(a&&a.preventDefault&&
a.handleObj){var f=a.handleObj;d(a.delegateTarget).off(f.namespace?f.type+"."+f.namespace:f.type,f.selector,f.handler);return this}if(typeof a==="object"){for(f in a)this.off(f,c,a[f]);return this}if(c===false||typeof c==="function"){e=c;c=b}if(e===false)e=M;return this.each(function(){d.event.remove(this,a,e,c)})},bind:function(a,c,e){return this.on(a,null,c,e)},unbind:function(a,c){return this.off(a,null,c)},live:function(a,c,e){d(this.context).on(a,this.selector,c,e);return this},die:function(a,
c){d(this.context).off(a,this.selector||"**",c);return this},delegate:function(a,c,e,f){return this.on(c,a,e,f)},undelegate:function(a,c,e){return arguments.length==1?this.off(a,"**"):this.off(c,a,e)},trigger:function(a,c){return this.each(function(){d.event.trigger(a,c,this)})},triggerHandler:function(a,c){if(this[0])return d.event.trigger(a,c,this[0],true)},toggle:function(a){var c=arguments,e=a.guid||d.guid++,f=0,g=function(h){var l=(d._data(this,"lastToggle"+a.guid)||0)%f;d._data(this,"lastToggle"+
a.guid,l+1);h.preventDefault();return c[l].apply(this,arguments)||false};for(g.guid=e;f<c.length;)c[f++].guid=e;return this.click(g)},hover:function(a,c){return this.mouseenter(a).mouseleave(c||a)}});d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,c){d.fn[c]=function(e,f){if(f==null){f=e;e=null}return arguments.length>
0?this.on(c,null,e,f):this.trigger(c)};if(d.attrFn)d.attrFn[c]=true;if(Fb.test(c))d.event.fixHooks[c]=d.event.keyHooks;if(Gb.test(c))d.event.fixHooks[c]=d.event.mouseHooks});(function(){function a(i,k,w,z,C,J){C=0;for(var S=z.length;C<S;C++){var V=z[C];if(V){var ka=false;for(V=V[i];V;){if(V[f]===w){ka=z[V.sizset];break}if(V.nodeType===1&&!J){V[f]=w;V.sizset=C}if(V.nodeName.toLowerCase()===k){ka=V;break}V=V[i]}z[C]=ka}}}function c(i,k,w,z,C,J){C=0;for(var S=z.length;C<S;C++){var V=z[C];if(V){var ka=
false;for(V=V[i];V;){if(V[f]===w){ka=z[V.sizset];break}if(V.nodeType===1){if(!J){V[f]=w;V.sizset=C}if(typeof k!=="string"){if(V===k){ka=true;break}}else if(A.filter(k,[V]).length>0){ka=V;break}}V=V[i]}z[C]=ka}}}var e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,f="sizcache"+(Math.random()+"").replace(".",""),g=0,h=Object.prototype.toString,l=false,n=true,p=/\\/g,u=/\r\n/g,L=/\W/;[0,0].sort(function(){n=false;
return 0});var A=function(i,k,w,z){w=w||[];var C=k=k||H;if(k.nodeType!==1&&k.nodeType!==9)return[];if(!i||typeof i!=="string")return w;var J,S,V,ka,q,F=true,T=A.isXML(k),O=[],pa=i;do{e.exec("");if(J=e.exec(pa)){pa=J[3];O.push(J[1]);if(J[2]){ka=J[3];break}}}while(J);if(O.length>1&&da.exec(i))if(O.length===2&&K.relative[O[0]])S=ya(O[0]+O[1],k,z);else for(S=K.relative[O[0]]?[k]:A(O.shift(),k);O.length;){i=O.shift();if(K.relative[i])i+=O.shift();S=ya(i,S,z)}else{if(!z&&O.length>1&&k.nodeType===9&&!T&&
K.match.ID.test(O[0])&&!K.match.ID.test(O[O.length-1])){J=A.find(O.shift(),k,T);k=J.expr?A.filter(J.expr,J.set)[0]:J.set[0]}if(k){J=z?{expr:O.pop(),set:ra(z)}:A.find(O.pop(),O.length===1&&(O[0]==="~"||O[0]==="+")&&k.parentNode?k.parentNode:k,T);S=J.expr?A.filter(J.expr,J.set):J.set;if(O.length>0)V=ra(S);else F=false;for(;O.length;){J=q=O.pop();if(K.relative[q])J=O.pop();else q="";if(J==null)J=k;K.relative[q](V,J,T)}}else V=[]}V||(V=S);V||A.error(q||i);if(h.call(V)==="[object Array]")if(F)if(k&&k.nodeType===
1)for(i=0;V[i]!=null;i++){if(V[i]&&(V[i]===true||V[i].nodeType===1&&A.contains(k,V[i])))w.push(S[i])}else for(i=0;V[i]!=null;i++)V[i]&&V[i].nodeType===1&&w.push(S[i]);else w.push.apply(w,V);else ra(V,w);if(ka){A(ka,C,w,z);A.uniqueSort(w)}return w};A.uniqueSort=function(i){if(fa){l=n;i.sort(fa);if(l)for(var k=1;k<i.length;k++)i[k]===i[k-1]&&i.splice(k--,1)}return i};A.matches=function(i,k){return A(i,null,null,k)};A.matchesSelector=function(i,k){return A(k,null,null,[i]).length>0};A.find=function(i,
k,w){var z,C,J,S,V,ka;if(!i)return[];C=0;for(J=K.order.length;C<J;C++){V=K.order[C];if(S=K.leftMatch[V].exec(i)){ka=S[1];S.splice(1,1);if(ka.substr(ka.length-1)!=="\\"){S[1]=(S[1]||"").replace(p,"");z=K.find[V](S,k,w);if(z!=null){i=i.replace(K.match[V],"");break}}}}z||(z=typeof k.getElementsByTagName!=="undefined"?k.getElementsByTagName("*"):[]);return{set:z,expr:i}};A.filter=function(i,k,w,z){for(var C,J,S,V,ka,q,F,T,O=i,pa=[],ia=k,ta=k&&k[0]&&A.isXML(k[0]);i&&k.length;){for(S in K.filter)if((C=
K.leftMatch[S].exec(i))!=null&&C[2]){q=K.filter[S];ka=C[1];J=false;C.splice(1,1);if(ka.substr(ka.length-1)!=="\\"){if(ia===pa)pa=[];if(K.preFilter[S])if(C=K.preFilter[S](C,ia,w,pa,z,ta)){if(C===true)continue}else J=V=true;if(C)for(F=0;(ka=ia[F])!=null;F++)if(ka){V=q(ka,C,F,ia);T=z^V;if(w&&V!=null)if(T)J=true;else ia[F]=false;else if(T){pa.push(ka);J=true}}if(V!==b){w||(ia=pa);i=i.replace(K.match[S],"");if(!J)return[];break}}}if(i===O)if(J==null)A.error(i);else break;O=i}return ia};A.error=function(i){throw new Error("Syntax error, unrecognized expression: "+
i);};var R=A.getText=function(i){var k,w;k=i.nodeType;var z="";if(k)if(k===1||k===9)if(typeof i.textContent==="string")return i.textContent;else if(typeof i.innerText==="string")return i.innerText.replace(u,"");else for(i=i.firstChild;i;i=i.nextSibling)z+=R(i);else{if(k===3||k===4)return i.nodeValue}else for(k=0;w=i[k];k++)if(w.nodeType!==8)z+=R(w);return z},K=A.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(i){return i.getAttribute("href")},
type:function(i){return i.getAttribute("type")}},relative:{"+":function(i,k){var w=typeof k==="string",z=w&&!L.test(k);w=w&&!z;if(z)k=k.toLowerCase();z=0;for(var C=i.length,J;z<C;z++)if(J=i[z]){for(;(J=J.previousSibling)&&J.nodeType!==1;);i[z]=w||J&&J.nodeName.toLowerCase()===k?J||false:J===k}w&&A.filter(k,i,true)},">":function(i,k){var w,z=typeof k==="string",C=0,J=i.length;if(z&&!L.test(k))for(k=k.toLowerCase();C<J;C++){if(w=i[C]){w=w.parentNode;i[C]=w.nodeName.toLowerCase()===k?w:false}}else{for(;C<
J;C++)if(w=i[C])i[C]=z?w.parentNode:w.parentNode===k;z&&A.filter(k,i,true)}},"":function(i,k,w){var z,C=g++,J=c;if(typeof k==="string"&&!L.test(k)){z=k=k.toLowerCase();J=a}J("parentNode",k,C,i,z,w)},"~":function(i,k,w){var z,C=g++,J=c;if(typeof k==="string"&&!L.test(k)){z=k=k.toLowerCase();J=a}J("previousSibling",k,C,i,z,w)}},find:{ID:function(i,k,w){if(typeof k.getElementById!=="undefined"&&!w)return(i=k.getElementById(i[1]))&&i.parentNode?[i]:[]},NAME:function(i,k){if(typeof k.getElementsByName!==
"undefined"){var w=[];k=k.getElementsByName(i[1]);for(var z=0,C=k.length;z<C;z++)k[z].getAttribute("name")===i[1]&&w.push(k[z]);return w.length===0?null:w}},TAG:function(i,k){if(typeof k.getElementsByTagName!=="undefined")return k.getElementsByTagName(i[1])}},preFilter:{CLASS:function(i,k,w,z,C,J){i=" "+i[1].replace(p,"")+" ";if(J)return i;J=0;for(var S;(S=k[J])!=null;J++)if(S)if(C^(S.className&&(" "+S.className+" ").replace(/[\t\n\r]/g," ").indexOf(i)>=0))w||z.push(S);else if(w)k[J]=false;return false},
ID:function(i){return i[1].replace(p,"")},TAG:function(i){return i[1].replace(p,"").toLowerCase()},CHILD:function(i){if(i[1]==="nth"){i[2]||A.error(i[0]);i[2]=i[2].replace(/^\+|\s*/g,"");var k=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(i[2]==="even"&&"2n"||i[2]==="odd"&&"2n+1"||!/\D/.test(i[2])&&"0n+"+i[2]||i[2]);i[2]=k[1]+(k[2]||1)-0;i[3]=k[3]-0}else i[2]&&A.error(i[0]);i[0]=g++;return i},ATTR:function(i,k,w,z,C,J){k=i[1]=i[1].replace(p,"");if(!J&&K.attrMap[k])i[1]=K.attrMap[k];i[4]=(i[4]||i[5]||"").replace(p,
"");if(i[2]==="~=")i[4]=" "+i[4]+" ";return i},PSEUDO:function(i,k,w,z,C){if(i[1]==="not")if((e.exec(i[3])||"").length>1||/^\w/.test(i[3]))i[3]=A(i[3],null,null,k);else{i=A.filter(i[3],k,w,true^C);w||z.push.apply(z,i);return false}else if(K.match.POS.test(i[0])||K.match.CHILD.test(i[0]))return true;return i},POS:function(i){i.unshift(true);return i}},filters:{enabled:function(i){return i.disabled===false&&i.type!=="hidden"},disabled:function(i){return i.disabled===true},checked:function(i){return i.checked===
true},selected:function(i){return i.selected===true},parent:function(i){return!!i.firstChild},empty:function(i){return!i.firstChild},has:function(i,k,w){return!!A(w[3],i).length},header:function(i){return/h\d/i.test(i.nodeName)},text:function(i){var k=i.getAttribute("type"),w=i.type;return i.nodeName.toLowerCase()==="input"&&"text"===w&&(k===w||k===null)},radio:function(i){return i.nodeName.toLowerCase()==="input"&&"radio"===i.type},checkbox:function(i){return i.nodeName.toLowerCase()==="input"&&
"checkbox"===i.type},file:function(i){return i.nodeName.toLowerCase()==="input"&&"file"===i.type},password:function(i){return i.nodeName.toLowerCase()==="input"&&"password"===i.type},submit:function(i){var k=i.nodeName.toLowerCase();return(k==="input"||k==="button")&&"submit"===i.type},image:function(i){return i.nodeName.toLowerCase()==="input"&&"image"===i.type},reset:function(i){var k=i.nodeName.toLowerCase();return(k==="input"||k==="button")&&"reset"===i.type},button:function(i){var k=i.nodeName.toLowerCase();
return k==="input"&&"button"===i.type||k==="button"},input:function(i){return/input|select|textarea|button/i.test(i.nodeName)},focus:function(i){return i===i.ownerDocument.activeElement}},setFilters:{first:function(i,k){return k===0},last:function(i,k,w,z){return k===z.length-1},even:function(i,k){return k%2===0},odd:function(i,k){return k%2===1},lt:function(i,k,w){return k<w[3]-0},gt:function(i,k,w){return k>w[3]-0},nth:function(i,k,w){return w[3]-0===k},eq:function(i,k,w){return w[3]-0===k}},filter:{PSEUDO:function(i,
k,w,z){var C=k[1],J=K.filters[C];if(J)return J(i,w,k,z);else if(C==="contains")return(i.textContent||i.innerText||R([i])||"").indexOf(k[3])>=0;else if(C==="not"){k=k[3];w=0;for(z=k.length;w<z;w++)if(k[w]===i)return false;return true}else A.error(C)},CHILD:function(i,k){var w,z,C,J;w=k[1];var S=i;switch(w){case "only":case "first":for(;S=S.previousSibling;)if(S.nodeType===1)return false;if(w==="first")return true;S=i;case "last":for(;S=S.nextSibling;)if(S.nodeType===1)return false;return true;case "nth":w=
k[2];z=k[3];if(w===1&&z===0)return true;k=k[0];if((C=i.parentNode)&&(C[f]!==k||!i.nodeIndex)){J=0;for(S=C.firstChild;S;S=S.nextSibling)if(S.nodeType===1)S.nodeIndex=++J;C[f]=k}i=i.nodeIndex-z;return w===0?i===0:i%w===0&&i/w>=0}},ID:function(i,k){return i.nodeType===1&&i.getAttribute("id")===k},TAG:function(i,k){return k==="*"&&i.nodeType===1||!!i.nodeName&&i.nodeName.toLowerCase()===k},CLASS:function(i,k){return(" "+(i.className||i.getAttribute("class"))+" ").indexOf(k)>-1},ATTR:function(i,k){var w=
k[1];i=A.attr?A.attr(i,w):K.attrHandle[w]?K.attrHandle[w](i):i[w]!=null?i[w]:i.getAttribute(w);w=i+"";var z=k[2];k=k[4];return i==null?z==="!=":!z&&A.attr?i!=null:z==="="?w===k:z==="*="?w.indexOf(k)>=0:z==="~="?(" "+w+" ").indexOf(k)>=0:!k?w&&i!==false:z==="!="?w!==k:z==="^="?w.indexOf(k)===0:z==="$="?w.substr(w.length-k.length)===k:z==="|="?w===k||w.substr(0,k.length+1)===k+"-":false},POS:function(i,k,w,z){var C=K.setFilters[k[2]];if(C)return C(i,w,k,z)}}},da=K.match.POS,qa=function(i,k){return"\\"+
(k-0+1)};for(var sa in K.match){K.match[sa]=new RegExp(K.match[sa].source+/(?![^\[]*\])(?![^\(]*\))/.source);K.leftMatch[sa]=new RegExp(/(^(?:.|\r|\n)*?)/.source+K.match[sa].source.replace(/\\(\d+)/g,qa))}var ra=function(i,k){i=Array.prototype.slice.call(i,0);if(k){k.push.apply(k,i);return k}return i};try{Array.prototype.slice.call(H.documentElement.childNodes,0)}catch(Ba){ra=function(i,k){var w=0;k=k||[];if(h.call(i)==="[object Array]")Array.prototype.push.apply(k,i);else if(typeof i.length==="number")for(var z=
i.length;w<z;w++)k.push(i[w]);else for(;i[w];w++)k.push(i[w]);return k}}var fa,Aa;if(H.documentElement.compareDocumentPosition)fa=function(i,k){if(i===k){l=true;return 0}if(!i.compareDocumentPosition||!k.compareDocumentPosition)return i.compareDocumentPosition?-1:1;return i.compareDocumentPosition(k)&4?-1:1};else{fa=function(i,k){if(i===k){l=true;return 0}else if(i.sourceIndex&&k.sourceIndex)return i.sourceIndex-k.sourceIndex;var w,z,C=[],J=[];w=i.parentNode;z=k.parentNode;var S=w;if(w===z)return Aa(i,
k);else if(w){if(!z)return 1}else return-1;for(;S;){C.unshift(S);S=S.parentNode}for(S=z;S;){J.unshift(S);S=S.parentNode}w=C.length;z=J.length;for(S=0;S<w&&S<z;S++)if(C[S]!==J[S])return Aa(C[S],J[S]);return S===w?Aa(i,J[S],-1):Aa(C[S],k,1)};Aa=function(i,k,w){if(i===k)return w;for(i=i.nextSibling;i;){if(i===k)return-1;i=i.nextSibling}return 1}}(function(){var i=H.createElement("div"),k="script"+(new Date).getTime(),w=H.documentElement;i.innerHTML="<a name='"+k+"'/>";w.insertBefore(i,w.firstChild);
if(H.getElementById(k)){K.find.ID=function(z,C,J){if(typeof C.getElementById!=="undefined"&&!J)return(C=C.getElementById(z[1]))?C.id===z[1]||typeof C.getAttributeNode!=="undefined"&&C.getAttributeNode("id").nodeValue===z[1]?[C]:b:[]};K.filter.ID=function(z,C){var J=typeof z.getAttributeNode!=="undefined"&&z.getAttributeNode("id");return z.nodeType===1&&J&&J.nodeValue===C}}w.removeChild(i);w=i=null})();(function(){var i=H.createElement("div");i.appendChild(H.createComment(""));if(i.getElementsByTagName("*").length>
0)K.find.TAG=function(k,w){w=w.getElementsByTagName(k[1]);if(k[1]==="*"){k=[];for(var z=0;w[z];z++)w[z].nodeType===1&&k.push(w[z]);w=k}return w};i.innerHTML="<a href='#'></a>";if(i.firstChild&&typeof i.firstChild.getAttribute!=="undefined"&&i.firstChild.getAttribute("href")!=="#")K.attrHandle.href=function(k){return k.getAttribute("href",2)};i=null})();H.querySelectorAll&&function(){var i=A,k=H.createElement("div");k.innerHTML="<p class='TEST'></p>";if(!(k.querySelectorAll&&k.querySelectorAll(".TEST").length===
0)){A=function(z,C,J,S){C=C||H;if(!S&&!A.isXML(C)){var V=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(z);if(V&&(C.nodeType===1||C.nodeType===9))if(V[1])return ra(C.getElementsByTagName(z),J);else if(V[2]&&K.find.CLASS&&C.getElementsByClassName)return ra(C.getElementsByClassName(V[2]),J);if(C.nodeType===9){if(z==="body"&&C.body)return ra([C.body],J);else if(V&&V[3]){var ka=C.getElementById(V[3]);if(ka&&ka.parentNode){if(ka.id===V[3])return ra([ka],J)}else return ra([],J)}try{return ra(C.querySelectorAll(z),
J)}catch(q){}}else if(C.nodeType===1&&C.nodeName.toLowerCase()!=="object"){V=C;var F=(ka=C.getAttribute("id"))||"__sizzle__",T=C.parentNode,O=/^\s*[+~]/.test(z);if(ka)F=F.replace(/'/g,"\\$&");else C.setAttribute("id",F);if(O&&T)C=C.parentNode;try{if(!O||T)return ra(C.querySelectorAll("[id='"+F+"'] "+z),J)}catch(pa){}finally{ka||V.removeAttribute("id")}}}return i(z,C,J,S)};for(var w in i)A[w]=i[w];k=null}}();(function(){var i=H.documentElement,k=i.matchesSelector||i.mozMatchesSelector||i.webkitMatchesSelector||
i.msMatchesSelector;if(k){var w=!k.call(H.createElement("div"),"div"),z=false;try{k.call(H.documentElement,"[test!='']:sizzle")}catch(C){z=true}A.matchesSelector=function(J,S){S=S.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!A.isXML(J))try{if(z||!K.match.PSEUDO.test(S)&&!/!=/.test(S)){var V=k.call(J,S);if(V||!w||J.document&&J.document.nodeType!==11)return V}}catch(ka){}return A(S,null,null,[J]).length>0}}})();(function(){var i=H.createElement("div");i.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!i.getElementsByClassName||i.getElementsByClassName("e").length===0)){i.lastChild.className="e";if(i.getElementsByClassName("e").length!==1){K.order.splice(1,0,"CLASS");K.find.CLASS=function(k,w,z){if(typeof w.getElementsByClassName!=="undefined"&&!z)return w.getElementsByClassName(k[1])};i=null}}})();A.contains=H.documentElement.contains?function(i,k){return i!==k&&(i.contains?i.contains(k):true)}:H.documentElement.compareDocumentPosition?function(i,k){return!!(i.compareDocumentPosition(k)&
16)}:function(){return false};A.isXML=function(i){return(i=(i?i.ownerDocument||i:0).documentElement)?i.nodeName!=="HTML":false};var ya=function(i,k,w){var z,C=[],J="";for(k=k.nodeType?[k]:k;z=K.match.PSEUDO.exec(i);){J+=z[0];i=i.replace(K.match.PSEUDO,"")}i=K.relative[i]?i+"*":i;z=0;for(var S=k.length;z<S;z++)A(i,k[z],C,w);return A.filter(J,C)};A.attr=d.attr;A.selectors.attrMap={};d.find=A;d.expr=A.selectors;d.expr[":"]=d.expr.filters;d.unique=A.uniqueSort;d.text=A.getText;d.isXMLDoc=A.isXML;d.contains=
A.contains})();var Kb=/Until$/,Lb=/^(?:parents|prevUntil|prevAll)/,Mb=/,/,vb=/^.[^:#\[\.,]*$/,Nb=Array.prototype.slice,eb=d.expr.match.POS,Ob={children:true,contents:true,next:true,prev:true};d.fn.extend({find:function(a){var c=this,e,f;if(typeof a!=="string")return d(a).filter(function(){e=0;for(f=c.length;e<f;e++)if(d.contains(c[e],this))return true});var g=this.pushStack("","find",a),h,l,n;e=0;for(f=this.length;e<f;e++){h=g.length;d.find(a,this[e],g);if(e>0)for(l=h;l<g.length;l++)for(n=0;n<h;n++)if(g[n]===
g[l]){g.splice(l--,1);break}}return g},has:function(a){var c=d(a);return this.filter(function(){for(var e=0,f=c.length;e<f;e++)if(d.contains(this,c[e]))return true})},not:function(a){return this.pushStack(Z(this,a,false),"not",a)},filter:function(a){return this.pushStack(Z(this,a,true),"filter",a)},is:function(a){return!!a&&(typeof a==="string"?eb.test(a)?d(a,this.context).index(this[0])>=0:d.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,c){var e=[],f,g,h=this[0];if(d.isArray(a)){for(g=
1;h&&h.ownerDocument&&h!==c;){for(f=0;f<a.length;f++)d(h).is(a[f])&&e.push({selector:a[f],elem:h,level:g});h=h.parentNode;g++}return e}var l=eb.test(a)||typeof a!=="string"?d(a,c||this.context):0;f=0;for(g=this.length;f<g;f++)for(h=this[f];h;)if(l?l.index(h)>-1:d.find.matchesSelector(h,a)){e.push(h);break}else{h=h.parentNode;if(!h||!h.ownerDocument||h===c||h.nodeType===11)break}e=e.length>1?d.unique(e):e;return this.pushStack(e,"closest",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?
this.prevAll().length:-1;if(typeof a==="string")return d.inArray(this[0],d(a));return d.inArray(a.jquery?a[0]:a,this)},add:function(a,c){a=typeof a==="string"?d(a,c):d.makeArray(a&&a.nodeType?[a]:a);c=d.merge(this.get(),a);return this.pushStack(X(a[0])||X(c[0])?c:d.unique(c))},andSelf:function(){return this.add(this.prevObject)}});d.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return d.dir(a,"parentNode")},parentsUntil:function(a,c,e){return d.dir(a,
"parentNode",e)},next:function(a){return d.nth(a,2,"nextSibling")},prev:function(a){return d.nth(a,2,"previousSibling")},nextAll:function(a){return d.dir(a,"nextSibling")},prevAll:function(a){return d.dir(a,"previousSibling")},nextUntil:function(a,c,e){return d.dir(a,"nextSibling",e)},prevUntil:function(a,c,e){return d.dir(a,"previousSibling",e)},siblings:function(a){return d.sibling(a.parentNode.firstChild,a)},children:function(a){return d.sibling(a.firstChild)},contents:function(a){return d.nodeName(a,
"iframe")?a.contentDocument||a.contentWindow.document:d.makeArray(a.childNodes)}},function(a,c){d.fn[a]=function(e,f){var g=d.map(this,c,e);Kb.test(a)||(f=e);if(f&&typeof f==="string")g=d.filter(f,g);g=this.length>1&&!Ob[a]?d.unique(g):g;if((this.length>1||Mb.test(f))&&Lb.test(a))g=g.reverse();return this.pushStack(g,a,Nb.call(arguments).join(","))}});d.extend({filter:function(a,c,e){if(e)a=":not("+a+")";return c.length===1?d.find.matchesSelector(c[0],a)?[c[0]]:[]:d.find.matches(a,c)},dir:function(a,
c,e){var f=[];for(a=a[c];a&&a.nodeType!==9&&(e===b||a.nodeType!==1||!d(a).is(e));){a.nodeType===1&&f.push(a);a=a[c]}return f},nth:function(a,c,e){c=c||1;for(var f=0;a;a=a[e])if(a.nodeType===1&&++f===c)break;return a},sibling:function(a,c){for(var e=[];a;a=a.nextSibling)a.nodeType===1&&a!==c&&e.push(a);return e}});var Ta="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pb=/ jQuery\d+="(?:\d+|null)"/g,
Qa=/^\s+/,fb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,gb=/<([\w:]+)/,Qb=/<tbody/i,Rb=/<|&#?\w+;/,Sb=/<(?:script|style)/i,Tb=/<(?:script|object|embed|option|style)/i,hb=new RegExp("<(?:"+Ta+")","i"),ib=/checked\s*(?:[^=]|=\s*.checked.)/i,Ub=/\/(java|ecma)script/i,wb=/^\s*<!(?:\[CDATA\[|\-\-)/,wa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,
"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ua=G(H);wa.optgroup=wa.option;wa.tbody=wa.tfoot=wa.colgroup=wa.caption=wa.thead;wa.th=wa.td;if(!d.support.htmlSerialize)wa._default=[1,"div<div>","</div>"];d.fn.extend({text:function(a){if(d.isFunction(a))return this.each(function(c){var e=d(this);e.text(a.call(this,c,e.text()))});if(typeof a!=="object"&&a!==b)return this.empty().append((this[0]&&
this[0].ownerDocument||H).createTextNode(a));return d.text(this)},wrapAll:function(a){if(d.isFunction(a))return this.each(function(e){d(this).wrapAll(a.call(this,e))});if(this[0]){var c=d(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&c.insertBefore(this[0]);c.map(function(){for(var e=this;e.firstChild&&e.firstChild.nodeType===1;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(a){if(d.isFunction(a))return this.each(function(c){d(this).wrapInner(a.call(this,c))});
return this.each(function(){var c=d(this),e=c.contents();e.length?e.wrapAll(a):c.append(a)})},wrap:function(a){var c=d.isFunction(a);return this.each(function(e){d(this).wrapAll(c?a.call(this,e):a)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===
1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(c){this.parentNode.insertBefore(c,this)});else if(arguments.length){var a=d.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(c){this.parentNode.insertBefore(c,this.nextSibling)});else if(arguments.length){var a=this.pushStack(this,
"after",arguments);a.push.apply(a,d.clean(arguments));return a}},remove:function(a,c){for(var e=0,f;(f=this[e])!=null;e++)if(!a||d.filter(a,[f]).length){if(!c&&f.nodeType===1){d.cleanData(f.getElementsByTagName("*"));d.cleanData([f])}f.parentNode&&f.parentNode.removeChild(f)}return this},empty:function(){for(var a=0,c;(c=this[a])!=null;a++)for(c.nodeType===1&&d.cleanData(c.getElementsByTagName("*"));c.firstChild;)c.removeChild(c.firstChild);return this},clone:function(a,c){a=a==null?false:a;c=c==
null?a:c;return this.map(function(){return d.clone(this,a,c)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Pb,""):null;else if(typeof a==="string"&&!Sb.test(a)&&(d.support.leadingWhitespace||!Qa.test(a))&&!wa[(gb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(fb,"<$1></$2>");try{for(var c=0,e=this.length;c<e;c++)if(this[c].nodeType===1){d.cleanData(this[c].getElementsByTagName("*"));this[c].innerHTML=a}}catch(f){this.empty().append(a)}}else d.isFunction(a)?
this.each(function(g){var h=d(this);h.html(a.call(this,g,h.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(d.isFunction(a))return this.each(function(c){var e=d(this),f=e.html();e.replaceWith(a.call(this,c,f))});if(typeof a!=="string")a=d(a).detach();return this.each(function(){var c=this.nextSibling,e=this.parentNode;d(this).remove();c?d(c).before(a):d(e).append(a)})}else return this.length?this.pushStack(d(d.isFunction(a)?a():a),"replaceWith",
a):this},detach:function(a){return this.remove(a,true)},domManip:function(a,c,e){var f,g,h,l=a[0],n=[];if(!d.support.checkClone&&arguments.length===3&&typeof l==="string"&&ib.test(l))return this.each(function(){d(this).domManip(a,c,e,true)});if(d.isFunction(l))return this.each(function(A){var R=d(this);a[0]=l.call(this,A,c?R.html():b);R.domManip(a,c,e)});if(this[0]){f=l&&l.parentNode;f=d.support.parentNode&&f&&f.nodeType===11&&f.childNodes.length===this.length?{fragment:f}:d.buildFragment(a,this,
n);h=f.fragment;if(g=h.childNodes.length===1?(h=h.firstChild):h.firstChild){c=c&&d.nodeName(g,"tr");for(var p=0,u=this.length,L=u-1;p<u;p++)e.call(c?W(this[p],g):this[p],f.cacheable||u>1&&p<L?d.clone(h,true,true):h)}n.length&&d.each(n,D)}return this}});d.buildFragment=function(a,c,e){var f,g,h,l,n=a[0];if(c&&c[0])l=c[0].ownerDocument||c[0];l.createDocumentFragment||(l=H);if(a.length===1&&typeof n==="string"&&n.length<512&&l===H&&n.charAt(0)==="<"&&!Tb.test(n)&&(d.support.checkClone||!ib.test(n))&&
(d.support.html5Clone||!hb.test(n))){g=true;if((h=d.fragments[n])&&h!==1)f=h}if(!f){f=l.createDocumentFragment();d.clean(a,l,f,e)}if(g)d.fragments[n]=h?f:1;return{fragment:f,cacheable:g}};d.fragments={};d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,c){d.fn[a]=function(e){var f=[];e=d(e);var g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[c](this[0]);return this}else{g=
0;for(var h=e.length;g<h;g++){var l=(g>0?this.clone(true):this).get();d(e[g])[c](l);f=f.concat(l)}return this.pushStack(f,a,e.selector)}}});d.extend({clone:function(a,c,e){var f,g,h,l=d.support.html5Clone||!hb.test("<"+a.nodeName)?a.cloneNode(true):ga(a);if((!d.support.noCloneEvent||!d.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!d.isXMLDoc(a)){Y(a,l);f=ea(a);g=ea(l);for(h=0;f[h];++h)g[h]&&Y(f[h],g[h])}if(c){ba(a,l);if(e){f=ea(a);g=ea(l);for(h=0;f[h];++h)ba(f[h],g[h])}}return l},clean:function(a,
c,e,f){c=c||H;if(typeof c.createElement==="undefined")c=c.ownerDocument||c[0]&&c[0].ownerDocument||H;for(var g=[],h,l=0,n;(n=a[l])!=null;l++){if(typeof n==="number")n+="";if(n){if(typeof n==="string")if(Rb.test(n)){n=n.replace(fb,"<$1></$2>");h=(gb.exec(n)||["",""])[1].toLowerCase();var p=wa[h]||wa._default,u=p[0],L=c.createElement("div");c===H?Ua.appendChild(L):G(c).appendChild(L);for(L.innerHTML=p[1]+n+p[2];u--;)L=L.lastChild;if(!d.support.tbody){u=Qb.test(n);p=h==="table"&&!u?L.firstChild&&L.firstChild.childNodes:
p[1]==="<table>"&&!u?L.childNodes:[];for(h=p.length-1;h>=0;--h)d.nodeName(p[h],"tbody")&&!p[h].childNodes.length&&p[h].parentNode.removeChild(p[h])}!d.support.leadingWhitespace&&Qa.test(n)&&L.insertBefore(c.createTextNode(Qa.exec(n)[0]),L.firstChild);n=L.childNodes}else n=c.createTextNode(n);var A;if(!d.support.appendChecked)if(n[0]&&typeof(A=n.length)==="number")for(h=0;h<A;h++)la(n[h]);else la(n);if(n.nodeType)g.push(n);else g=d.merge(g,n)}}if(e){a=function(R){return!R.type||Ub.test(R.type)};for(l=
0;g[l];l++)if(f&&d.nodeName(g[l],"script")&&(!g[l].type||g[l].type.toLowerCase()==="text/javascript"))f.push(g[l].parentNode?g[l].parentNode.removeChild(g[l]):g[l]);else{if(g[l].nodeType===1){c=d.grep(g[l].getElementsByTagName("script"),a);g.splice.apply(g,[l+1,0].concat(c))}e.appendChild(g[l])}}return g},cleanData:function(a){for(var c,e,f=d.cache,g=d.event.special,h=d.support.deleteExpando,l=0,n;(n=a[l])!=null;l++)if(!(n.nodeName&&d.noData[n.nodeName.toLowerCase()]))if(e=n[d.expando]){if((c=f[e])&&
c.events){for(var p in c.events)g[p]?d.event.remove(n,p):d.removeEvent(n,p,c.handle);if(c.handle)c.handle.elem=null}if(h)delete n[d.expando];else n.removeAttribute&&n.removeAttribute(d.expando);delete f[e]}}});var Ra=/alpha\([^)]*\)/i,Vb=/opacity=([^)]*)/,Wb=/([A-Z]|^ms)/g,jb=/^-?\d+(?:px)?$/i,Xb=/^-?\d/,Yb=/^([\-+])=([\-+.\de]+)/,Zb={position:"absolute",visibility:"hidden",display:"block"},xb=["Left","Right"],yb=["Top","Bottom"],Fa,kb,lb;d.fn.css=function(a,c){if(arguments.length===2&&c===b)return this;
return d.access(this,a,c,true,function(e,f,g){return g!==b?d.style(e,f,g):d.css(e,f)})};d.extend({cssHooks:{opacity:{get:function(a,c){if(c){a=Fa(a,"opacity","opacity");return a===""?"1":a}else return a.style.opacity}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,e,f){if(!(!a||a.nodeType===3||a.nodeType===8||!a.style)){var g,h=d.camelCase(c),
l=a.style,n=d.cssHooks[h];c=d.cssProps[h]||h;if(e!==b){f=typeof e;if(f==="string"&&(g=Yb.exec(e))){e=+(g[1]+1)*+g[2]+parseFloat(d.css(a,c));f="number"}if(!(e==null||f==="number"&&isNaN(e))){if(f==="number"&&!d.cssNumber[h])e+="px";if(!n||!("set"in n)||(e=n.set(a,e))!==b)try{l[c]=e}catch(p){}}}else{if(n&&"get"in n&&(g=n.get(a,false,f))!==b)return g;return l[c]}}},css:function(a,c,e){var f,g;c=d.camelCase(c);g=d.cssHooks[c];c=d.cssProps[c]||c;if(c==="cssFloat")c="float";if(g&&"get"in g&&(f=g.get(a,
true,e))!==b)return f;else if(Fa)return Fa(a,c)},swap:function(a,c,e){var f={};for(var g in c){f[g]=a.style[g];a.style[g]=c[g]}e.call(a);for(g in c)a.style[g]=f[g]}});d.curCSS=d.css;d.each(["height","width"],function(a,c){d.cssHooks[c]={get:function(e,f,g){var h;if(f){if(e.offsetWidth!==0)return m(e,c,g);else d.swap(e,Zb,function(){h=m(e,c,g)});return h}},set:function(e,f){if(jb.test(f)){f=parseFloat(f);if(f>=0)return f+"px"}else return f}}});if(!d.support.opacity)d.cssHooks.opacity={get:function(a,
c){return Vb.test((c&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":c?"1":""},set:function(a,c){var e=a.style;a=a.currentStyle;var f=d.isNumeric(c)?"alpha(opacity="+c*100+")":"",g=a&&a.filter||e.filter||"";e.zoom=1;if(c>=1&&d.trim(g.replace(Ra,""))===""){e.removeAttribute("filter");if(a&&!a.filter)return}e.filter=Ra.test(g)?g.replace(Ra,f):g+" "+f}};d(function(){if(!d.support.reliableMarginRight)d.cssHooks.marginRight={get:function(a,c){var e;d.swap(a,{display:"inline-block"},
function(){e=c?Fa(a,"margin-right","marginRight"):a.style.marginRight});return e}}});if(H.defaultView&&H.defaultView.getComputedStyle)kb=function(a,c){var e,f,g;c=c.replace(Wb,"-$1").toLowerCase();if((f=a.ownerDocument.defaultView)&&(g=f.getComputedStyle(a,null))){e=g.getPropertyValue(c);if(e===""&&!d.contains(a.ownerDocument.documentElement,a))e=d.style(a,c)}return e};if(H.documentElement.currentStyle)lb=function(a,c){var e,f,g=a.currentStyle&&a.currentStyle[c],h=a.style;if(g===null&&h&&(e=h[c]))g=
e;if(!jb.test(g)&&Xb.test(g)){e=h.left;if(f=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;h.left=c==="fontSize"?"1em":g||0;g=h.pixelLeft+"px";h.left=e;if(f)a.runtimeStyle.left=f}return g===""?"auto":g};Fa=kb||lb;if(d.expr&&d.expr.filters){d.expr.filters.hidden=function(a){var c=a.offsetHeight;return a.offsetWidth===0&&c===0||!d.support.reliableHiddenOffsets&&(a.style&&a.style.display||d.css(a,"display"))==="none"};d.expr.filters.visible=function(a){return!d.expr.filters.hidden(a)}}var $b=
/%20/g,zb=/\[\]$/,mb=/\r?\n/g,ac=/#.*$/,bc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,cc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,dc=/^(?:GET|HEAD)$/,ec=/^\/\//,nb=/\?/,fc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,gc=/^(?:select|textarea)/i,Va=/\s+/,hc=/([?&])_=[^&]*/,ob=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,pb=d.fn.load,Ma={},qb={},Da,Ea,rb=["*/"]+["*"];try{Da=ha.href}catch(nc){Da=H.createElement("a");Da.href="";
Da=Da.href}Ea=ob.exec(Da.toLowerCase())||[];d.fn.extend({load:function(a,c,e){if(typeof a!=="string"&&pb)return pb.apply(this,arguments);else if(!this.length)return this;var f=a.indexOf(" ");if(f>=0){var g=a.slice(f,a.length);a=a.slice(0,f)}f="GET";if(c)if(d.isFunction(c)){e=c;c=b}else if(typeof c==="object"){c=d.param(c,d.ajaxSettings.traditional);f="POST"}var h=this;d.ajax({url:a,type:f,dataType:"html",data:c,complete:function(l,n,p){p=l.responseText;if(l.isResolved()){l.done(function(u){p=u});
h.html(g?d("<div>").append(p.replace(fc,"")).find(g):p)}e&&h.each(e,[p,n,l])}});return this},serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?d.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||gc.test(this.nodeName)||cc.test(this.type))}).map(function(a,c){a=d(this).val();return a==null?null:d.isArray(a)?d.map(a,function(e){return{name:c.name,value:e.replace(mb,"\r\n")}}):
{name:c.name,value:a.replace(mb,"\r\n")}}).get()}});d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,c){d.fn[c]=function(e){return this.on(c,e)}});d.each(["get","post"],function(a,c){d[c]=function(e,f,g,h){if(d.isFunction(f)){h=h||g;g=f;f=b}return d.ajax({type:c,url:e,data:f,success:g,dataType:h})}});d.extend({getScript:function(a,c){return d.get(a,b,c,"script")},getJSON:function(a,c,e){return d.get(a,c,e,"json")},ajaxSetup:function(a,c){if(c)Q(a,d.ajaxSettings);
else{c=a;a=d.ajaxSettings}Q(a,c);return a},ajaxSettings:{url:Da,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Ea[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":rb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":j.String,"text html":true,
"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:s(Ma),ajaxTransport:s(qb),ajax:function(a,c){function e(i,k,w,z){if(sa!==2){sa=2;qa&&clearTimeout(qa);da=b;R=z||"";fa.readyState=i>0?4:0;var C,J,S;z=k;w=w?y(f,fa,w):b;var V;if(i>=200&&i<300||i===304){if(f.ifModified){if(V=fa.getResponseHeader("Last-Modified"))d.lastModified[u]=V;if(V=fa.getResponseHeader("Etag"))d.etag[u]=V}if(i===304){z="notmodified";C=true}else try{J=t(f,w);z="success";C=true}catch(ka){z=
"parsererror";S=ka}}else{S=z;if(!z||i){z="error";if(i<0)i=0}}fa.status=i;fa.statusText=""+(k||z);C?l.resolveWith(g,[J,z,fa]):l.rejectWith(g,[fa,z,S]);fa.statusCode(p);p=b;if(ra)h.trigger("ajax"+(C?"Success":"Error"),[fa,f,C?J:S]);n.fireWith(g,[fa,z]);if(ra){h.trigger("ajaxComplete",[fa,f]);--d.active||d.event.trigger("ajaxStop")}}}if(typeof a==="object"){c=a;a=b}c=c||{};var f=d.ajaxSetup({},c),g=f.context||f,h=g!==f&&(g.nodeType||g instanceof d)?d(g):d.event,l=d.Deferred(),n=d.Callbacks("once memory"),
p=f.statusCode||{},u,L={},A={},R,K,da,qa,sa=0,ra,Ba,fa={readyState:0,setRequestHeader:function(i,k){if(!sa){var w=i.toLowerCase();i=A[w]=A[w]||i;L[i]=k}return this},getAllResponseHeaders:function(){return sa===2?R:null},getResponseHeader:function(i){var k;if(sa===2){if(!K)for(K={};k=bc.exec(R);)K[k[1].toLowerCase()]=k[2];k=K[i.toLowerCase()]}return k===b?null:k},overrideMimeType:function(i){if(!sa)f.mimeType=i;return this},abort:function(i){i=i||"abort";da&&da.abort(i);e(0,i);return this}};l.promise(fa);
fa.success=fa.done;fa.error=fa.fail;fa.complete=n.add;fa.statusCode=function(i){if(i){var k;if(sa<2)for(k in i)p[k]=[p[k],i[k]];else{k=i[fa.status];fa.then(k,k)}}return this};f.url=((a||f.url)+"").replace(ac,"").replace(ec,Ea[1]+"//");f.dataTypes=d.trim(f.dataType||"*").toLowerCase().split(Va);if(f.crossDomain==null){a=ob.exec(f.url.toLowerCase());f.crossDomain=!!(a&&(a[1]!=Ea[1]||a[2]!=Ea[2]||(a[3]||(a[1]==="http:"?80:443))!=(Ea[3]||(Ea[1]==="http:"?80:443))))}if(f.data&&f.processData&&typeof f.data!==
"string")f.data=d.param(f.data,f.traditional);B(Ma,f,c,fa);if(sa===2)return false;ra=f.global;f.type=f.type.toUpperCase();f.hasContent=!dc.test(f.type);ra&&d.active++===0&&d.event.trigger("ajaxStart");if(!f.hasContent){if(f.data){f.url+=(nb.test(f.url)?"&":"?")+f.data;delete f.data}u=f.url;if(f.cache===false){a=d.now();var Aa=f.url.replace(hc,"$1_="+a);f.url=Aa+(Aa===f.url?(nb.test(f.url)?"&":"?")+"_="+a:"")}}if(f.data&&f.hasContent&&f.contentType!==false||c.contentType)fa.setRequestHeader("Content-Type",
f.contentType);if(f.ifModified){u=u||f.url;d.lastModified[u]&&fa.setRequestHeader("If-Modified-Since",d.lastModified[u]);d.etag[u]&&fa.setRequestHeader("If-None-Match",d.etag[u])}fa.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+(f.dataTypes[0]!=="*"?", "+rb+"; q=0.01":""):f.accepts["*"]);for(Ba in f.headers)fa.setRequestHeader(Ba,f.headers[Ba]);if(f.beforeSend&&(f.beforeSend.call(g,fa,f)===false||sa===2)){fa.abort();return false}for(Ba in{success:1,
error:1,complete:1})fa[Ba](f[Ba]);if(da=B(qb,f,c,fa)){fa.readyState=1;ra&&h.trigger("ajaxSend",[fa,f]);if(f.async&&f.timeout>0)qa=setTimeout(function(){fa.abort("timeout")},f.timeout);try{sa=1;da.send(L,e)}catch(ya){if(sa<2)e(-1,ya);else throw ya;}}else e(-1,"No Transport");return fa},param:function(a,c){var e=[],f=function(h,l){l=d.isFunction(l)?l():l;e[e.length]=encodeURIComponent(h)+"="+encodeURIComponent(l)};if(c===b)c=d.ajaxSettings.traditional;if(d.isArray(a)||a.jquery&&!d.isPlainObject(a))d.each(a,
function(){f(this.name,this.value)});else for(var g in a)v(g,a[g],c,f);return e.join("&").replace($b,"+")}});d.extend({active:0,lastModified:{},etag:{}});var ic=d.now(),Ka=/(\=)\?(&|$)|\?\?/i;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return d.expando+"_"+ic++}});d.ajaxPrefilter("json jsonp",function(a,c,e){c=a.contentType==="application/x-www-form-urlencoded"&&typeof a.data==="string";if(a.dataTypes[0]==="jsonp"||a.jsonp!==false&&(Ka.test(a.url)||c&&Ka.test(a.data))){var f,g=a.jsonpCallback=
d.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,h=j[g],l=a.url,n=a.data,p="$1"+g+"$2";if(a.jsonp!==false){l=l.replace(Ka,p);if(a.url===l){if(c)n=n.replace(Ka,p);if(a.data===n)l+=(/\?/.test(l)?"&":"?")+a.jsonp+"="+g}}a.url=l;a.data=n;j[g]=function(u){f=[u]};e.always(function(){j[g]=h;f&&d.isFunction(h)&&j[g](f[0])});a.converters["script json"]=function(){f||d.error(g+" was not called");return f[0]};a.dataTypes[0]="json";return"script"}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){d.globalEval(a);return a}}});d.ajaxPrefilter("script",function(a){if(a.cache===b)a.cache=false;if(a.crossDomain){a.type="GET";a.global=false}});d.ajaxTransport("script",function(a){if(a.crossDomain){var c,e=H.head||H.getElementsByTagName("head")[0]||H.documentElement;return{send:function(f,g){c=H.createElement("script");c.async="async";if(a.scriptCharset)c.charset=a.scriptCharset;c.src=a.url;c.onload=c.onreadystatechange=
function(h,l){if(l||!c.readyState||/loaded|complete/.test(c.readyState)){c.onload=c.onreadystatechange=null;e&&c.parentNode&&e.removeChild(c);c=b;l||g(200,"success")}};e.insertBefore(c,e.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var Sa=j.ActiveXObject?function(){for(var a in Ha)Ha[a](0,1)}:false,jc=0,Ha;d.ajaxSettings.xhr=j.ActiveXObject?function(){return!this.isLocal&&E()||U()}:E;(function(a){d.extend(d.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(d.ajaxSettings.xhr());d.support.ajax&&
d.ajaxTransport(function(a){if(!a.crossDomain||d.support.cors){var c;return{send:function(e,f){var g=a.xhr(),h,l;a.username?g.open(a.type,a.url,a.async,a.username,a.password):g.open(a.type,a.url,a.async);if(a.xhrFields)for(l in a.xhrFields)g[l]=a.xhrFields[l];a.mimeType&&g.overrideMimeType&&g.overrideMimeType(a.mimeType);if(!a.crossDomain&&!e["X-Requested-With"])e["X-Requested-With"]="XMLHttpRequest";try{for(l in e)g.setRequestHeader(l,e[l])}catch(n){}g.send(a.hasContent&&a.data||null);c=function(p,
u){var L,A,R,K,da;try{if(c&&(u||g.readyState===4)){c=b;if(h){g.onreadystatechange=d.noop;Sa&&delete Ha[h]}if(u)g.readyState!==4&&g.abort();else{L=g.status;R=g.getAllResponseHeaders();K={};if((da=g.responseXML)&&da.documentElement)K.xml=da;K.text=g.responseText;try{A=g.statusText}catch(qa){A=""}if(!L&&a.isLocal&&!a.crossDomain)L=K.text?200:404;else if(L===1223)L=204}}}catch(sa){u||f(-1,sa)}K&&f(L,A,K,R)};if(!a.async||g.readyState===4)c();else{h=++jc;if(Sa){if(!Ha){Ha={};d(j).unload(Sa)}Ha[h]=c}g.onreadystatechange=
c}},abort:function(){c&&c(0,1)}}}});var Na={},za,Ga,kc=/^(?:toggle|show|hide)$/,lc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,La,Wa=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Ia;d.fn.extend({show:function(a,c,e){if(a||a===0)return this.animate(aa("show",3),a,c,e);else{e=0;for(var f=this.length;e<f;e++){a=this[e];if(a.style){c=a.style.display;if(!d._data(a,"olddisplay")&&c==="none")c=a.style.display="";
c===""&&d.css(a,"display")==="none"&&d._data(a,"olddisplay",ja(a.nodeName))}}for(e=0;e<f;e++){a=this[e];if(a.style){c=a.style.display;if(c===""||c==="none")a.style.display=d._data(a,"olddisplay")||""}}return this}},hide:function(a,c,e){if(a||a===0)return this.animate(aa("hide",3),a,c,e);else{e=0;for(var f=this.length;e<f;e++){a=this[e];if(a.style){c=d.css(a,"display");c!=="none"&&!d._data(a,"olddisplay")&&d._data(a,"olddisplay",c)}}for(e=0;e<f;e++)if(this[e].style)this[e].style.display="none";return this}},
_toggle:d.fn.toggle,toggle:function(a,c,e){var f=typeof a==="boolean";if(d.isFunction(a)&&d.isFunction(c))this._toggle.apply(this,arguments);else a==null||f?this.each(function(){var g=f?a:d(this).is(":hidden");d(this)[g?"show":"hide"]()}):this.animate(aa("toggle",3),a,c,e);return this},fadeTo:function(a,c,e,f){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:c},a,e,f)},animate:function(a,c,e,f){function g(){h.queue===false&&d._mark(this);var l=d.extend({},h),n=this.nodeType===
1,p=n&&d(this).is(":hidden"),u,L,A,R,K;l.animatedProperties={};for(A in a){u=d.camelCase(A);if(A!==u){a[u]=a[A];delete a[A]}L=a[u];if(d.isArray(L)){l.animatedProperties[u]=L[1];L=a[u]=L[0]}else l.animatedProperties[u]=l.specialEasing&&l.specialEasing[u]||l.easing||"swing";if(L==="hide"&&p||L==="show"&&!p)return l.complete.call(this);if(n&&(u==="height"||u==="width")){l.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(d.css(this,"display")==="inline"&&d.css(this,"float")===
"none")if(!d.support.inlineBlockNeedsLayout||ja(this.nodeName)==="inline")this.style.display="inline-block";else this.style.zoom=1}}if(l.overflow!=null)this.style.overflow="hidden";for(A in a){n=new d.fx(this,l,A);L=a[A];if(kc.test(L))if(u=d._data(this,"toggle"+A)||(L==="toggle"?p?"show":"hide":0)){d._data(this,"toggle"+A,u==="show"?"hide":"show");n[u]()}else n[L]();else{u=lc.exec(L);R=n.cur();if(u){L=parseFloat(u[2]);K=u[3]||(d.cssNumber[A]?"":"px");if(K!=="px"){d.style(this,A,(L||1)+K);R=(L||1)/
n.cur()*R;d.style(this,A,R+K)}if(u[1])L=(u[1]==="-="?-1:1)*L+R;n.custom(R,L,K)}else n.custom(R,L,"")}}return true}var h=d.speed(c,e,f);if(d.isEmptyObject(a))return this.each(h.complete,[false]);a=d.extend({},a);return h.queue===false?this.each(g):this.queue(h.queue,g)},stop:function(a,c,e){if(typeof a!=="string"){e=c;c=a;a=b}if(c&&a!==false)this.queue(a||"fx",[]);return this.each(function(){function f(p,u,L){u=u[L];d.removeData(p,L,true);u.stop(e)}var g,h=false,l=d.timers,n=d._data(this);e||d._unmark(true,
this);if(a==null)for(g in n)n[g]&&n[g].stop&&g.indexOf(".run")===g.length-4&&f(this,n,g);else if(n[g=a+".run"]&&n[g].stop)f(this,n,g);for(g=l.length;g--;)if(l[g].elem===this&&(a==null||l[g].queue===a)){e?l[g](true):l[g].saveState();h=true;l.splice(g,1)}e&&h||d.dequeue(this,a)})}});d.each({slideDown:aa("show",1),slideUp:aa("hide",1),slideToggle:aa("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,c){d.fn[a]=function(e,f,g){return this.animate(c,
e,f,g)}});d.extend({speed:function(a,c,e){var f=a&&typeof a==="object"?d.extend({},a):{complete:e||!e&&c||d.isFunction(a)&&a,duration:a,easing:e&&c||c&&!d.isFunction(c)&&c};f.duration=d.fx.off?0:typeof f.duration==="number"?f.duration:f.duration in d.fx.speeds?d.fx.speeds[f.duration]:d.fx.speeds._default;if(f.queue==null||f.queue===true)f.queue="fx";f.old=f.complete;f.complete=function(g){d.isFunction(f.old)&&f.old.call(this);if(f.queue)d.dequeue(this,f.queue);else g!==false&&d._unmark(this)};return f},
easing:{linear:function(a,c,e,f){return e+f*a},swing:function(a,c,e,f){return(-Math.cos(a*Math.PI)/2+0.5)*f+e}},timers:[],fx:function(a,c,e){this.options=c;this.elem=a;this.prop=e;c.orig=c.orig||{}}});d.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(d.fx.step[this.prop]||d.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,c=d.css(this.elem,
this.prop);return isNaN(a=parseFloat(c))?!c||c==="auto"?0:c:a},custom:function(a,c,e){function f(l){return g.step(l)}var g=this,h=d.fx;this.startTime=Ia||ca();this.end=c;this.now=this.start=a;this.pos=this.state=0;this.unit=e||this.unit||(d.cssNumber[this.prop]?"":"px");f.queue=this.options.queue;f.elem=this.elem;f.saveState=function(){g.options.hide&&d._data(g.elem,"fxshow"+g.prop)===b&&d._data(g.elem,"fxshow"+g.prop,g.start)};if(f()&&d.timers.push(f)&&!La)La=setInterval(h.tick,h.interval)},show:function(){var a=
d._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||d.style(this.elem,this.prop);this.options.show=true;a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());d(this.elem).show()},hide:function(){this.options.orig[this.prop]=d._data(this.elem,"fxshow"+this.prop)||d.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a){var c,e=Ia||ca(),f=true,g=this.elem,h=this.options;if(a||e>=h.duration+this.startTime){this.now=
this.end;this.pos=this.state=1;this.update();h.animatedProperties[this.prop]=true;for(c in h.animatedProperties)if(h.animatedProperties[c]!==true)f=false;if(f){h.overflow!=null&&!d.support.shrinkWrapBlocks&&d.each(["","X","Y"],function(l,n){g.style["overflow"+n]=h.overflow[l]});h.hide&&d(g).hide();if(h.hide||h.show)for(c in h.animatedProperties){d.style(g,c,h.orig[c]);d.removeData(g,"fxshow"+c,true);d.removeData(g,"toggle"+c,true)}if(a=h.complete){h.complete=false;a.call(g)}}return false}else{if(h.duration==
Infinity)this.now=e;else{a=e-this.startTime;this.state=a/h.duration;this.pos=d.easing[h.animatedProperties[this.prop]](this.state,a,0,1,h.duration);this.now=this.start+(this.end-this.start)*this.pos}this.update()}return true}};d.extend(d.fx,{tick:function(){for(var a,c=d.timers,e=0;e<c.length;e++){a=c[e];!a()&&c[e]===a&&c.splice(e--,1)}c.length||d.fx.stop()},interval:13,stop:function(){clearInterval(La);La=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){d.style(a.elem,"opacity",
a.now)},_default:function(a){if(a.elem.style&&a.elem.style[a.prop]!=null)a.elem.style[a.prop]=a.now+a.unit;else a.elem[a.prop]=a.now}}});d.each(["width","height"],function(a,c){d.fx.step[c]=function(e){d.style(e.elem,c,Math.max(0,e.now)+e.unit)}});if(d.expr&&d.expr.filters)d.expr.filters.animated=function(a){return d.grep(d.timers,function(c){return a===c.elem}).length};var mc=/^t(?:able|d|h)$/i,sb=/^(?:body|html)$/i;d.fn.offset="getBoundingClientRect"in H.documentElement?function(a){var c=this[0],
e;if(a)return this.each(function(l){d.offset.setOffset(this,a,l)});if(!c||!c.ownerDocument)return null;if(c===c.ownerDocument.body)return d.offset.bodyOffset(c);try{e=c.getBoundingClientRect()}catch(f){}var g=c.ownerDocument,h=g.documentElement;if(!e||!d.contains(h,c))return e?{top:e.top,left:e.left}:{top:0,left:0};c=g.body;g=ma(g);return{top:e.top+(g.pageYOffset||d.support.boxModel&&h.scrollTop||c.scrollTop)-(h.clientTop||c.clientTop||0),left:e.left+(g.pageXOffset||d.support.boxModel&&h.scrollLeft||
c.scrollLeft)-(h.clientLeft||c.clientLeft||0)}}:function(a){var c=this[0];if(a)return this.each(function(L){d.offset.setOffset(this,a,L)});if(!c||!c.ownerDocument)return null;if(c===c.ownerDocument.body)return d.offset.bodyOffset(c);var e,f=c.offsetParent,g=c,h=c.ownerDocument,l=h.documentElement,n=h.body;e=(h=h.defaultView)?h.getComputedStyle(c,null):c.currentStyle;for(var p=c.offsetTop,u=c.offsetLeft;(c=c.parentNode)&&c!==n&&c!==l;){if(d.support.fixedPosition&&e.position==="fixed")break;e=h?h.getComputedStyle(c,
null):c.currentStyle;p-=c.scrollTop;u-=c.scrollLeft;if(c===f){p+=c.offsetTop;u+=c.offsetLeft;if(d.support.doesNotAddBorder&&!(d.support.doesAddBorderForTableAndCells&&mc.test(c.nodeName))){p+=parseFloat(e.borderTopWidth)||0;u+=parseFloat(e.borderLeftWidth)||0}g=f;f=c.offsetParent}if(d.support.subtractsBorderForOverflowNotVisible&&e.overflow!=="visible"){p+=parseFloat(e.borderTopWidth)||0;u+=parseFloat(e.borderLeftWidth)||0}e=e}if(e.position==="relative"||e.position==="static"){p+=n.offsetTop;u+=n.offsetLeft}if(d.support.fixedPosition&&
e.position==="fixed"){p+=Math.max(l.scrollTop,n.scrollTop);u+=Math.max(l.scrollLeft,n.scrollLeft)}return{top:p,left:u}};d.offset={bodyOffset:function(a){var c=a.offsetTop,e=a.offsetLeft;if(d.support.doesNotIncludeMarginInBodyOffset){c+=parseFloat(d.css(a,"marginTop"))||0;e+=parseFloat(d.css(a,"marginLeft"))||0}return{top:c,left:e}},setOffset:function(a,c,e){var f=d.css(a,"position");if(f==="static")a.style.position="relative";var g=d(a),h=g.offset(),l=d.css(a,"top"),n=d.css(a,"left"),p={},u={};if((f===
"absolute"||f==="fixed")&&d.inArray("auto",[l,n])>-1){u=g.position();f=u.top;n=u.left}else{f=parseFloat(l)||0;n=parseFloat(n)||0}if(d.isFunction(c))c=c.call(a,e,h);if(c.top!=null)p.top=c.top-h.top+f;if(c.left!=null)p.left=c.left-h.left+n;"using"in c?c.using.call(a,p):g.css(p)}};d.fn.extend({position:function(){if(!this[0])return null;var a=this[0],c=this.offsetParent(),e=this.offset(),f=sb.test(c[0].nodeName)?{top:0,left:0}:c.offset();e.top-=parseFloat(d.css(a,"marginTop"))||0;e.left-=parseFloat(d.css(a,
"marginLeft"))||0;f.top+=parseFloat(d.css(c[0],"borderTopWidth"))||0;f.left+=parseFloat(d.css(c[0],"borderLeftWidth"))||0;return{top:e.top-f.top,left:e.left-f.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||H.body;a&&!sb.test(a.nodeName)&&d.css(a,"position")==="static";)a=a.offsetParent;return a})}});d.each(["Left","Top"],function(a,c){var e="scroll"+c;d.fn[e]=function(f){var g,h;if(f===b){g=this[0];if(!g)return null;return(h=ma(g))?"pageXOffset"in h?h[a?"pageYOffset":
"pageXOffset"]:d.support.boxModel&&h.document.documentElement[e]||h.document.body[e]:g[e]}return this.each(function(){if(h=ma(this))h.scrollTo(!a?f:d(h).scrollLeft(),a?f:d(h).scrollTop());else this[e]=f})}});d.each(["Height","Width"],function(a,c){var e=c.toLowerCase();d.fn["inner"+c]=function(){var f=this[0];return f?f.style?parseFloat(d.css(f,e,"padding")):this[e]():null};d.fn["outer"+c]=function(f){var g=this[0];return g?g.style?parseFloat(d.css(g,e,f?"margin":"border")):this[e]():null};d.fn[e]=
function(f){var g=this[0];if(!g)return f==null?null:this;if(d.isFunction(f))return this.each(function(n){var p=d(this);p[e](f.call(this,n,p[e]()))});if(d.isWindow(g)){var h=g.document.documentElement["client"+c],l=g.document.body;return g.document.compatMode==="CSS1Compat"&&h||l&&l["client"+c]||h}else if(g.nodeType===9)return Math.max(g.documentElement["client"+c],g.body["scroll"+c],g.documentElement["scroll"+c],g.body["offset"+c],g.documentElement["offset"+c]);else if(f===b){g=d.css(g,e);h=parseFloat(g);
return d.isNumeric(h)?h:g}else return this.css(e,typeof f==="string"?f:f+"px")}});j.jQuery=j.$=d;typeof define==="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return d})})(window);steal.loaded("jquery/jquery.js");steal("jquery");steal.loaded("jquery/event/event.js");
steal("jquery").then(function(j){var b=function(D){return D.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},o=j.makeArray,r=1,x=j.View=function(D,m,s,B){if(typeof s==="function"){B=s;s=undefined}var Q=X(m);if(Q.length){var v=j.Deferred();Q.push(M(D,true));j.when.apply(j,Q).then(function(t){var E=o(arguments),U=E.pop()[0];if(P(m))m=Z(t);else for(var ca in m)if(P(m[ca]))m[ca]=Z(E.shift());E=U(m,s);v.resolve(E);B&&B(E)});return v.promise()}else{var y;Q=typeof B==="function";v=M(D,Q);if(Q){y=v;v.done(function(t){B(t(m,
s))})}else v.done(function(t){y=t(m,s)});return y}},I=function(D,m){if(!D.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+m;},M=function(D,m){return j.ajax({url:D,dataType:"view",async:m})},P=function(D){return D&&j.isFunction(D.always)},X=function(D){var m=[];if(P(D))return[D];else for(var s in D)P(D[s])&&m.push(D[s]);return m},Z=function(D){return j.isArray(D)&&D.length===3&&D[1]==="success"?D[0]:D};j.ajaxTransport("view",function(D,m){var s=m.url;D=s.match(/\.[\w\d]+$/);
var B,Q,v,y,t=function(U){U=B.renderer(v,U);if(x.cache)x.cached[v]=U;return{view:U}};if(Q=document.getElementById(s))D="."+Q.type.match(/\/(x\-)?(.+)/)[2];if(!D){D=x.ext;s+=x.ext}v=b(s);if(s.match(/^\/\//)){var E=s.substr(2);s=typeof steal==="undefined"?(s="/"+E):steal.root.mapJoin(E)+""}B=x.types[D];return{send:function(U,ca){if(x.cached[v])return ca(200,"success",{view:x.cached[v]});else if(Q)ca(200,"success",t(Q.innerHTML));else y=j.ajax({async:m.async,url:s,dataType:"text",error:function(){I("",
s);ca(404)},success:function(N){I(N,s);ca(200,"success",t(N))}})},abort:function(){y&&y.abort()}}});j.extend(x,{hookups:{},hookup:function(D){var m=++r;x.hookups[m]=D;return m},cached:{},cache:true,register:function(D){this.types["."+D.suffix]=D;window.steal&&steal.type(D.suffix+" view js",function(m,s){var B=x.types["."+m.type],Q=b(m.rootSrc+"");m.text=B.script(Q,m.text);s()})},types:{},ext:".ejs",registerScript:function(D,m,s){return"$.View.preload('"+m+"',"+x.types["."+D].script(m,s)+");"},preload:function(D,
m){x.cached[D]=function(s,B){return m.call(s,s,B)}}});window.steal&&steal.type("view js",function(D,m){var s=x.types["."+D.type],B=b(D.rootSrc+"");D.text="steal('"+(s.plugin||"jquery/view/"+D.type)+"').then(function($){$.View.preload('"+B+"',"+D.text+");\n})";m()});var G,W,ba,Y,ea,na,la,ga={val:true,text:true};G=function(D){var m=j.fn[D];j.fn[D]=function(){var s=o(arguments),B,Q,v=this;if(P(s[0])){s[0].done(function(y){W.call(v,[y],m)});return this}else if(ba(s)){if(B=na(s)){Q=s[B];s[B]=function(y){W.call(v,
[y],m);Q.call(v,y)};x.apply(x,s);return this}s=x.apply(x,s);if(P(s)){s.done(function(y){W.call(v,[y],m)});return this}else s=[s]}return ga[D]?m.apply(this,s):W.call(this,s,m)}};W=function(D,m){var s;for(var B in x.hookups)break;if(B&&D[0]&&Y(D[0])){s=x.hookups;x.hookups={};D[0]=j(D[0])}m=m.apply(this,D);s&&la(D[0],s);return m};ba=function(D){var m=typeof D[1];return typeof D[0]=="string"&&(m=="object"||m=="function")&&!ea(D[1])};ea=function(D){return D.nodeType||D.jquery};Y=function(D){if(ea(D))return true;
else if(typeof D==="string"){D=j.trim(D);return D.substr(0,1)==="<"&&D.substr(D.length-1,1)===">"&&D.length>=3}else return false};na=function(D){return typeof D[3]==="function"?3:typeof D[2]==="function"&&2};la=function(D,m){var s,B=0,Q,v;D=D.filter(function(){return this.nodeType!=3});D=D.add("[data-view-id]",D);for(s=D.length;B<s;B++)if(D[B].getAttribute&&(Q=D[B].getAttribute("data-view-id"))&&(v=m[Q])){v(D[B],Q);delete m[Q];D[B].removeAttribute("data-view-id")}j.extend(x.hookups,m)};j.fn.hookup=
function(){var D=x.hookups;x.hookups={};la(this,D);return this};j.each(["prepend","append","after","before","text","html","replaceWith","val"],function(D,m){G(m)})});steal.loaded("jquery/view/view.js");steal("jquery/lang/string",function(j){j.String.rsplit=function(b,o){for(var r=o.exec(b),x=[],I;r!==null;){I=r.index;if(I!==0){x.push(b.substring(0,I));b=b.slice(I)}x.push(r[0]);b=b.slice(r[0].length);r=o.exec(b)}b!==""&&x.push(b);return x}});steal.loaded("jquery/lang/string/rsplit/rsplit.js");
steal("jquery",function(j){j.toJSON=function(r,x,I,M){if(typeof JSON=="object"&&JSON.stringify)return JSON.stringify(r,x,I);if(!M&&j.isFunction(x))r=x("",r);if(typeof I=="number")I="          ".substring(0,I);I=typeof I=="string"?I.substring(0,10):"";var P=typeof r;if(r===null)return"null";if(!(P=="undefined"||P=="function")){if(P=="number"||P=="boolean")return r+"";if(P=="string")return j.quoteString(r);if(P=="object"){if(typeof r.toJSON=="function")return j.toJSON(r.toJSON(),x,I,true);if(r.constructor===
Date){I=r.getUTCMonth()+1;if(I<10)I="0"+I;M=r.getUTCDate();if(M<10)M="0"+M;var X=r.getUTCFullYear(),Z=r.getUTCHours();if(Z<10)Z="0"+Z;var G=r.getUTCMinutes();if(G<10)G="0"+G;var W=r.getUTCSeconds();if(W<10)W="0"+W;r=r.getUTCMilliseconds();if(r<100)r="0"+r;if(r<10)r="0"+r;return'"'+X+"-"+I+"-"+M+"T"+Z+":"+G+":"+W+"."+r+'Z"'}M=j.isFunction(x)?function(ea,na){return x(ea,na)}:function(ea,na){return na};X=I?"\n":"";W=I?" ":"";if(r.constructor===Array){Z=[];for(G=0;G<r.length;G++)Z.push((j.toJSON(M(G,
r[G]),x,I,true)||"null").replace(/^/gm,I));return"["+X+Z.join(","+X)+X+"]"}var ba=[];if(j.isArray(x))Z=j.map(x,function(ea){return typeof ea=="string"||typeof ea=="number"?ea+"":null});for(G in r){var Y;P=typeof G;if(!(Z&&j.inArray(G+"",Z)==-1)){if(P=="number")P='"'+G+'"';else if(P=="string")P=j.quoteString(G);else continue;Y=j.toJSON(M(G,r[G]),x,I,true);typeof Y!="undefined"&&ba.push((P+":"+W+Y).replace(/^/gm,I))}}return"{"+X+ba.join(","+X)+X+"}"}}};j.evalJSON=function(r){if(typeof JSON=="object"&&
JSON.parse)return JSON.parse(r);return eval("("+r+")")};j.secureEvalJSON=function(r){if(typeof JSON=="object"&&JSON.parse)return JSON.parse(r);var x=r;x=x.replace(/\\["\\\/bfnrtu]/g,"@");x=x.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");x=x.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(x))return eval("("+r+")");else throw new SyntaxError("Error parsing JSON, source is not valid.");};j.quoteString=function(r){if(r.match(b))return'"'+r.replace(b,function(x){var I=
o[x];if(typeof I==="string")return I;I=x.charCodeAt();return"\\u00"+Math.floor(I/16).toString(16)+(I%16).toString(16)})+'"';return'"'+r+'"'};var b=/["\\\x00-\x1f\x7f-\x9f]/g,o={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}});steal.loaded("jquery/lang/json/json.js");
steal("jquery/dom").then(function(j){var b=/radio|checkbox/i,o=/[^\[\]]+/g,r=/^[\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?$/,x=function(I){if(typeof I=="number")return true;if(typeof I!="string")return false;return I.match(r)};j.fn.extend({formParams:function(I){if(this[0].nodeName.toLowerCase()=="form"&&this[0].elements)return jQuery(jQuery.makeArray(this[0].elements)).getParams(I);return jQuery("input[name], textarea[name], select[name]",this[0]).getParams(I)},getParams:function(I){var M={},P;I=I===
undefined?false:I;this.each(function(){var X=this,Z=X.type&&X.type.toLowerCase();if(!(Z=="submit"||!X.name)){var G=X.name,W=j.data(X,"value")||j.fn.val.call([X]),ba=b.test(X.type);G=G.match(o);X=!ba||!!X.checked;if(I){if(x(W))W=parseFloat(W);else if(W==="true")W=true;else if(W==="false")W=false;if(W==="")W=undefined}P=M;for(ba=0;ba<G.length-1;ba++){P[G[ba]]||(P[G[ba]]={});P=P[G[ba]]}G=G[G.length-1];if(G in P&&Z==="checkbox"){j.isArray(P[G])||(P[G]=P[G]===undefined?[]:[P[G]]);X&&P[G].push(W)}else if(X||
!P[G])P[G]=X?W:undefined}});return M}})});steal.loaded("jquery/dom/form_params/form_params.js");steal("jquery");steal.loaded("jquery/dom/dom.js");
steal("jquery/view/ejs").then(function(j){j.View.preload("common_register_customer_views_customerForm_ejs",jQuery.EJS(function(b,o){try{with(o)with(b){b=[];var r=this.deliveryLocations;b.push("\n");var x=this.customer;b.push("\n");var I=x.defaultDeliveryLocation;b.push("\n");b.push("\n");b.push("\n");b.push("\n");b.push("\n");b.push("\n");b.push("\n");b.push("\n");b.push('<form id="customerForm" class="input-form" action="javascript:">\n');b.push("\n");b.push('\t<div class="input-form-title">');b.push(jQuery.EJS.clean(msg("form.title.profile")));
b.push("</div>\n");b.push("\n");b.push('\t<div class="input-form-row">\n');b.push('\t\t<label for="');b.push(jQuery.EJS.clean("reg_firstName"));b.push('">');b.push(jQuery.EJS.clean(msg("customer.registration.firstName")));b.push(":</label>\n");b.push('\t\t<input type="text" name="firstName" id="');b.push(jQuery.EJS.clean("reg_firstName"));b.push('" value="');b.push(jQuery.EJS.clean(x.firstName));b.push('"/>\n');b.push("\t</div>\n");b.push("\n");b.push('\t<div class="input-form-row">\n');b.push('\t\t<label for="');
b.push(jQuery.EJS.clean("reg_lastName"));b.push('">');b.push(jQuery.EJS.clean(msg("customer.registration.lastName")));b.push(":</label>\n");b.push('\t\t<input type="text" name="lastName" id="');b.push(jQuery.EJS.clean("reg_lastName"));b.push('" value="');b.push(jQuery.EJS.clean(x.lastName));b.push('"/>\n');b.push("\t</div>\n");b.push("\n");b.push('\t<div class="input-form-row">\n');b.push('\t\t<label for="');b.push(jQuery.EJS.clean("reg_email"));b.push('">');b.push(jQuery.EJS.clean(msg("customer.registration.email")));
b.push(":</label>\n");b.push('\t\t<input type="text" name="email" id="');b.push(jQuery.EJS.clean("reg_email"));b.push('" value="');b.push(jQuery.EJS.clean(x.email));b.push('"/>\n');b.push("\t</div>\n");b.push("\n");b.push('\t<div class="input-form-row">\n');b.push('\t\t<label for="');b.push(jQuery.EJS.clean("reg_ddl"));b.push('">');b.push(jQuery.EJS.clean(msg("customer.registration.ddl")));b.push(":</label>\n");b.push("\t\n");b.push('\t\t<select name="defaultDeliveryLocationId" id="');b.push(jQuery.EJS.clean("reg_ddl"));
b.push('">\n');b.push('\t\t\t<option value="-1"></option> \n');b.push("\t\t");for(o=0;o<r.length;o++){b.push("\n");b.push('\t\t\t<option value="');b.push(jQuery.EJS.clean(r[o].id));b.push('" ');b.push(jQuery.EJS.clean(I&&r[o].id==I.id?"selected='selected'":""));b.push(">\n");b.push("\t\t\t\t");b.push(jQuery.EJS.clean(r[o].name));b.push("\n");b.push("\t\t\t</option>\n");b.push("\t\t")}b.push("\n");b.push("\t\t</select>\n");b.push("\t</div>\n");b.push('\t<div class="input-form-row">\n');b.push('\t\t<label for="');
b.push(jQuery.EJS.clean("reg_subscribeMenuWeekly"));b.push('">');b.push(jQuery.EJS.clean(msg("customer.registration.subscribeMenuWeekly")));b.push(":</label>\n");b.push('\t\t<input type="checkbox" name="subscribe" id="');b.push(jQuery.EJS.clean("reg_subscribeMenuWeekly"));b.push('" ');b.push(jQuery.EJS.clean(x.isSubscribedMenuWeekly?"checked='checked'":""));b.push("/>\n");b.push("\t</div>\n");b.push('\t<div class="input-form-row">\n');b.push('\t\t<label for="');b.push(jQuery.EJS.clean("reg_subscribeNews"));
b.push('" \n');b.push('\t\t\ttitle="');b.push(jQuery.EJS.clean(msg("customer.registration.subscribeNews.title")));b.push('">');b.push(jQuery.EJS.clean(msg("customer.registration.subscribeNews")));b.push(":</label>\n");b.push('\t\t<input type="checkbox" name="subscribe" id="');b.push(jQuery.EJS.clean("reg_subscribeNews"));b.push('" ');b.push(jQuery.EJS.clean(x.isSubscribedNews?"checked='checked'":""));b.push("/>\n");b.push("\t</div>\n");b.push("\n");b.push('\t<div class="input-form-buttons-row">\n');
b.push('\t\t<input type="button" id="submitButton" value="');b.push(jQuery.EJS.clean(msg("customer.registration.done")));b.push('"/>\n');b.push("\t</div>\n");b.push("</form>\n");return b.join("")}}catch(M){M.lineNumber=null;throw M;}}))});steal.loaded("common/register_customer/views/customerForm.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_menu_list_views_list_ejs",jQuery.EJS(function(b,o){try{with(o)with(b){b=[];var r=Shop.Main.getToken();b.push("\n");b.push("\n");b.push('<div id="menuDiv">\n');b.push('\t<table id="menuTable">\n');b.push('\t\t<tr class="headerRow">\n');b.push('\t\t\t<td class="codeCell"></td>\n');b.push('\t\t\t<td class="articleCell"></td>\n');b.push('\t\t\t<td class="priceCell"></td>\t\n');b.push("\t\t</tr>\n");b.push("\t");for(o=0;o<this.length;o++){b.push("\n");
b.push("\t\t");var x=this[o].entity;b.push("\n");b.push("\t\t");var I=this[o].items;b.push("\n");b.push("\t\t<tr>\n");b.push('\t\t\t<td colspan="3" class="categoryCell">\n');b.push("\t\t\t\t");b.push(jQuery.EJS.clean(localize(x,"name")));b.push("\n");b.push("\t\t\t</td>\n");b.push("\t\t</tr>\n");b.push("\t\t");for(var M=0;M<I.length;M++){b.push("\n");b.push("\t\t\t");var P=I[M],X=P.isSoldOut,Z=P.isNew;b.push("\n");b.push('\t\t\t<tr class="articleRow">\n');b.push('\t\t\t\t<td class="codeCell">\n');
b.push("\t\t\t\t\t");b.push(jQuery.EJS.clean(P.code));b.push("\n");b.push("\t\t\t\t</td>\n");b.push('\t\t\t\t<td class="articleCell">\n');b.push('\t\t\t\t\t<div class="meal-header">\n');b.push('\t\t\t\t\t\t<a class="meal ');b.push(jQuery.EJS.clean(X?"meal-sold-out":""));b.push('" href="#view=order&meal=');b.push(jQuery.EJS.clean(P.id));b.push(jQuery.EJS.clean(r?"&token="+r:""));b.push('">');b.push(jQuery.EJS.clean(localize(P,"name")));b.push("</a>\n");b.push("\t\t\t\t\t\t");if(X){b.push(" \n");b.push('\t\t\t\t\t\t\t<span class="meal-sold-out-label">(');
b.push(jQuery.EJS.clean(msg("menu.article.soldOut.label")));b.push(")</span> \n");b.push("\t\t\t\t\t\t")}b.push("\n");b.push("\t\t\t\t\t\t");if(Z){b.push(" \n");b.push('\t\t\t\t\t\t\t<span class="meal-new-label">');b.push(jQuery.EJS.clean(msg("menu.article.new.label")));b.push("</span> \n");b.push("\t\t\t\t\t\t")}b.push("\n");b.push("\t\t\t\t\t</div>\n");b.push('\t\t\t\t\t<div class="meal-description">\n');b.push("\t\t\t\t\t\t");b.push(jQuery.EJS.clean(localize(P,"description")));b.push("\n");b.push('\t\t\t\t\t\t<span class="meal-padding">. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . </span>\n');
b.push("\t\t\t\t\t</div>\n");b.push("\t\t\t\t</td>\n");b.push('\t\t\t\t<td class="priceCell">\n');b.push("\t\t\t\t\t&nbsp;<br>\n");b.push("\t\t\t\t\t");b.push(jQuery.EJS.clean(P.priceDelivery));b.push(",- K\u010d\n");b.push("\t\t\t\t</td>\n");b.push("\t\t\t</tr>\n");b.push("\t\t")}b.push("\n");b.push("\t\t\n");b.push("\t")}b.push("\n");b.push("\t</table>\n");b.push("</div>\n");return b.join("")}}catch(G){G.lineNumber=null;throw G;}}))});steal.loaded("shop/menu/list/views/list.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_order_new_views_orderForm_ejs",jQuery.EJS(function(b,o){try{with(o)with(b){b=[];var r=this.article;b.push("\n");var x=this.customer;b.push("\n");var I=this.deliveryLocation;b.push("\n");var M=this.deliveryLocations;b.push("\n");b.push("\n");if(x){b.push("\n");b.push('<form id="orderForm" class="input-form" action="javascript:">\n');b.push("\n");b.push('\t<div class="input-form-title">');b.push(jQuery.EJS.clean(msg("form.title.order")));
b.push("</div>\n");b.push("\t\n");b.push('\t<div class="input-form-row">\n');b.push("\t\t<label>");b.push(jQuery.EJS.clean(msg("order.detail.article")));b.push(":</label> \n");b.push('\t\t<div id="articleName">');b.push(jQuery.EJS.clean(localize(r,"name")));b.push("</div>\n");b.push("\t</div>\n");b.push("\n");b.push('\t<div class="input-form-row">\n');b.push("\t\t<label>&nbsp;</label> \n");b.push('\t\t<div id="articleDescription">');b.push(jQuery.EJS.clean(localize(r,"description")));b.push("</div>\n");
b.push("\t</div>\n");b.push("\t\n");b.push('\t<div class="input-form-row">\n');b.push("\t\t<label>");b.push(jQuery.EJS.clean(msg("order.detail.price")));b.push(":</label>\n");b.push("\t\t");b.push(jQuery.EJS.clean(r.priceDelivery));b.push(",- CZK\n");b.push("\t</div>\n");b.push("\n");b.push('\t<div class="input-form-row">\n');b.push("\t\t<label>");b.push(jQuery.EJS.clean(msg("order.detail.customer")));b.push(":</label>\n");b.push("\t\t\t");b.push(jQuery.EJS.clean(x.firstName));b.push(" ");b.push(jQuery.EJS.clean(x.lastName));
b.push("\n");b.push("\t</div>\n");b.push('\t<div class="input-form-row">\n');b.push("\t\t<label>");b.push(jQuery.EJS.clean(msg("order.detail.deliveryLocation")));b.push(":</label>\n");b.push('\t\t<select id="deliveryLocationsSelect">\n');b.push('\t\t\t<option value="-1"></option> \n');b.push("\t\t");for(r=0;r<M.length;r++){b.push("\n");b.push('\t\t\t<option value="');b.push(jQuery.EJS.clean(M[r].id));b.push('" \n');b.push("\t\t\t\t");b.push(jQuery.EJS.clean(I&&I.id==M[r].id?"selected":""));b.push(" >");
b.push(jQuery.EJS.clean(M[r].name));b.push("</option>\n");b.push("\t\t")}b.push("\n");b.push("\t\t</select>\n");b.push("\t\t<br>\n");b.push("\t\t<label></label>\n");b.push('\t\t<div id="setDdlDiv" style="display : none;">\n');b.push('\t\t\t<input id="setDefaultDeliveryLocation" type="checkbox">\n');b.push("\t\t\t");b.push(jQuery.EJS.clean(msg("order.detail.setDefaultDeliveryLocation")));b.push("\n");b.push("\t\t</div>\n");b.push("\t</div>\n");b.push("\n");b.push('\t<div class="input-form-row">\n');
b.push("\t\t<label>");b.push(jQuery.EJS.clean(msg("order.detail.note")));b.push(":</label> \n");b.push('\t\t<textarea id="note"></textarea>\n');b.push("\t</div>\n");b.push("\n");b.push('\t<div class="input-form-buttons-row">\n');b.push('\t\t<input id="submitButton" type="button" value="');b.push(jQuery.EJS.clean(msg("order.detail.action.order")));b.push('" />\n');b.push("\t</div>\n");b.push("\n");b.push("</form>\n")}else{b.push("\n");b.push('\t<span class="modifiable">\n');b.push("\t\t");b.push(jQuery.EJS.clean(msg("order.detail.user.anonymous")));
b.push("\n");b.push("\t</span>\n");b.push("\t<p>");b.push(jQuery.EJS.clean(msg("order.detail.user.anonymous.message")));b.push("</p>\n")}b.push("\n");b.push("\n");return b.join("")}}catch(P){P.lineNumber=null;throw P;}}))});steal.loaded("shop/order/new/views/orderForm.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_order_new_views_orderMessage_ejs",jQuery.EJS(function(b,o){try{with(o)with(b){b=[];var r=this.orderResult;b.push("\n");var x=Shop.Main.getToken();b.push("\n");b.push("\n");b.push('<div class="general-message-dialogue">\n');b.push("\t");b.push(jQuery.EJS.clean(msg("order.detail.action.orderedMsg_"+r.resultCode)));b.push("\n");b.push("</div>\n");b.push("\n");b.push('<p><a href="#view=menu');b.push(jQuery.EJS.clean(x?"&token="+x:""));b.push('">');
b.push(jQuery.EJS.clean(msg("order.detail.viewMenu")));b.push("</a></p>\n");return b.join("")}}catch(I){I.lineNumber=null;throw I;}}))});steal.loaded("shop/order/new/views/orderMessage.ejs");steal("jquery/view/ejs").then(function(j){j.View.preload("shop_home_views_home_ejs",jQuery.EJS(function(b,o){try{with(o)with(b){b=[];b.push("\n");b.push("\tHome\n");return b.join("")}}catch(r){r.lineNumber=null;throw r;}}))});steal.loaded("shop/home/views/home.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_contacts_views_contacts_ejs",jQuery.EJS(function(b,o){try{with(o)with(b){b=[];b.push("\n");b.push('<table id="contacts" style="font-family : Helvetica CE">\n');b.push("\t<tr>\n");b.push('\t\t<td id="contacts-left">\n');b.push("\t\t\t<h2>Lunch4you s.r.o.</h2>\n");b.push("\t\t\t<br>\n");b.push("\t\t\t<h3>");b.push(jQuery.EJS.clean(msg("contacts.header.deliveryService")));b.push(":</h3>\t\n");b.push("\t\t\tRoztylsk\u00e1 2232/17 <br>\n");
b.push("\t\t\t14900 Praha 11 - Chodov <br>\n");b.push("\t\t\ttel: +420 774 096 313 <br>\n");b.push('\t\t\temail: <a href="mailto:lunch4you.cz@gmail.com">lunch4you.cz@gmail.com</a><br>\n');b.push("\t\t\n");b.push("\t\t\t<br>\n");b.push("\t\t\t<h3>");b.push(jQuery.EJS.clean(msg("contacts.header.restaurant")));b.push(":</h3>\t\n");b.push("\t\t\tOC R\u016f\u017ee\n");b.push("\t\t\tRoztylsk\u00e1 2232/17<br>\n");b.push("\t\t\t148 00 Praha 4 - Chodov <br>\n");b.push("\t\t\t<br>\n");b.push("\t\t\tVstup do restaurace / kav\u00e1rny na rohu OC R\u016f\u017ee (mezi st\u00e1nky Gyros a Pizza UNO) <br>\n");
b.push("\t\t\t\n");b.push("\t\t</td>\n");b.push('\t\t<td id="contacts-right">\n');b.push('\t\t\t<img style="display:block;" src="OC_Ruze.jpg" alt="OC Ruze"></img>\n');b.push('\t\t\t<!--img style="display:block;" src="map_OC_Ruze.jpg" alt="OC Ruze"></img--\>\n');b.push("\t\t\t<br>\n");b.push('\t\t\t<!--iframe frameBorder="0" style="border:none" width="308" height="190" src="http://api4.mapy.cz/frame?w=308&amp;h=190&amp;x=14.491158201893061&amp;y=50.03060013573989&amp;z=15&amp;o=0&amp;url=http://www.mapy.cz/s/66Pb&amp;mini=1&amp;layer=1&amp;dx=14.491158201893061&amp;dy=50.03060013573989&amp;dt=\u010dtvr\u0165 Praha 4, Praha, okres Hlavn\u00ed m\u011bsto Praha" target="New Window"></iframe--\>\n');
b.push('\t\t\t<a href="http://www.mapy.cz/s/66Pb" target="Lunch4you-Mapy.cz"><img src="http://www.mapy.cz/img/sharing-link-icon.png" width="88" height="31" border="0" alt="Najdete n\u00e1s na mapy.cz"></a>\n');b.push("\t\t</td>\n");b.push("\t</tr>\n");b.push("</div>\n");b.push("\n");b.push("\n");return b.join("")}}catch(r){r.lineNumber=null;throw r;}}))});steal.loaded("shop/contacts/views/contacts.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_ordering_views_ordering_ejs",jQuery.EJS(function(b,o){try{with(o)with(b){b=[];b.push("\n");b.push("\tOrdering\n");return b.join("")}}catch(r){r.lineNumber=null;throw r;}}))});steal.loaded("shop/ordering/views/ordering.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_referral_new_views_referralForm_ejs",jQuery.EJS(function(b,o){try{with(o)with(b){b=[];var r=this.customer;b.push("\n");b.push("\n");if(r){b.push("\n");b.push('<form id="referralForm" class="input-form" action="javascript:">\n');b.push("\n");b.push('\t<div class="input-form-title">');b.push(jQuery.EJS.clean(msg("form.title.referral")));b.push("</div>\n");b.push("\n");b.push('\t<div class="input-form-row">\n');b.push("\t\t<label>");b.push(jQuery.EJS.clean(msg("referral.detail.sender")));
b.push(":</label>\n");b.push('\t\t<div id="currentCustomerDetails">\n');b.push('\t\t\t<span class="">');b.push(jQuery.EJS.clean(r.firstName));b.push(" ");b.push(jQuery.EJS.clean(r.lastName));b.push("</span>\n");b.push("\t\t</div>\n");b.push("\t\t\n");b.push("\t</div>\n");b.push("\n");b.push('\t<div class="input-form-row">\n');b.push("\t\t<label>");b.push(jQuery.EJS.clean(msg("referral.detail.recipientEmails")));b.push(":<br>\n");b.push("\t\t<span>(");b.push(jQuery.EJS.clean(msg("referral.detail.recipientEmails_multiple")));
b.push(")</span></label> \n");b.push('\t\t<textarea id="recipientEmail" type="text"></textarea>\n');b.push("\t</div>\n");b.push("\n");b.push('\t<div class="input-form-row">\n');b.push("\t\t<label>");b.push(jQuery.EJS.clean(msg("referral.detail.referralMessage")));b.push(":</label> \n");b.push('\t\t<textarea id="referralMessage"></textarea>\n');b.push("\t</div>\n");b.push("\n");b.push('\t<div class="input-form-buttons-row">\n');b.push('\t\t<input id="submitButton" type="button" value="');b.push(jQuery.EJS.clean(msg("referral.detail.action.recommend")));
b.push('" />\n');b.push("\t</div>\n");b.push("</form>\n")}else{b.push("\n");b.push("\t<p>");b.push(jQuery.EJS.clean(msg("referral.detail.user.anonymous.message")));b.push("</p>\n")}b.push("\n");b.push("\t\n");return b.join("")}}catch(x){x.lineNumber=null;throw x;}}))});steal.loaded("shop/referral/new/views/referralForm.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_profile_edit_views_edit_ejs",jQuery.EJS(function(b,o){try{with(o)with(b){b=[];var r=this.customer;b.push("\n");b.push("\n");b.push('<div class="customer-box">\n');if(r){b.push("\n");b.push('\t<div id="profile-edit"></div>\n')}else{b.push("\n");b.push("\t<p>");b.push(jQuery.EJS.clean(msg("profile.edit.user.anonymous.message")));b.push("</p>\n")}b.push("\n");b.push("</div>\n");return b.join("")}}catch(x){x.lineNumber=null;throw x;}}))});
steal.loaded("shop/profile/edit/views/edit.ejs");steal("jquery/view/ejs").then(function(j){j.View.preload("shop_profile_edit_views_updateConfirmation_ejs",jQuery.EJS(function(b,o){try{with(o)with(b){b=[];b.push("\n");b.push("\n");b.push('<div class="general-message-dialogue">\n');b.push("\t");b.push(jQuery.EJS.clean(msg("customer.registration.updateSuccess.msg")));b.push("\n");b.push("</div>");return b.join("")}}catch(r){r.lineNumber=null;throw r;}}))});steal.loaded("shop/profile/edit/views/updateConfirmation.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_auth_register_views_registerForm_ejs",jQuery.EJS(function(b,o){try{with(o)with(b){b=[];b.push("\n");b.push("\n");b.push("\n");b.push("\n");b.push('<form id="registerForm" class="input-form" action="javascript:">\n');b.push("\n");b.push('\t<div class="input-form-title">');b.push(jQuery.EJS.clean(msg("form.title.register")));b.push("</div>\n");b.push("\n");b.push('\t<div class="input-form-instruction">');b.push(jQuery.EJS.clean(msg("customer.registration.instructions")));
b.push("</div>\n");b.push("\n");b.push('\t<div class="input-form-row">\n');b.push('\t\t<label for="');b.push(jQuery.EJS.clean("reg_firstName"));b.push('">');b.push(jQuery.EJS.clean(msg("customer.registration.firstName")));b.push(":</label>\n");b.push('\t\t<input type="text" name="firstName" id="');b.push(jQuery.EJS.clean("reg_firstName"));b.push('" value=""/>\n');b.push("\t</div>\n");b.push("\n");b.push('\t<div class="input-form-row">\n');b.push('\t\t<label for="');b.push(jQuery.EJS.clean("reg_lastName"));
b.push('">');b.push(jQuery.EJS.clean(msg("customer.registration.lastName")));b.push(":</label>\n");b.push('\t\t<input type="text" name="lastName" id="');b.push(jQuery.EJS.clean("reg_lastName"));b.push('" value=""/>\n');b.push("\t</div>\n");b.push("\n");b.push('\t<div class="input-form-row">\n');b.push('\t\t<label for="');b.push(jQuery.EJS.clean("reg_email"));b.push('">');b.push(jQuery.EJS.clean(msg("customer.registration.email")));b.push(":<span \n");b.push('\t\t\tclass="required"\n');b.push('\t\t\ttitle="');
b.push(jQuery.EJS.clean(msg("common.form.required")));b.push('"\n');b.push("\t\t>*</span></label>\n");b.push('\t\t<input type="text" name="email" id="');b.push(jQuery.EJS.clean("reg_email"));b.push('" value=""/>\n');b.push("\t</div>\n");b.push("\n");b.push('\t<div class="input-form-buttons-row">\n');b.push('\t\t<input type="button" id="submitButton" value="');b.push(jQuery.EJS.clean(msg("auth.register.submit")));b.push('"/>\n');b.push("\t</div>\n");b.push("</form>\n");return b.join("")}}catch(r){r.lineNumber=
null;throw r;}}))});steal.loaded("shop/auth/register/views/registerForm.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_auth_signin_views_signinForm_ejs",jQuery.EJS(function(b,o){try{with(o)with(b){b=[];b.push("\n");var r=Shop.Auth.Signin.getSigninEmail();b.push("\n");b.push("\n");b.push('<form id="signinForm" class="input-form" action="javascript:">\n');b.push("\n");b.push('\t<div class="input-form-title">');b.push(jQuery.EJS.clean(msg("form.title.signin")));b.push("</div>\n");b.push("\t\n");b.push('\t<div class="input-form-instruction">');b.push(jQuery.EJS.clean(msg("auth.signin.instructions")));
b.push("</div>\n");b.push("\n");b.push('\t<div class="input-form-row">\n');b.push('\t\t<label for="');b.push(jQuery.EJS.clean("reg_email"));b.push('">');b.push(jQuery.EJS.clean(msg("customer.registration.email")));b.push(":<span \n");b.push('\t\t\tclass="required"\n');b.push('\t\t\ttitle="');b.push(jQuery.EJS.clean(msg("common.form.required")));b.push('"\n');b.push("\t\t>*</span></label>\n");b.push('\t\t<!--input type="text" name="email" id="');b.push(jQuery.EJS.clean("reg_email"));b.push('" value="');
b.push(jQuery.EJS.clean(r?r:""));b.push('"/--\>\n');b.push('\t\t<input type="text" name="email" id="');b.push(jQuery.EJS.clean("reg_email"));b.push('" value=""/>\n');b.push("\t</div>\n");b.push("\n");b.push('\t<div class="input-form-buttons-row">\n');b.push('\t\t<input type="button" id="submitButton" value="');b.push(jQuery.EJS.clean(msg("auth.signin.submit")));b.push('"/>\n');b.push("\t</div>\n");b.push("</form>\n");return b.join("")}}catch(x){x.lineNumber=null;throw x;}}))});steal.loaded("shop/auth/signin/views/signinForm.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_auth_signin_views_pinForm_ejs",jQuery.EJS(function(b,o){try{with(o)with(b){b=[];b.push("\n");b.push("\n");b.push("\n");b.push('<form id="pinForm" class="input-form" action="javascript:">\n');b.push("\n");b.push('\t<div class="input-form-title">');b.push(jQuery.EJS.clean(msg("form.title.pin")));b.push("</div>\n");b.push("\n");b.push('\t<div class="input-form-row">\n');b.push('\t\t<label for="');b.push(jQuery.EJS.clean("reg_pin"));b.push('">');
b.push(jQuery.EJS.clean(msg("customer.registration.pin")));b.push(":<span \n");b.push('\t\t\tclass="required"\n');b.push('\t\t\ttitle="');b.push(jQuery.EJS.clean(msg("common.form.required")));b.push('"\n');b.push("\t\t>*</span></label>\n");b.push('\t\t<input type="text" name="pin" id="');b.push(jQuery.EJS.clean("reg_pin"));b.push('" value=""/>\n');b.push("\t</div>\n");b.push("\n");b.push('\t<div class="input-form-buttons-row">\n');b.push('\t\t<input type="button" id="submitButton" value="');b.push(jQuery.EJS.clean(msg("auth.pin.submit")));
b.push('"/>\n');b.push("\t</div>\n");b.push("</form>\n");return b.join("")}}catch(r){r.lineNumber=null;throw r;}}))});steal.loaded("shop/auth/signin/views/pinForm.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_auth_signin_views_signedIn_ejs",jQuery.EJS(function(b,o){try{with(o)with(b){b=[];b.push("\n");b.push('<div class="general-message-dialogue">\n');b.push("\t");b.push(jQuery.EJS.clean(msg("auth.signin.alreadySignedIn.message")));b.push("\n");b.push("</div>");return b.join("")}}catch(r){r.lineNumber=null;throw r;}}))});steal.loaded("shop/auth/signin/views/signedIn.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_auth_signin_views_success_ejs",jQuery.EJS(function(b,o){try{with(o)with(b){b=[];b.push("\n");b.push('<div class="general-message-dialogue">\n');b.push("\t");b.push(jQuery.EJS.clean(msg("auth.signin.success.message")));b.push("\n");b.push("</div>");return b.join("")}}catch(r){r.lineNumber=null;throw r;}}))});steal.loaded("shop/auth/signin/views/success.ejs");
steal("jquery/model","jquery/lang/json",function(){$.Model("Shop.Models.Article",{findAll:function(j,b){return $.ajax({url:"articles/find.json",dataType:"json article.models",success:j,error:b||Shop.errorHandler})},getGroupedMenu:function(j,b){return $.ajax({url:"articles/groupedByCategory.json?activeDelivery=true&activeRestaurantWeekly=null&activeRestaurantDaily=null",dataType:"json article.models",success:j,error:b||Shop.errorHandler})},findOne:function(j,b,o){return $.ajax({url:"articles/"+j+".json",
dataType:"json article.model",success:b,error:o||Shop.errorHandler})}},{})});steal.loaded("shop/models/article.js");
steal("jquery/model","jquery/lang/json",function(){$.Model("Shop.Models.Order",{create:function(j,b,o,r,x,I,M){return $.ajax({url:"orders.json",type:"POST",contentType:"application/json",data:$.toJSON({articleId:j.id,customerId:b.id,deliveryLocationId:o,setDefaultDeliveryLocation:r,note:x}),dataType:"json order.model",success:I,error:M||Shop.errorHandler})}},{getTotal:function(){return this.onlyItem.article.price*this.onlyItem.amount}})});steal.loaded("shop/models/order.js");
steal("jquery/model","jquery/lang/json",function(){$.Model("Shop.Models.Customer",{findByToken:function(j,b,o){return $.ajax({url:"customers/byToken/"+j+".json",dataType:"json customer.model",success:b,error:o||Shop.errorHandler})},findByEmail:function(j,b,o){return $.ajax({url:"customers/byEmail.json?email="+j,dataType:"json customer.model",success:b,error:o||Shop.errorHandler})},findByPin:function(j,b,o,r){return $.ajax({url:"customers/byPin.json?email="+j+"&pin="+b,dataType:"json customer.model",
success:o,error:r||Shop.errorHandler})},sendSigninEmail:function(j,b,o){return $.ajax({url:"customers/sendSignInEmail.json?email="+j,dataType:"json customer.model",success:b,error:o||Shop.errorHandler})},getCurrent:function(j,b){return $.ajax({url:"shop/currentCustomer.json",dataType:"json customer.model",success:j,error:b||Shop.errorHandler})},register:function(j,b,o){return $.ajax({url:"customers/register.json",type:"POST",contentType:"application/json",data:$.toJSON(j),dataType:"json customer.model",
success:b,error:o||Shop.errorHandler})},updateProfile:function(j,b,o,r){return $.ajax({url:"customers/updateProfile.json",type:"POST",contentType:"application/json",data:$.toJSON({customer:j,defaultDeliveryLocationId:b}),dataType:"json customer.model",success:o,error:r||Shop.errorHandler})},createReferral:function(j,b,o,r,x){return $.ajax({url:"customers/createReferral.json",type:"POST",contentType:"application/json",data:$.toJSON({senderId:j.id,recipientEmails:b,referralMessage:o}),dataType:"json customer.model",
success:r,error:x||Shop.errorHandler})}},{})});steal.loaded("shop/models/customer.js");steal("jquery/model","jquery/lang/json",function(){$.Model("Shop.Models.DeliveryLocation",{findAll:function(j,b){return $.ajax({url:"deliveryLocations/find.json",dataType:"json",success:j,error:b||Shop.errorHandler})},findOne:function(j,b,o){return $.ajax({url:"deliveryLocations/"+j+".json",dataType:"json article.model",success:b,error:o||Shop.errorHandler})}},{})});steal.loaded("shop/models/deliveryLocation.js");
steal("jquery/model","jquery/lang/json",function(){$.Model("Shop.Models.Dictionary",{loadDictionary:function(j,b){return $.ajax({url:"shop/i18n/"+j+".txt",dataType:"json",success:b,error:function(){alert("Error loading localization data for locale '"+j+"'")}})}},{})});steal.loaded("shop/models/dictionary.js");
steal("jquery/model","jquery/lang/json",function(){$.Model("Shop.Models.Category",{findAll:function(j,b){return $.ajax({url:"categories/find.json",dataType:"json category.models",success:j,error:b||Shop.errorHandler})}},{})});steal.loaded("shop/models/category.js");
steal("jquery/class","jquery/lang/string",function(){var j=$.String,b=j.getObject,o=j.underscore,r=j.classize,x=$.isArray,I=$.makeArray,M=$.extend,P=$.each,X=function(m,s,B){$.event.trigger(s,B,m,true)},Z=function(m,s,B,Q,v,y,t){if(typeof m=="string"){var E=m.indexOf(" ");m=E>-1?{url:m.substr(E+1),type:m.substr(0,E)}:{url:m}}m.data=typeof s=="object"&&!x(s)?M(m.data||{},s):s;m.url=j.sub(m.url,m.data,true);return $.ajax(M({type:y||"post",dataType:t||"json",fixture:v,success:B,error:Q},m))},G=function(m,
s,B){var Q=o(m.shortName),v="-"+Q+(s||"");return $.fixture&&$.fixture[v]?v:B||"//"+o(m.fullName).replace(/\.models\..*/,"").replace(/\./g,"/")+"/fixtures/"+Q+(s||"")+".json"},W=function(m,s,B){s=s||{};m=m.id;if(s[m]&&s[m]!==B){s["new"+j.capitalize(B)]=s[m];delete s[m]}s[m]=B;return s},ba=function(m){return new (m||$.Model.List||Array)},Y=function(m){return m[m.constructor.id]},ea=function(m){var s=[];P(m,function(B,Q){if(!Q["__u Nique"]){s.push(Q);Q["__u Nique"]=1}});return P(s,function(B,Q){delete Q["__u Nique"]})},
na=function(m,s,B,Q,v){var y=$.Deferred(),t=[m.serialize(),function(N){m[v||s+"d"](N);y.resolveWith(m,[m,N,s])},function(N){y.rejectWith(m,[N])}],E=m.constructor,U,ca=y.promise();s=="destroy"&&t.shift();s!=="create"&&t.unshift(Y(m));y.then(B);y.fail(Q);if((U=E[s].apply(E,t))&&U.abort)ca.abort=function(){U.abort()};return ca},la=function(m){return typeof m==="object"&&m!==null&&m},ga=function(m){return function(){return $.fn[m].apply($([this]),arguments)}},D=ga("bind");ga=ga("unbind");ajaxMethods=
{create:function(m){return function(s,B,Q){return Z(m||this._shortName,s,B,Q,G(this,"Create","-restCreate"))}},update:function(m){return function(s,B,Q,v){return Z(m||this._shortName+"/{"+this.id+"}",W(this,B,s),Q,v,G(this,"Update","-restUpdate"),"put")}},destroy:function(m){return function(s,B,Q){var v={};v[this.id]=s;return Z(m||this._shortName+"/{"+this.id+"}",v,B,Q,G(this,"Destroy","-restDestroy"),"delete")}},findAll:function(m){return function(s,B,Q){return Z(m||this._shortName,s,B,Q,G(this,
"s"),"get","json "+this._shortName+".models")}},findOne:function(m){return function(s,B,Q){return Z(m||this._shortName+"/{"+this.id+"}",s,B,Q,G(this),"get","json "+this._shortName+".model")}}};jQuery.Class("jQuery.Model",{setup:function(m){var s=this,B=this.fullName;P(["attributes","validations"],function(v,y){if(!s[y]||m[y]===s[y])s[y]={}});P(["convert","serialize"],function(v,y){if(m[y]!=s[y])s[y]=M({},m[y],s[y])});this._fullName=o(B.replace(/\./g,"_"));this._shortName=o(this.shortName);if(B.indexOf("jQuery")!=
0){if(this.listType)this.list=new this.listType([]);P(ajaxMethods,function(v,y){var t=s[v];if(typeof t!=="function")s[v]=y(t)});B={};var Q="* "+this._shortName+".model";B[Q+"s"]=this.proxy("models");B[Q]=this.proxy("model");$.ajaxSetup({converters:B})}},attributes:{},model:function(m){if(!m)return null;if(m instanceof this)m=m.serialize();return new this(la(m[this._shortName])||la(m.data)||la(m.attributes)||m)},models:function(m){if(!m)return null;var s=ba(this.List),B=x(m),Q=$.Model.List;Q=Q&&m instanceof
Q;for(var v=(Q=B?m:Q?m.serialize():m.data)?Q.length:null,y=0;y<v;y++)s.push(this.model(Q[y]));B||P(m,function(t,E){if(t!=="data")s[t]=E});return s},id:"id",addAttr:function(m,s){var B=this.attributes;B[m]||(B[m]=s);return s},convert:{date:function(m){var s=typeof m;return s==="string"?isNaN(Date.parse(m))?null:Date.parse(m):s==="number"?new Date(m):m},number:function(m){return parseFloat(m)},"boolean":function(m){return Boolean(m==="false"?0:m)},"default":function(m,s,B){s=b(B);var Q=window;if(B.indexOf(".")>=
0){B=B.substring(0,B.lastIndexOf("."));Q=b(B)}return typeof s=="function"?s.call(Q,m):m}},serialize:{"default":function(m){return la(m)&&m.serialize?m.serialize():m},date:function(m){return m&&m.getTime()}},bind:D,unbind:ga,_ajax:Z},{setup:function(m){this._init=true;this.attrs(M({},this.constructor.defaults,m));delete this._init},update:function(m,s,B){this.attrs(m);return this.save(s,B)},errors:function(m){if(m)m=x(m)?m:I(arguments);var s={},B=this,Q=function(y,t){P(t,function(E,U){if(E=U.call(B)){s[y]||
(s[y]=[]);s[y].push(E)}})},v=this.constructor.validations;P(m||v||{},function(y,t){if(typeof y=="number"){y=t;t=v[y]}Q(y,t||[])});return $.isEmptyObject(s)?null:s},attr:function(m,s,B,Q){var v=r(m),y="get"+v;if(s!==undefined){v="set"+v;y=this[m];var t=this,E=function(U){Q&&Q.call(t,U);X(t,"error."+m,U)};if(this[v]&&(s=this[v](s,this.proxy("_updateProperty",m,s,y,B,E),E))===undefined)return;this._updateProperty(m,s,y,B,E);return this}return this[y]?this[y]():this[m]},bind:D,unbind:ga,_updateProperty:function(m,
s,B,Q,v){var y=this.constructor,t=y.attributes[m]||y.addAttr(m,"string"),E=y.convert[t]||y.convert["default"],U=null,ca="",N="updated.";Q=Q;var aa=y.list;s=this[m]=s===null?null:E.call(y,s,function(){},t);this._init||(U=this.errors(m));t=[s];E=[m,s,B];if(U){ca=N="error.";Q=v;E.splice(1,0,U);t.unshift(U)}if(B!==s&&!this._init){!U&&X(this,ca+m,t);X(this,N+"attr",E)}Q&&Q.apply(this,t);if(m===y.id&&s!==null&&aa)if(B){if(B!=s){aa.remove(B);aa.push(this)}}else aa.push(this)},removeAttr:function(m){var s=
this[m],B=false,Q=this.constructor.attributes;this[m]&&delete this[m];if(Q[m]){delete Q[m];B=true}!this._init&&B&&s&&X(this,"updated.attr",[m,null,s])},attrs:function(m){var s,B=this.constructor,Q=B.attributes;if(m){B=B.id;for(s in m)s!=B&&this.attr(s,m[s]);B in m&&this.attr(B,m[B])}else{m={};for(s in Q)if(Q.hasOwnProperty(s))m[s]=this.attr(s)}return m},serialize:function(){var m=this.constructor,s=m.attributes,B,Q,v={},y;attributes={};for(y in s)if(s.hasOwnProperty(y)){B=s[y];Q=m.serialize[B]||m.serialize["default"];
v[y]=Q.call(m,this[y],B)}return v},isNew:function(){var m=Y(this);return m===undefined||m===null||m===""},save:function(m,s){return na(this,this.isNew()?"create":"update",m,s)},destroy:function(m,s){return na(this,"destroy",m,s,"destroyed")},identity:function(){var m=Y(this),s=this.constructor;return(s._fullName+"_"+(s.escapeIdentity?encodeURIComponent(m):m)).replace(/ /g,"_")},elements:function(m){var s=this.identity();if(this.constructor.escapeIdentity)s=s.replace(/([ #;&,.+*~\'%:"!^$[\]()=>|\/])/g,
"\\$1");return $("."+s,m)},hookup:function(m){var s=this.constructor._shortName,B=$.data(m,"models")||$.data(m,"models",{});$(m).addClass(s+" "+this.identity());B[s]=this}});P(["created","updated","destroyed"],function(m,s){$.Model.prototype[s]=function(B){var Q=this.constructor;s==="destroyed"&&Q.list&&Q.list.remove(Y(this));B&&typeof B=="object"&&this.attrs(B.attrs?B.attrs():B);X(this,s);X(Q,s,this);return[this].concat(I(arguments))}});$.fn.models=function(){var m=[],s,B;this.each(function(){P($.data(this,
"models")||{},function(Q,v){s=s===undefined?v.constructor.List||null:v.constructor.List===s?s:null;m.push(v)})});B=ba(s);B.push.apply(B,ea(m));return B};$.fn.model=function(m){if(m&&m instanceof $.Model){m.hookup(this[0]);return this}else return this.models.apply(this,arguments)[0]}});steal.loaded("jquery/model/model.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view").then("./views/page.ejs","./views/mainHeader.ejs",function(j){j.Controller("Shop.Main",{_availableLocales:["cz","en"],_navigationItems:["menu","contacts","referral"],getNavigationItems:function(){return this._navigationItems},getAvailableLocales:function(){return this._availableLocales},getLocale:function(){if(!this.locale)this.locale=Shop.Utils.loadFromCookie("locale")||"cz";return this.locale},setLocale:function(b){for(var o=0;o<
this._availableLocales.length;o++)if(this._availableLocales[o]==b){Shop.Utils.saveToCookie("locale",b);this.locale=b;break}},getToken:function(){if(!this.token)this.token=Shop.Utils.loadFromCookie("token");return this.token},setToken:function(b){Shop.Utils.saveToCookie("token",b);this.token=b},getDeliveryLocationById:function(b){var o=j.grep(Shop.deliveryLocations,function(r){return r.id==b});if(o.length==0){alert("Error, DeliveryLocation not found for id : "+b);return null}if(o.length>1){alert("Error, Multiple DeliveryLocations found for id : "+
b);return null}return o[0]},setDefaultDeliveryLocation:function(b){Shop.customer.defaultDeliveryLocation=this.getDeliveryLocationById(b)},reloadCustomer:function(){var b=this.getToken();Shop.Models.Customer.findByToken(b,Shop.Main.prototype.proxy("_customerReloaded"))},getCustomer:function(){return Shop.customer},navigateTo:function(b,o){var r=Shop.params.token;o=o||{};o.view=b;if(r&&!o.token)o.token=r;j.bbq.pushState(o,2)}},{init:function(){j.ajaxSetup({cache:false});j.EJS.Helpers.prototype.currentView=
function(){return this.msg("header."+Shop.params.view)};j.EJS.Helpers.prototype.msg=function(x){return Shop.Main.dictionary[x]};j.EJS.Helpers.prototype.localize=function(x,I){return x[I+"_"+Shop.Main.getLocale()]};this._parseHash();this._rememberToken();var b=this.Class.getToken(),o=null;o=b?Shop.Models.Customer.findByToken(b,this.proxy("_customerLoaded")):function(){return null};b=Shop.Models.DeliveryLocation.findAll(this.proxy("_deliveryLocationsLoaded"));var r=Shop.Models.Dictionary.loadDictionary(this.Class.getLocale(),
this.proxy("_dictionaryLoaded"));j.when(o,b,r).done(this.proxy("_render"))},_customerLoaded:function(b){Shop.customer=b},_customerReloaded:function(b){Shop.customer=b;j("#main-header-pane").html(this.view("mainHeader",this))},_deliveryLocationsLoaded:function(b){Shop.deliveryLocations=b},_dictionaryLoaded:function(b){this.Class.dictionary=b},_loadDictionary:function(){var b=Shop.Models.Dictionary.loadDictionary(this.Class.getLocale(),this.proxy("_dictionaryLoaded"));j.when(b).done(this.proxy("_render"))},
_render:function(){j("#content").html(this.view("page",this));this.initialized=true;j(function(){j(window).trigger("hashchange")})},"{window} hashchange":function(){if(this.initialized){this._parseHash();switch(Shop.params.view){case "home":this._setScreen("shop_home");break;case "contacts":this._setScreen("shop_contacts");break;case "ordering":this._setScreen("shop_ordering");break;case "menu":this._setScreen("shop_menu_list");break;case "order":Shop.params.meal?this._setScreen("shop_order_new"):
alert("Invalid URL! Missing article.");break;case "referral":this._setScreen("shop_referral_new");break;case "profile":this._setScreen("shop_profile_edit");break;case "register":this._setScreen("shop_auth_register");break;case "signin":this._setScreen("shop_auth_signin");break;default:alert("Invalid URL! Unknown or missing view.")}}},"#main-customer-link click":function(){this.Class.navigateTo("profile")},"#main-lang-selector click":function(b){b=b.attr("locale");Shop.Main.setLocale(b);this._loadDictionary(b)},
"#main-referral-link click":function(){this.Class.navigateTo("referral")},"#main-registration-link click":function(){this.Class.navigateTo("register")},"#main-login-link click":function(){this.Class.navigateTo("signin")},".main-navigation-selector click":function(b){b=b.attr("navigationIndex");this.Class.navigateTo(this.Class.getNavigationItems()[b])},_parseHash:function(){Shop.params=j.bbq.getState()},_rememberToken:function(){var b=Shop.params.token;b&&this.Class.setToken(b)},_setScreen:function(b){j("#main-screen-name").html(j.EJS.Helpers.prototype.currentView());
j("#main-detail")[b]()}});Shop.errorHandler=function(b,o,r){alert("An error occured!\nStatus: "+o+"\nDetails: "+r)}});steal.loaded("shop/main/main.js");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_main_views_page_ejs",jQuery.EJS(function(b,o){try{with(o)with(b){b=[];b.push("\n");b.push('<div id="main-header-pane">\n');b.push(jQuery.EJS.text(j.View("//shop/main/views/mainHeader.ejs")));b.push("\n");b.push("</div>\n");b.push("\n");b.push('<div id="main-detail">\n');b.push("</div>\n");return b.join("")}}catch(r){r.lineNumber=null;throw r;}}))});steal.loaded("shop/main/views/page.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_main_views_mainHeader_ejs",jQuery.EJS(function(b,o){try{with(o)with(b){b=[];var r=Shop.Main.getAvailableLocales();b.push("\n");var x=Shop.Main.getNavigationItems();b.push("\n");b.push("\n");b.push("\n");b.push('<table id="main-header">\n');b.push('\t<tr class="dummy-row">\n');b.push('\t\t<td class="left-column"></td>\n');b.push('\t\t<td class="middle-column"></td>\n');b.push('\t\t<td class="right-column"></td>\n');b.push("\t</t>\n");b.push("\t<tr>\n");
b.push('\t\t<td id="logo-cell" class="left-column" rowspan="2">\n');b.push('\t\t\t<div id="main-logo"></div>\n');b.push("\t\t</td>\n");b.push('\t\t<td id="service-cell" colspan="2">\n');b.push('\t\t\t<span id="main-customer-info">\n');b.push("\t\t\t\t");if(Shop.customer){b.push("\n");b.push('\t\t\t\t<a id="main-customer-link" href="javascript:"> ');b.push(jQuery.EJS.clean(Shop.customer.firstName));b.push(" ");b.push(jQuery.EJS.clean(Shop.customer.lastName))}else{b.push("\n");b.push("\t\t\t\t\t<!-- ");
b.push(jQuery.EJS.clean(msg("main.navigation.anonymous")));b.push(" --\>\n");b.push("\t\t\t\t\t<!-- prepared for future\n");b.push("\t\t\t\t\t--\> \n");b.push('\t\t\t\t\t<a id="main-registration-link" href="javascript:"\n');b.push('\t\t\t\t\t\ttitle="');b.push(jQuery.EJS.clean(msg("main.navigation.link.registration.title")));b.push('"\n');b.push("\t\t\t\t\t>");b.push(jQuery.EJS.clean(msg("main.navigation.link.registration")));b.push("</a>\n");b.push("\t\t\t\t\t/\n");b.push('\t\t\t\t\t<a id="main-login-link" href="javascript:"\n');
b.push('\t\t\t\t\t\ttitle="');b.push(jQuery.EJS.clean(msg("main.navigation.link.login.title")));b.push('"\n');b.push("\t\t\t\t\t>");b.push(jQuery.EJS.clean(msg("main.navigation.link.login")))}b.push("</a>\n");b.push("\t\t\t\t");b.push("\n");b.push("\t\t\t</span>\n");b.push("\t\t\t|\n");b.push('\t\t\t<span id="main-lang" >\n');b.push("\t\t\t");for(o=0;o<r.length;o++){b.push("\n");b.push('\t\t\t\t<a id="main-lang-selector" locale="');b.push(jQuery.EJS.clean(r[o]));b.push('" href="javascript:">\n');
b.push('\t\t\t\t\t<img class="main-lang-flag" src="');b.push(jQuery.EJS.clean(r[o]));b.push('.gif"></img>\n');b.push("\t\t\t\t</a>\n");b.push("\t\t\t")}b.push("\n");b.push("\t\t\t</span>\n");b.push("\t\t</td>\n");b.push("\t</tr>\n");b.push("\t<tr>\n");b.push('\t\t<td  id="navigation-cell">\n');b.push('\t\t\t<div id="main-navigation">\n');b.push("\t\t\t\t");for(o=0;o<x.length;o++){b.push("\n");b.push("\t\t\t\t\t");b.push(jQuery.EJS.clean(o>0?"|":""));b.push("\n");b.push('\t\t\t\t\t<a class="main-navigation-selector" navigationIndex="');
b.push(jQuery.EJS.clean(o));b.push('" href="javascript:">');b.push(jQuery.EJS.clean(msg("main.navigation.items."+x[o])));b.push("</a>\n");b.push("\t\t\t\t")}b.push("\n");b.push("\t\t\t</div>\n");b.push("\t\t</td>\n");b.push('\t\t<td class="right-column">\n');b.push("\t\t</td>\n");b.push("\t</tr>\n");b.push("</table>\n");return b.join("")}}catch(I){I.lineNumber=null;throw I;}}))});steal.loaded("shop/main/views/mainHeader.ejs");
