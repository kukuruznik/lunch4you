steal.loading('shop/shop.js','jquery/controller/controller.js','jquery/view/ejs/ejs.js','jquery/controller/view/view.js','jquery/event/bbq/bbq.js','jquery/dom/cookie/cookie.js','shop/utils/utils.js','common/register_customer/register_customer.js','shop/menu/list/list.js','shop/order/new/newOrder.js','shop/home/home.js','shop/contacts/contacts.js','shop/ordering/ordering.js','shop/referral/new/newReferral.js','shop/profile/edit/editProfile.js','shop/models/models.js','jquery/class/class.js','jquery/lang/string/string.js','jquery/event/destroyed/destroyed.js','jquery/jquery.js','jquery/event/event.js','jquery/view/view.js','jquery/lang/string/rsplit/rsplit.js','jquery/lang/json/json.js','jquery/dom/form_params/form_params.js','jquery/dom/dom.js','common/register_customer/views/customerForm.ejs','shop/menu/list/views/list.ejs','shop/menu/list/views/restaurantMenu.ejs','shop/order/new/views/orderForm.ejs','shop/order/new/views/orderMessage.ejs','shop/home/views/home.ejs','shop/contacts/views/contacts.ejs','shop/ordering/views/ordering.ejs','shop/referral/new/views/referralDetail.ejs','shop/profile/edit/views/edit.ejs','shop/profile/edit/views/updateConfirmation.ejs','shop/models/article.js','shop/models/order.js','shop/models/customer.js','shop/models/deliveryLocation.js','shop/models/dictionary.js','shop/models/category.js','jquery/model/model.js','shop/main/main.js','shop/main/views/page.ejs');
steal({src: 'shop/production.css', has: ['shop/shop.css','common/form.css']});
steal("jquery/controller","jquery/view/ejs","jquery/controller/view","jquery/event/bbq","jquery/dom/cookie","shop/utils/utils.js","common/register_customer/register_customer.js","shop/menu/list/list.js","shop/order/new/newOrder.js","shop/home/home.js","shop/contacts/contacts.js","shop/ordering/ordering.js","shop/referral/new/newReferral.js","shop/profile/edit/editProfile.js","shop/shop.css","common/form.css","shop/models/models.js").then("shop/main",function(){$("#content").shop_main()});steal.loaded("shop/shop.js");
steal("jquery/class","jquery/lang/string","jquery/event/destroyed",function(j){var c=function(v,y,t){var E,U=v.bind&&v.unbind?v:j(x(v)?[v]:v);if(y.indexOf(">")===0){y=y.substr(1);E=function(ca){ca.target===v&&t.apply(this,arguments)}}U.bind(y,E||t);return function(){U.unbind(y,E||t);v=y=t=E=null}},q=j.makeArray,s=j.isArray,x=j.isFunction,G=j.extend,J=j.String,N=j.each,W=Array.prototype.slice,Z=function(v,y,t,E){var U=v.delegate&&v.undelegate?v:j(x(v)?[v]:v);U.delegate(y,t,E);return function(){U.undelegate(y,
t,E);U=v=t=E=y=null}},H=function(v,y,t,E){return E?Z(v,E,y,t):c(v,y,t)},X=function(v,y){var t=typeof y=="string"?v[y]:y;return function(){v.called=y;return t.apply(v,[this.nodeName?j(this):this].concat(W.call(arguments,0)))}},ba=/\./g,Y=/_?controllers?/ig,ea=function(v){return J.underscore(v.replace("jQuery.","").replace(ba,"_").replace(Y,""))},na=/[^\w]/,la=/\{([^\}]+)\}/g,ga=/^(?:(.*?)\s)?([\w\.\:>]+)$/,D,m=function(v,y){return j.data(v,"controllers",y)};j.Class("jQuery.Controller",{setup:function(){this._super.apply(this,
arguments);if(!(!this.shortName||this.fullName=="jQuery.Controller")){this._fullName=ea(this.fullName);this._shortName=ea(this.shortName);var v=this,y=this.pluginName||this._fullName,t;j.fn[y]||(j.fn[y]=function(E){var U=q(arguments),ca=typeof E=="string"&&x(v.prototype[E]),O=U[0];return this.each(function(){var aa=m(this);if(aa=aa&&aa[y])ca?aa[O].apply(aa,U.slice(1)):aa.update.apply(aa,U);else v.newInstance.apply(v,[this].concat(U))})});this.actions={};for(t in this.prototype)if(!(t=="constructor"||
!x(this.prototype[t])))if(this._isAction(t))this.actions[t]=this._action(t)}},hookup:function(v){return new this(v)},_isAction:function(v){return na.test(v)?true:j.inArray(v,this.listensTo)>-1||j.event.special[v]||r[v]},_action:function(v,y){la.lastIndex=0;if(!y&&la.test(v))return null;v=y?J.sub(v,[y,window]):v;y=s(v);var t=(y?v[1]:v).match(ga);return{processor:r[t[2]]||D,parts:t,delegate:y?v[0]:undefined}},processors:{},listensTo:[],defaults:{}},{setup:function(v,y){var t=this.constructor;v=(typeof v==
"string"?j(v):v.jquery?v:[v])[0];var E=t.pluginName||t._fullName;this.element=j(v).addClass(E);(m(v)||m(v,{}))[E]=this;this.options=G(G(true,{},t.defaults),y);this.called="init";this.bind();return[this.element,this.options].concat(q(arguments).slice(2))},bind:function(v,y,t){if(v===undefined){this._bindings=[];v=this.constructor;y=this._bindings;t=v.actions;var E=this.element;for(funcName in t)if(t.hasOwnProperty(funcName)){ready=t[funcName]||v._action(funcName,this.options);y.push(ready.processor(ready.delegate||
E,ready.parts[2],ready.parts[1],funcName,this))}var U=X(this,"destroy");E.bind("destroyed",U);y.push(function(ca){j(ca).unbind("destroyed",U)});return y.length}if(typeof v=="string"){t=y;y=v;v=this.element}return this._binder(v,y,t)},_binder:function(v,y,t,E){if(typeof t=="string")t=X(this,t);this._bindings.push(H(v,y,t,E));return this._bindings.length},_unbind:function(){var v=this.element[0];N(this._bindings,function(y,t){t(v)});this._bindings=[]},delegate:function(v,y,t,E){if(typeof v=="string"){E=
t;t=y;y=v;v=this.element}return this._binder(v,t,E,y)},update:function(v){G(this.options,v);this._unbind();this.bind()},destroy:function(){if(this._destroyed)throw this.constructor.shortName+" controller already deleted";var v=this.constructor.pluginName||this.constructor._fullName;this._destroyed=true;this.element.removeClass(v);this._unbind();delete this._actions;delete this.element.data("controllers")[v];j(this).triggerHandler("destroyed");this.element=null},find:function(v){return this.element.find(v)},
_set_called:true});var r=j.Controller.processors;D=function(v,y,t,E,U){return H(v,y,X(U,E),t)};N("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave".split(" "),function(v,y){r[y]=D});var B,Q=function(v,y){for(B=0;B<y.length;B++)if(typeof y[B]=="string"?v.constructor._shortName==y[B]:v instanceof y[B])return true;return false};j.fn.extend({controllers:function(){var v=q(arguments),
y=[],t,E,U;this.each(function(){t=j.data(this,"controllers");for(U in t)if(t.hasOwnProperty(U)){E=t[U];if(!v.length||Q(E,v))y.push(E)}});return y},controller:function(){return this.controllers.apply(this,arguments)[0]}})});steal.loaded("jquery/controller/controller.js");
steal("jquery/view","jquery/lang/string/rsplit").then(function(j){var c=function(t){eval(t)},q=j.String.rsplit,s=j.extend,x=j.isArray,G=/\r\n/g,J=/\r/g,N=/\n/g,W=/\n/,Z=/\\/g,H=/"/g,X=/'/g,ba=/\t/g,Y=/\{/g,ea=/\}/g,na=/\s*\(([\$\w]+)\)\s*->([^\n]*)/,la=function(t){return t.replace(Z,"\\\\").replace(N,"\\n").replace(H,'\\"').replace(ba,"\\t")},ga=function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(H,"&#34;").replace(X,"&#39;")},D=j.View,m=function(t){var E=
t.match(Y);t=t.match(ea);return(E?E.length:0)-(t?t.length:0)},r=function(t){if(this.constructor!=r){var E=new r(t);return function(U,ca){return E.render(U,ca)}}if(typeof t=="function")this.template={fn:t};else{s(this,r.options,t);this.template=y(this.text,this.type,this.name)}};window.jQuery&&(jQuery.EJS=r);r.prototype.render=function(t,E){t=t||{};this._extra_helpers=E;E=new r.Helpers(t,E||{});return this.template.fn.call(t,t,E)};s(r,{text:function(t){if(typeof t=="string")return t;if(t===null||t===
undefined)return"";var E=t.hookup&&function(U,ca){t.hookup.call(t,U,ca)}||typeof t=="function"&&t||x(t)&&function(U,ca){for(var O=0;O<t.length;O++)t[O].hookup?t[O].hookup(U,ca):t[O](U,ca)};if(E)return"data-view-id='"+D.hookup(E)+"'";return t.toString?t.toString():""},clean:function(t){return typeof t=="string"?ga(t):typeof t=="number"?t:r.text(t)},options:{type:"<",ext:".ejs"}});var B=function(t,E,U){E=q(E,W);for(var ca=0;ca<E.length;ca++)Q(t,E[ca],U)},Q=function(t,E,U){t.lines++;E=q(E,t.splitter);
for(var ca,O=0;O<E.length;O++){ca=E[O];ca!==null&&U(ca,t)}},v=function(t,E){var U={};s(U,{left:t+"%",right:"%"+E,dLeft:t+"%%",dRight:"%%"+E,eeLeft:t+"%==",eLeft:t+"%=",cmnt:t+"%#",scan:B,lines:0});U.splitter=new RegExp("("+[U.dLeft,U.dRight,U.eeLeft,U.eLeft,U.cmnt,U.left,U.right+"\n",U.right,"\n"].join(")|(").replace(/\[/g,"\\[").replace(/\]/g,"\\]")+")");return U},y=function(t,E,U){t=t.replace(G,"\n").replace(J,"\n");E=E||"<";var ca=new r.Buffer(["var ___v1ew = [];"],[]),O="",aa=function(oa){ca.push("___v1ew.push(",
'"',la(oa),'");')},ja=null,ma=function(){O=""},I=[];B(v(E,E==="["?"]":">"),t||"",function(oa,ha){if(ja===null)switch(oa){case "\n":O+="\n";aa(O);ca.cr();ma();break;case ha.left:case ha.eLeft:case ha.eeLeft:case ha.cmnt:ja=oa;O.length>0&&aa(O);ma();break;case ha.dLeft:O+=ha.left;break;default:O+=oa;break}else switch(oa){case ha.right:switch(ja){case ha.left:oa=m(O);ha=I.length&&oa==-1?I.pop():";";ha==="));"&&ca.push("return ___v1ew.join('')");ca.push(O,ha);oa===1&&I.push(";");break;case ha.eLeft:(oa=
m(O))&&I.push("));");if(na.test(O)){ha=O.match(na);O="function(__){var "+ha[1]+"=$(__);"+ha[2]+"}"}ca.push("___v1ew.push(","jQuery.EJS.clean(",O,oa?"var ___v1ew = [];":"));");break;case ha.eeLeft:(oa=m(O))&&I.push("));");ca.push("___v1ew.push(","jQuery.EJS.text(",O,oa?"var ___v1ew = [];":"));");break}ja=null;ma();break;case ha.dRight:O+=ha.right;break;default:O+=oa;break}});O.length>0&&ca.push("___v1ew.push(",'"',la(O)+'");');t={out:"try { with(_VIEW) { with (_CONTEXT) {"+ca.close()+" return ___v1ew.join('')}}}catch(e){e.lineNumber=null;throw e;}"};
c.call(t,"this.fn = (function(_CONTEXT,_VIEW){"+t.out+"});\r\n//@ sourceURL="+U+".js");return t};r.Buffer=function(t,E){this.line=[];this.script=[];this.post=E;this.push.apply(this,t)};r.Buffer.prototype={push:function(){this.line.push.apply(this.line,arguments)},cr:function(){this.script.push(this.line.join(""),"\n");this.line=[]},close:function(){if(this.line.length>0){this.script.push(this.line.join(""));this.line=[]}this.post.length&&this.push.apply(this,this.post);this.script.push(";");return this.script.join("")}};
r.Helpers=function(t,E){this._data=t;this._extras=E;s(this,E)};r.Helpers.prototype={plugin:function(){var t=j.makeArray(arguments),E=t.shift();return function(U){U=j(U);U[E].apply(U,t)}},view:function(t,E,U){U=U||this._extras;E=E||this._data;return D(t,E,U)}};D.register({suffix:"ejs",script:function(t,E){return"jQuery.EJS(function(_CONTEXT,_VIEW) { "+(new r({text:E,name:t})).template.out+" })"},renderer:function(t,E){return r({text:E,name:t})}})});steal.loaded("jquery/view/ejs/ejs.js");
steal("jquery/controller","jquery/view").then(function(){var j=steal.URI||steal.File;jQuery.Controller.getFolder=function(){return jQuery.String.underscore(this.fullName.replace(/\./g,"/")).replace("/Controllers","")};jQuery.Controller._calculatePosition=function(q,s,x){var G=q.fullName.split("."),J=G.slice(0);J.splice(0,2);J.join("/");G=(q=G.length>2&&G[1]=="Controllers")?jQuery.String.underscore(G[0]):jQuery.String.underscore(G.join("/"));J=jQuery.String.underscore(J.join("/")).toLowerCase();var N=
typeof s=="string"&&/\.[\w\d]+$/.test(s)?"":jQuery.View.ext;if(typeof s=="string"){if(s.substr(0,2)!="//")s="//"+j(G).join("views/"+(s.indexOf("/")!==-1?s:(q?J+"/":"")+s))+N}else s||(s="//"+j(G).join("views/"+(q?J+"/":"")+x.replace(/\.|#/g,"").replace(/ /g,"_"))+N);return s};var c=function(q){var s={};if(q)if(jQuery.isArray(q))for(var x=0;x<q.length;x++)jQuery.extend(s,q[x]);else jQuery.extend(s,q);else{if(this._default_helpers)s=this._default_helpers;q=window;x=this.constructor.fullName.split(/\./);
for(var G=0;G<x.length;G++)if(q){typeof q.Helpers=="object"&&jQuery.extend(s,q.Helpers);q=q[x[G]]}q&&typeof q.Helpers=="object"&&jQuery.extend(s,q.Helpers);this._default_helpers=s}return s};jQuery.Controller.prototype.view=function(q,s,x){if(typeof q!="string"&&!x){x=s;s=q;q=null}q=jQuery.Controller._calculatePosition(this.Class,q,this.called);s=s||this;x=c.call(this,x);return jQuery.View(q,s,x)}});steal.loaded("jquery/controller/view/view.js");
steal("jquery").then(function(){(function(j,c){function q(O){return typeof O==="string"}function s(O){var aa=H.call(arguments,1);return function(){return O.apply(this,aa.concat(H.call(arguments)))}}function x(O){return O.replace(/^[^#]*#?(.*)$/,"$1")}function G(O){return O.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function J(O,aa,ja,ma,I){var oa;if(ma!==Z){aa=ja.match(O?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);ja=aa[3]||"";if(I===2&&q(ma))ma=ma.replace(O?E:t,"");else{oa=ea(aa[2]);ma=q(ma)?
ea[O?Q:B](ma):ma;ma=I===2?ma:I===1?j.extend({},ma,oa):j.extend({},oa,ma);ma=ba(ma);if(O)ma=ma.replace(U,X)}O=aa[1]+(O?"#":ma||!aa[1]?"?":"")+ma+ja}else O=aa(ja!==Z?ja:c[v][y]);return O}function N(O,aa,ja){if(aa===Z||typeof aa==="boolean"){ja=aa;aa=ba[O?Q:B]()}else aa=q(aa)?aa.replace(O?E:t,""):aa;return ea(aa,ja)}function W(O,aa,ja,ma){if(!q(ja)&&typeof ja!=="object"){ma=ja;ja=aa;aa=Z}return this.each(function(){var I=j(this),oa=aa||m()[(this.nodeName||"").toLowerCase()]||"",ha=oa&&I.attr(oa)||"";
I.attr(oa,ba[O](ha,ja,ma))})}var Z,H=Array.prototype.slice,X=decodeURIComponent,ba=j.param,Y,ea,na,la=j.bbq=j.bbq||{},ga,D,m,r=j.event.special,B="querystring",Q="fragment",v="location",y="href",t=/^.*\?|#.*$/g,E=/^.*\#/,U,ca={};ba[B]=s(J,0,G);ba[Q]=Y=s(J,1,x);Y.noEscape=function(O){O=O||"";O=j.map(O.split(""),encodeURIComponent);U=new RegExp(O.join("|"),"g")};Y.noEscape(",/");j.deparam=ea=function(O,aa){var ja={},ma={"true":true,"false":false,"null":null};j.each(O.replace(/\+/g," ").split("&"),function(I,
oa){var ha=oa.split("=");I=X(ha[0]);oa=ja;var d=0,va=I.split("]["),xa=va.length-1;if(/\[/.test(va[0])&&/\]$/.test(va[xa])){va[xa]=va[xa].replace(/\]$/,"");va=va.shift().split("[").concat(va);xa=va.length-1}else xa=0;if(ha.length===2){ha=X(ha[1]);if(aa)ha=ha&&!isNaN(ha)?+ha:ha==="undefined"?Z:ma[ha]!==Z?ma[ha]:ha;if(xa)for(;d<=xa;d++){I=va[d]===""?oa.length:va[d];oa=oa[I]=d<xa?oa[I]||(va[d+1]&&isNaN(va[d+1])?{}:[]):ha}else if(j.isArray(ja[I]))ja[I].push(ha);else ja[I]=ja[I]!==Z?[ja[I],ha]:ha}else if(I)ja[I]=
aa?Z:""});return ja};ea[B]=s(N,0);ea[Q]=na=s(N,1);j.elemUrlAttr||(j.elemUrlAttr=function(O){return j.extend(ca,O)})({a:y,base:y,iframe:"src",img:"src",input:"src",form:"action",link:y,script:"src"});m=j.elemUrlAttr;j.fn[B]=s(W,B);j.fn[Q]=s(W,Q);la.pushState=ga=function(O,aa){if(q(O)&&/^#/.test(O)&&aa===Z)aa=2;var ja=O!==Z;O=Y(c[v][y],ja?O:{},ja?aa:2);c[v][y]=O+(/#/.test(O)?"":"#")};la.getState=D=function(O,aa){return O===Z||typeof O==="boolean"?na(O):na(aa)[O]};la.removeState=function(O){var aa={};
if(O!==Z){aa=D();j.each(j.isArray(O)?O:arguments,function(ja,ma){delete aa[ma]})}ga(aa,2)};r.hashchange=j.extend(r.hashchange,{add:function(O){function aa(ma){var I=ma[Q]=Y();ma.getState=function(oa,ha){return oa===Z||typeof oa==="boolean"?ea(I,oa):ea(I,ha)[oa]};ja.apply(this,arguments)}var ja;if(j.isFunction(O)){ja=O;return aa}else{ja=O.handler;O.handler=aa}}})})(jQuery,this);(function(j,c,q){function s(X){X=X||c[J][N];return X.replace(/^[^#]*#?(.*)$/,"$1")}var x,G=j.event.special,J="location",N=
"href",W=document.documentMode,Z=j.browser.msie&&(W===q||W<8),H="onhashchange"in c&&!Z;j.hashchangeDelay=100;G.hashchange=j.extend(G.hashchange,{setup:function(){if(H)return false;j(x.start)},teardown:function(){if(H)return false;j(x.stop)}});x=function(){function X(){na=la=function(ga){return ga};if(Z){ea=j('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;la=function(){return s(ea.document[J][N])};na=function(ga,D){if(ga!==D){D=ea.document;D.open().close();D[J].hash="#"+
ga}};na(s())}}var ba={},Y,ea,na,la;ba.start=function(){if(!Y){var ga=s();na||X();(function D(){var m=s(),r=la(ga);if(m!==ga){na(ga=m,r);j(c).trigger("hashchange")}else if(r!==ga)c[J][N]=c[J][N].replace(/#.*/,"")+"#"+r;Y=setTimeout(D,j.hashchangeDelay)})()}};ba.stop=function(){if(!ea){Y&&clearTimeout(Y);Y=0}};return ba}()})(jQuery,this)});steal.loaded("jquery/event/bbq/bbq.js");
steal("jquery/lang/json",function(){jQuery.cookie=function(j,c,q){if(typeof c!="undefined"){q=q||{};if(c===null){c="";q.expires=-1}if(typeof c=="object"&&jQuery.toJSON)c=jQuery.toJSON(c);var s="";if(q.expires&&(typeof q.expires=="number"||q.expires.toUTCString)){if(typeof q.expires=="number"){s=new Date;s.setTime(s.getTime()+q.expires*24*60*60*1E3)}else s=q.expires;s="; expires="+s.toUTCString()}var x=q.path?"; path="+q.path:"",G=q.domain?"; domain="+q.domain:"";q=q.secure?"; secure":"";document.cookie=
[j,"=",encodeURIComponent(c),s,x,G,q].join("")}else{c=null;if(document.cookie&&document.cookie!=""){q=document.cookie.split(";");for(s=0;s<q.length;s++){x=jQuery.trim(q[s]);if(x.substring(0,j.length+1)==j+"="){c=decodeURIComponent(x.substring(j.length+1));break}}}if(jQuery.evalJSON&&c&&c.match(/^\s*\{/))try{c=jQuery.evalJSON(c)}catch(J){}return c}}});steal.loaded("jquery/dom/cookie/cookie.js");
steal("jquery/class").then(function(j){j.Class("Shop.Utils",{getLocalizedMessage:function(c){j.EJS.Helpers.prototype.msg(c)},isEmailAddressValid:function(c){return/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(c)},isCookieEnabled:function(){this.saveToCookie("tEsT","tEsT");var c=this.loadFromCookie("tEsT")=="tEsT";this.saveToCookie("tEsT",null);return c},loadFromCookie:function(c){return j.cookie(c)},saveToCookie:function(c,q){j.cookie(c,q)},enableInput:function(c,q){q?c.removeAttr("disabled"):
c.attr("disabled","disabled")}},{})});steal.loaded("shop/utils/utils.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view","jquery/dom/form_params").then("./views/customerForm.ejs",function(j){j.Controller("Common.RegisterCustomer",{},{init:function(){this.deliveryLocations=this.options.deliveryLocations||[];this.customer=this.options.customer||{};this._render()},"#submitButton click":function(c,q){this.element.trigger("updateProfile",this.element.find("form").formParams());q.preventDefault();return false},"input[type=reset] click":function(c,q){this._close();
q.preventDefault();return false},_close:function(){this.element.trigger("close")},"{document} keypress":function(c,q){q.keyCode==27&&this._close()},_render:function(){this.element.html(this.view("customerForm",this))}})});steal.loaded("common/register_customer/register_customer.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view").then("./views/list.ejs","./views/restaurantMenu.ejs",function(j){j.Controller("Shop.Menu.List",{},{init:function(){this._reloadMenu()},update:function(){this._reloadMenu()},_reloadMenu:function(){Shop.Models.Article.getGroupedMenu(true,null).done(this.proxy("_render"))},_render:function(c){this.groupedMenu=c;this.element.html(this.view("list",this.groupedMenu));this.newWin=window.open("shop/menu/menuRestaurant.html");j(this.newWin).load(this.proxy("_loadRestaurantData"))},
_loadRestaurantData:function(){Shop.Models.Article.getGroupedMenu(null,true).done(this.proxy("_renderRestaurantMenu"))},_renderRestaurantMenu:function(c){j(this.newWin.document.body).html(this.view("restaurantMenu",c))}})});steal.loaded("shop/menu/list/list.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view").then("./views/orderForm.ejs","./views/orderMessage.ejs",function(j){j.Controller("Shop.Order.New",{},{init:function(){this._reloadData()},update:function(){this._reloadData()},"#submitButton click":function(){this._createOrder()},"#deliveryLocationsSelect change":function(c){c=c.val();var q=j("#setDdlDiv"),s=j("#setDefaultDeliveryLocation");if(c==-1)q.hide();else{var x=null;if(Shop.customer&&Shop.customer.defaultDeliveryLocation)x=
Shop.customer.defaultDeliveryLocation.id;if(!x||x!=c){q.show();x||s.attr("checked","true")}else q.hide()}},_reloadData:function(){Shop.Models.Article.findOne(Shop.params.meal,this.proxy("_onDataLoaded"))},_onDataLoaded:function(c){this.article=c;this.deliveryLocations=Shop.deliveryLocations;this.deliveryLocation=(this.customer=Shop.customer)?this.customer.defaultDeliveryLocation:null;var q=new function(){};if(this.customer)if(this.article)if(c.isActiveDelivery)if(c.isSoldOut){q.resultCode="SOLD_OUT";
this._renderMessage(q)}else this._renderForm();else{q.resultCode="NOT_AVAILABLE";this._renderMessage(q)}else{q.resultCode="NOT_EXISTS";this._renderMessage(q)}else{q.resultCode="NOT_AUTHENTICATED";this._renderMessage(q)}},_createOrder:function(){if(this._validateOrderForm()){this._enableSubmit(false);var c=this,q=null;if(Shop.customer&&Shop.customer.defaultDeliveryLocation)q=Shop.customer.defaultDeliveryLocation.id;var s=j("#deliveryLocationsSelect").val();q=(j("#setDefaultDeliveryLocation").attr("checked")?
true:false)&&(!q||q!=s);var x=j("#note").val();Shop.Models.Order.create(this.article,this.customer,s,q,x,function(G){c._renderMessage(G)})}},_validateOrderForm:function(){if(j("#deliveryLocationsSelect").val()==-1){alert(j.EJS.Helpers.prototype.msg("order.detail.validation.emptyDeliveryLocation"));return false}return true},_enableSubmit:function(c){var q=j("#submitButton");Shop.Utils.enableInput(q,c)},_renderMessage:function(c){this.orderResult=c;this.element.html(this.view("orderMessage",this))},
_renderForm:function(){this.element.html(this.view("orderForm",this))}})});steal.loaded("shop/order/new/newOrder.js");steal("jquery/controller","jquery/view/ejs","jquery/controller/view").then("./views/home.ejs",function(j){j.Controller("Shop.Home",{},{init:function(){this._reloadData()},update:function(){this._reloadData()},_reloadData:function(){this._render()},_render:function(){this.element.html(this.view("home",this))}})});steal.loaded("shop/home/home.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view").then("./views/contacts.ejs",function(j){j.Controller("Shop.Ordering",{},{init:function(){this._reloadData()},update:function(){this._reloadData()},_reloadData:function(){this._render()},_render:function(){this.element.html(this.view("ordering",this))}})});steal.loaded("shop/contacts/contacts.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view").then("./views/ordering.ejs",function(j){j.Controller("Shop.Contacts",{},{init:function(){this._reloadData()},update:function(){this._reloadData()},_reloadData:function(){this._render()},_render:function(){this.element.html(this.view("contacts",this))}})});steal.loaded("shop/ordering/ordering.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view","common/register_customer").then("./views/referralDetail.ejs",function(j){j.Controller("Shop.Referral.New",{},{init:function(){this._reloadData()},update:function(){this._reloadData()},"#submitButton click":function(){this._submitReferral()},_reloadData:function(){this.customer=Shop.customer;this._render()},_submitReferral:function(){if(this._validateReferralForm()){this._enableReferralSubmit(false);var c=this,q=j("#referralMessage").attr("value");
Shop.Models.Customer.createReferral(this.customer,this.parsedEmails,q,function(){alert(j.EJS.Helpers.prototype.msg("referral.detail.action.referralMsg"));c._enableReferralSubmit(true)})}},_parseEmails:function(){var c=j("#recipientEmail").attr("value").split(/[,;\t\n\r]/);c=j.map(c,function(q){return q.trim()});this.parsedEmails=c=j.grep(c,function(q){return q.trim()})},_validateReferralForm:function(){this._parseEmails();var c=this.parsedEmails;if(c.length==0){alert(j.EJS.Helpers.prototype.msg("referral.detail.validation.emptyEmailAddress"));
return false}for(var q=0;q<c.length;q++){var s=c[q];if(!Shop.Utils.isEmailAddressValid(s)){alert(j.EJS.Helpers.prototype.msg("referral.detail.validation.invalidEmailFormat")+" "+s);return false}}return true},_enableReferralSubmit:function(c){var q=j("#submitReferralButton");Shop.Utils.enableInput(q,c)},_render:function(){this.element.html(this.view("referralDetail",this))}})});steal.loaded("shop/referral/new/newReferral.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view","common/register_customer").then("./views/edit.ejs","./views/updateConfirmation.ejs",function(j){j.Controller("Shop.Profile.Edit",{},{init:function(){this.token=Shop.Main.getToken();this._reloadData()},update:function(){this._reloadData()},_reloadData:function(){this._onDataLoaded()},_onDataLoaded:function(){this.deliveryLocations=Shop.deliveryLocations;this.deliveryLocation=(this.customer=Shop.customer)?this.customer.defaultDeliveryLocation:
null;this._render()},"{window} updateProfile":function(){if(this._validateProfileForm()){var c=new function(){};c.id=this.customer.id;c.firstName=j.trim(j("#reg_firstName").attr("value"));c.lastName=j.trim(j("#reg_lastName").attr("value"));c.email=j.trim(j("#reg_email").attr("value"));c.isSubscribedMenuWeekly=j("#reg_subscribeMenuWeekly").attr("checked")=="checked";c.isSubscribedNews=j("#reg_subscribeNews").attr("checked")=="checked";var q=j("#reg_ddl").val(),s=this;Shop.Models.Customer.updateProfile(c,
q,function(){s._renderConfirmation();Shop.Main.prototype._reloadCustomer()})}},_validateProfileForm:function(){var c=j("#reg_email").attr("value");if(j.trim(c)==""){alert(j.EJS.Helpers.prototype.msg("customer.registration.validation.emptyEmailAddress"));return false}if(!Shop.Utils.isEmailAddressValid(c)){alert(j.EJS.Helpers.prototype.msg("customer.registration.validation.invalidEmailFormat"));return false}return true},_renderConfirmation:function(){this.element.html(this.view("updateConfirmation",
this))},_render:function(){this.element.html(this.view("edit"));this.element.find("#profile-edit").common_register_customer(this)}})});steal.loaded("shop/profile/edit/editProfile.js");steal("./article.js","./order.js","./customer.js","./deliveryLocation.js","./dictionary.js","./category.js");steal.loaded("shop/models/models.js");
steal("jquery","jquery/lang/string",function(j){var c=false,q=j.makeArray,s=j.isFunction,x=j.isArray,G=j.extend,J=j.String.getObject,N=function(H,X){return H.concat(q(X))},W=/xyz/.test(function(){})?/\b_super\b/:/.*/,Z=function(H,X,ba){ba=ba||H;for(var Y in H)ba[Y]=s(H[Y])&&s(X[Y])&&W.test(H[Y])?function(ea,na){return function(){var la=this._super,ga;this._super=X[ea];ga=na.apply(this,arguments);this._super=la;return ga}}(Y,H[Y]):H[Y]};clss=j.Class=function(){arguments.length&&clss.extend.apply(clss,
arguments)};G(clss,{proxy:function(H){var X=q(arguments),ba;H=X.shift();x(H)||(H=[H]);ba=this;return function(){for(var Y=N(X,arguments),ea,na=H.length,la=0,ga;la<na;la++)if(ga=H[la]){if((ea=typeof ga=="string")&&ba._set_called)ba.called=ga;Y=(ea?ba[ga]:ga).apply(ba,Y||[]);if(la<na-1)Y=!x(Y)||Y._use_call?[Y]:Y}return Y}},newInstance:function(){var H=this.rawInstance(),X;if(H.setup)X=H.setup.apply(H,arguments);if(H.init)H.init.apply(H,x(X)?X:arguments);return H},setup:function(H){this.defaults=G(true,
{},H.defaults,this.defaults);return arguments},rawInstance:function(){c=true;var H=new this;c=false;return H},extend:function(H,X,ba){function Y(){if(!c)return this.constructor!==Y&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.Class.newInstance.apply(this.Class,arguments)}if(typeof H!="string"){ba=X;X=H;H=null}if(!ba){ba=X;X=null}ba=ba||{};var ea=this,na=this.prototype,la,ga,D,m;c=true;m=new this;c=false;Z(ba,na,m);for(la in this)if(this.hasOwnProperty(la))Y[la]=
this[la];Z(X,this,Y);if(H){D=H.split(/\./);ga=D.pop();D=na=J(D.join("."),window,true);na[ga]=Y}G(Y,{prototype:m,namespace:D,shortName:ga,constructor:Y,fullName:H});Y.prototype.Class=Y.prototype.constructor=Y;ga=Y.setup.apply(Y,N([ea],arguments));if(Y.init)Y.init.apply(Y,ga||N([ea],arguments));return Y}});clss.callback=clss.prototype.callback=clss.prototype.proxy=clss.proxy})();steal.loaded("jquery/class/class.js");
steal("jquery").then(function(j){var c={undHash:/_|-/,colons:/::/,words:/([A-Z]+)([A-Z][a-z])/g,lowUp:/([a-z\d])([A-Z])/g,dash:/([a-z\d])([A-Z])/g,replacer:/\{([^\}]+)\}/g,dot:/\./},q=function(J,N,W){return J[N]!==undefined?J[N]:W&&(J[N]={})},s=function(J){var N=typeof J;return J&&(N=="function"||N=="object")},x,G=j.String=j.extend(j.String||{},{getObject:x=function(J,N,W){J=J?J.split(c.dot):[];var Z=J.length,H,X,ba,Y=0;N=j.isArray(N)?N:[N||window];if(Z==0)return N[0];for(;H=N[Y++];){for(ba=0;ba<
Z-1&&s(H);ba++)H=q(H,J[ba],W);if(s(H)){X=q(H,J[ba],W);if(X!==undefined){W===false&&delete H[J[ba]];return X}}}},capitalize:function(J){return J.charAt(0).toUpperCase()+J.substr(1)},camelize:function(J){J=G.classize(J);return J.charAt(0).toLowerCase()+J.substr(1)},classize:function(J,N){J=J.split(c.undHash);for(var W=0;W<J.length;W++)J[W]=G.capitalize(J[W]);return J.join(N||"")},niceName:function(J){return G.classize(J," ")},underscore:function(J){return J.replace(c.colons,"/").replace(c.words,"$1_$2").replace(c.lowUp,
"$1_$2").replace(c.dash,"_").toLowerCase()},sub:function(J,N,W){var Z=[];W=typeof W=="boolean"?!W:W;Z.push(J.replace(c.replacer,function(H,X){H=x(X,N,W);if(s(H)){Z.push(H);return""}else return""+H}));return Z.length<=1?Z[0]:Z},_regs:c})});steal.loaded("jquery/lang/string/string.js");steal("jquery/event").then(function(j){var c=jQuery.cleanData;j.cleanData=function(q){for(var s=0,x;(x=q[s])!==undefined;s++)j(x).triggerHandler("destroyed");c(q)}});steal.loaded("jquery/event/destroyed/destroyed.js");
(function(j,c){function q(a){var b=va[a]={},e,f;a=a.split(/\s+/);e=0;for(f=a.length;e<f;e++)b[a[e]]=true;return b}function s(a,b,e){if(e===c&&a.nodeType===1){e="data-"+b.replace(tb,"-$1").toLowerCase();e=a.getAttribute(e);if(typeof e==="string"){try{e=e==="true"?true:e==="false"?false:e==="null"?null:d.isNumeric(e)?parseFloat(e):ub.test(e)?d.parseJSON(e):e}catch(f){}d.data(a,b,e)}else e=c}return e}function x(a){for(var b in a)if(!(b==="data"&&d.isEmptyObject(a[b])))if(b!=="toJSON")return false;return true}
function G(a,b,e){var f=b+"defer",g=b+"queue",h=b+"mark",l=d._data(a,f);if(l&&(e==="queue"||!d._data(a,g))&&(e==="mark"||!d._data(a,h)))setTimeout(function(){if(!d._data(a,g)&&!d._data(a,h)){d.removeData(a,f,true);l.fire()}},0)}function J(){return false}function N(){return true}function W(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function Z(a,b,e){b=b||0;if(d.isFunction(b))return d.grep(a,function(g,h){return!!b.call(g,h,g)===e});else if(b.nodeType)return d.grep(a,function(g){return g===
b===e});else if(typeof b==="string"){var f=d.grep(a,function(g){return g.nodeType===1});if(vb.test(b))return d.filter(b,f,!e);else b=d.filter(b,f)}return d.grep(a,function(g){return d.inArray(g,b)>=0===e})}function H(a){var b=Ta.split("|");a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function X(a){return d.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ba(a,b){if(!(b.nodeType!==
1||!d.hasData(a))){var e,f,g;f=d._data(a);a=d._data(b,f);var h=f.events;if(h){delete a.handle;a.events={};for(e in h){f=0;for(g=h[e].length;f<g;f++)d.event.add(b,e+(h[e][f].namespace?".":"")+h[e][f].namespace,h[e][f],h[e][f].data)}}if(a.data)a.data=d.extend({},a.data)}}function Y(a,b){var e;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(a);e=b.nodeName.toLowerCase();if(e==="object")b.outerHTML=a.outerHTML;else if(e==="input"&&(a.type==="checkbox"||a.type===
"radio")){if(a.checked)b.defaultChecked=b.checked=a.checked;if(b.value!==a.value)b.value=a.value}else if(e==="option")b.selected=a.defaultSelected;else if(e==="input"||e==="textarea")b.defaultValue=a.defaultValue;b.removeAttribute(d.expando)}}function ea(a){return typeof a.getElementsByTagName!=="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!=="undefined"?a.querySelectorAll("*"):[]}function na(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function la(a){var b=
(a.nodeName||"").toLowerCase();if(b==="input")na(a);else b!=="script"&&typeof a.getElementsByTagName!=="undefined"&&d.grep(a.getElementsByTagName("input"),na)}function ga(a){var b=I.createElement("div");Ua.appendChild(b);b.innerHTML=a.outerHTML;return b.firstChild}function D(a,b){b.src?d.ajax({url:b.src,async:false,dataType:"script"}):d.globalEval((b.text||b.textContent||b.innerHTML||"").replace(wb,"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)}function m(a,b,e){var f=b==="width"?a.offsetWidth:
a.offsetHeight,g=b==="width"?xb:yb,h=0,l=g.length;if(f>0){if(e!=="border")for(;h<l;h++){e||(f-=parseFloat(d.css(a,"padding"+g[h]))||0);if(e==="margin")f+=parseFloat(d.css(a,e+g[h]))||0;else f-=parseFloat(d.css(a,"border"+g[h]+"Width"))||0}return f+"px"}f=Fa(a,b,b);if(f<0||f==null)f=a.style[b]||0;f=parseFloat(f)||0;if(e)for(;h<l;h++){f+=parseFloat(d.css(a,"padding"+g[h]))||0;if(e!=="padding")f+=parseFloat(d.css(a,"border"+g[h]+"Width"))||0;if(e==="margin")f+=parseFloat(d.css(a,e+g[h]))||0}return f+
"px"}function r(a){return function(b,e){if(typeof b!=="string"){e=b;b="*"}if(d.isFunction(e)){b=b.toLowerCase().split(Va);for(var f=0,g=b.length,h,l;f<g;f++){h=b[f];if(l=/^\+/.test(h))h=h.substr(1)||"*";h=a[h]=a[h]||[];h[l?"unshift":"push"](e)}}}}function B(a,b,e,f,g,h){g=g||b.dataTypes[0];h=h||{};h[g]=true;g=a[g];for(var l=0,n=g?g.length:0,o=a===Ma,u;l<n&&(o||!u);l++){u=g[l](b,e,f);if(typeof u==="string")if(!o||h[u])u=c;else{b.dataTypes.unshift(u);u=B(a,b,e,f,u,h)}}if((o||!u)&&!h["*"])u=B(a,b,e,
f,"*",h);return u}function Q(a,b){var e,f,g=d.ajaxSettings.flatOptions||{};for(e in b)if(b[e]!==c)(g[e]?a:f||(f={}))[e]=b[e];f&&d.extend(true,a,f)}function v(a,b,e,f){if(d.isArray(b))d.each(b,function(h,l){e||zb.test(a)?f(a,l):v(a+"["+(typeof l==="object"||d.isArray(l)?h:"")+"]",l,e,f)});else if(!e&&b!=null&&typeof b==="object")for(var g in b)v(a+"["+g+"]",b[g],e,f);else f(a,b)}function y(a,b,e){var f=a.contents,g=a.dataTypes,h=a.responseFields,l,n,o,u;for(n in h)if(n in e)b[h[n]]=e[n];for(;g[0]===
"*";){g.shift();if(l===c)l=a.mimeType||b.getResponseHeader("content-type")}if(l)for(n in f)if(f[n]&&f[n].test(l)){g.unshift(n);break}if(g[0]in e)o=g[0];else{for(n in e){if(!g[0]||a.converters[n+" "+g[0]]){o=n;break}u||(u=n)}o=o||u}if(o){o!==g[0]&&g.unshift(o);return e[o]}}function t(a,b){if(a.dataFilter)b=a.dataFilter(b,a.dataType);var e=a.dataTypes,f={},g,h,l=e.length,n,o=e[0],u,M,A,R,L;for(g=1;g<l;g++){if(g===1)for(h in a.converters)if(typeof h==="string")f[h.toLowerCase()]=a.converters[h];u=o;
o=e[g];if(o==="*")o=u;else if(u!=="*"&&u!==o){M=u+" "+o;A=f[M]||f["* "+o];if(!A){L=c;for(R in f){n=R.split(" ");if(n[0]===u||n[0]==="*")if(L=f[n[1]+" "+o]){R=f[R];if(R===true)A=L;else if(L===true)A=R;break}}}A||L||d.error("No conversion from "+M.replace(" "," to "));if(A!==true)b=A?A(b):L(R(b))}}return b}function E(){try{return new j.XMLHttpRequest}catch(a){}}function U(){try{return new j.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}function ca(){setTimeout(O,0);return Ia=d.now()}function O(){Ia=
c}function aa(a,b){var e={};d.each(Wa.concat.apply([],Wa.slice(0,b)),function(){e[this]=a});return e}function ja(a){if(!Na[a]){var b=I.body,e=d("<"+a+">").appendTo(b),f=e.css("display");e.remove();if(f==="none"||f===""){if(!za){za=I.createElement("iframe");za.frameBorder=za.width=za.height=0}b.appendChild(za);if(!Ga||!za.createElement){Ga=(za.contentWindow||za.contentDocument).document;Ga.write((I.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");Ga.close()}e=Ga.createElement(a);Ga.body.appendChild(e);
f=d.css(e,"display");b.removeChild(za)}Na[a]=f}return Na[a]}function ma(a){return d.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:false}var I=j.document,oa=j.navigator,ha=j.location,d=function(){function a(){if(!b.isReady){try{I.documentElement.doScroll("left")}catch(p){setTimeout(a,1);return}b.ready()}}var b=function(p,F){return new b.fn.init(p,F,g)},e=j.jQuery,f=j.$,g,h=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,l=/\S/,n=/^\s+/,o=/\s+$/,u=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,M=/^[\],:{}\s]*$/,
A=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,R=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,L=/(?:^|:|,)(?:\s*\[)+/g,da=/(webkit)[ \/]([\w.]+)/,qa=/(opera)(?:.*version)?[ \/]([\w.]+)/,sa=/(msie) ([\w.]+)/,ra=/(mozilla)(?:.*? rv:([\w.]+))?/,Ba=/-([a-z]|[0-9])/ig,fa=/^-ms-/,Aa=function(p,F){return(F+"").toUpperCase()},ya=oa.userAgent,i,k,w=Object.prototype.toString,z=Object.prototype.hasOwnProperty,C=Array.prototype.push,K=Array.prototype.slice,S=String.prototype.trim,V=Array.prototype.indexOf,
ka={};b.fn=b.prototype={constructor:b,init:function(p,F,T){var P;if(!p)return this;if(p.nodeType){this.context=this[0]=p;this.length=1;return this}if(p==="body"&&!F&&I.body){this.context=I;this[0]=I.body;this.selector=p;this.length=1;return this}if(typeof p==="string")if((P=p.charAt(0)==="<"&&p.charAt(p.length-1)===">"&&p.length>=3?[null,p,null]:h.exec(p))&&(P[1]||!F))if(P[1]){T=(F=F instanceof b?F[0]:F)?F.ownerDocument||F:I;if(p=u.exec(p))if(b.isPlainObject(F)){p=[I.createElement(p[1])];b.fn.attr.call(p,
F,true)}else p=[T.createElement(p[1])];else{p=b.buildFragment([P[1]],[T]);p=(p.cacheable?b.clone(p.fragment):p.fragment).childNodes}return b.merge(this,p)}else{if((F=I.getElementById(P[2]))&&F.parentNode){if(F.id!==P[2])return T.find(p);this.length=1;this[0]=F}this.context=I;this.selector=p;return this}else return!F||F.jquery?(F||T).find(p):this.constructor(F).find(p);else if(b.isFunction(p))return T.ready(p);if(p.selector!==c){this.selector=p.selector;this.context=p.context}return b.makeArray(p,
this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return K.call(this,0)},get:function(p){return p==null?this.toArray():p<0?this[this.length+p]:this[p]},pushStack:function(p,F,T){var P=this.constructor();b.isArray(p)?C.apply(P,p):b.merge(P,p);P.prevObject=this;P.context=this.context;if(F==="find")P.selector=this.selector+(this.selector?" ":"")+T;else if(F)P.selector=this.selector+"."+F+"("+T+")";return P},each:function(p,F){return b.each(this,p,F)},ready:function(p){b.bindReady();
i.add(p);return this},eq:function(p){p=+p;return p===-1?this.slice(p):this.slice(p,p+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(K.apply(this,arguments),"slice",K.call(arguments).join(","))},map:function(p){return this.pushStack(b.map(this,function(F,T){return p.call(F,T,F)}))},end:function(){return this.prevObject||this.constructor(null)},push:C,sort:[].sort,splice:[].splice};b.fn.init.prototype=b.fn;b.extend=b.fn.extend=function(){var p,
F,T,P,pa,ia=arguments[0]||{},ta=1,ua=arguments.length,Oa=false;if(typeof ia==="boolean"){Oa=ia;ia=arguments[1]||{};ta=2}if(typeof ia!=="object"&&!b.isFunction(ia))ia={};if(ua===ta){ia=this;--ta}for(;ta<ua;ta++)if((p=arguments[ta])!=null)for(F in p){T=ia[F];P=p[F];if(ia!==P)if(Oa&&P&&(b.isPlainObject(P)||(pa=b.isArray(P)))){if(pa){pa=false;T=T&&b.isArray(T)?T:[]}else T=T&&b.isPlainObject(T)?T:{};ia[F]=b.extend(Oa,T,P)}else if(P!==c)ia[F]=P}return ia};b.extend({noConflict:function(p){if(j.$===b)j.$=
f;if(p&&j.jQuery===b)j.jQuery=e;return b},isReady:false,readyWait:1,holdReady:function(p){if(p)b.readyWait++;else b.ready(true)},ready:function(p){if(p===true&&!--b.readyWait||p!==true&&!b.isReady){if(!I.body)return setTimeout(b.ready,1);b.isReady=true;if(!(p!==true&&--b.readyWait>0)){i.fireWith(I,[b]);b.fn.trigger&&b(I).trigger("ready").off("ready")}}},bindReady:function(){if(!i){i=b.Callbacks("once memory");if(I.readyState==="complete")return setTimeout(b.ready,1);if(I.addEventListener){I.addEventListener("DOMContentLoaded",
k,false);j.addEventListener("load",b.ready,false)}else if(I.attachEvent){I.attachEvent("onreadystatechange",k);j.attachEvent("onload",b.ready);var p=false;try{p=j.frameElement==null}catch(F){}I.documentElement.doScroll&&p&&a()}}},isFunction:function(p){return b.type(p)==="function"},isArray:Array.isArray||function(p){return b.type(p)==="array"},isWindow:function(p){return p&&typeof p==="object"&&"setInterval"in p},isNumeric:function(p){return!isNaN(parseFloat(p))&&isFinite(p)},type:function(p){return p==
null?String(p):ka[w.call(p)]||"object"},isPlainObject:function(p){if(!p||b.type(p)!=="object"||p.nodeType||b.isWindow(p))return false;try{if(p.constructor&&!z.call(p,"constructor")&&!z.call(p.constructor.prototype,"isPrototypeOf"))return false}catch(F){return false}var T;for(T in p);return T===c||z.call(p,T)},isEmptyObject:function(p){for(var F in p)return false;return true},error:function(p){throw new Error(p);},parseJSON:function(p){if(typeof p!=="string"||!p)return null;p=b.trim(p);if(j.JSON&&
j.JSON.parse)return j.JSON.parse(p);if(M.test(p.replace(A,"@").replace(R,"]").replace(L,"")))return(new Function("return "+p))();b.error("Invalid JSON: "+p)},parseXML:function(p){var F,T;try{if(j.DOMParser){T=new DOMParser;F=T.parseFromString(p,"text/xml")}else{F=new ActiveXObject("Microsoft.XMLDOM");F.async="false";F.loadXML(p)}}catch(P){F=c}if(!F||!F.documentElement||F.getElementsByTagName("parsererror").length)b.error("Invalid XML: "+p);return F},noop:function(){},globalEval:function(p){if(p&&
l.test(p))(j.execScript||function(F){j.eval.call(j,F)})(p)},camelCase:function(p){return p.replace(fa,"ms-").replace(Ba,Aa)},nodeName:function(p,F){return p.nodeName&&p.nodeName.toUpperCase()===F.toUpperCase()},each:function(p,F,T){var P,pa=0,ia=p.length,ta=ia===c||b.isFunction(p);if(T)if(ta)for(P in p){if(F.apply(p[P],T)===false)break}else for(;pa<ia;){if(F.apply(p[pa++],T)===false)break}else if(ta)for(P in p){if(F.call(p[P],P,p[P])===false)break}else for(;pa<ia;)if(F.call(p[pa],pa,p[pa++])===false)break;
return p},trim:S?function(p){return p==null?"":S.call(p)}:function(p){return p==null?"":p.toString().replace(n,"").replace(o,"")},makeArray:function(p,F){F=F||[];if(p!=null){var T=b.type(p);p.length==null||T==="string"||T==="function"||T==="regexp"||b.isWindow(p)?C.call(F,p):b.merge(F,p)}return F},inArray:function(p,F,T){var P;if(F){if(V)return V.call(F,p,T);P=F.length;for(T=T?T<0?Math.max(0,P+T):T:0;T<P;T++)if(T in F&&F[T]===p)return T}return-1},merge:function(p,F){var T=p.length,P=0;if(typeof F.length===
"number")for(var pa=F.length;P<pa;P++)p[T++]=F[P];else for(;F[P]!==c;)p[T++]=F[P++];p.length=T;return p},grep:function(p,F,T){var P=[],pa;T=!!T;for(var ia=0,ta=p.length;ia<ta;ia++){pa=!!F(p[ia],ia);T!==pa&&P.push(p[ia])}return P},map:function(p,F,T){var P,pa,ia=[],ta=0,ua=p.length;if(p instanceof b||ua!==c&&typeof ua==="number"&&(ua>0&&p[0]&&p[ua-1]||ua===0||b.isArray(p)))for(;ta<ua;ta++){P=F(p[ta],ta,T);if(P!=null)ia[ia.length]=P}else for(pa in p){P=F(p[pa],pa,T);if(P!=null)ia[ia.length]=P}return ia.concat.apply([],
ia)},guid:1,proxy:function(p,F){if(typeof F==="string"){var T=p[F];F=p;p=T}if(!b.isFunction(p))return c;var P=K.call(arguments,2);T=function(){return p.apply(F,P.concat(K.call(arguments)))};T.guid=p.guid=p.guid||T.guid||b.guid++;return T},access:function(p,F,T,P,pa,ia){var ta=p.length;if(typeof F==="object"){for(var ua in F)b.access(p,ua,F[ua],P,pa,T);return p}if(T!==c){P=!ia&&P&&b.isFunction(T);for(ua=0;ua<ta;ua++)pa(p[ua],F,P?T.call(p[ua],ua,pa(p[ua],F)):T,ia);return p}return ta?pa(p[0],F):c},now:function(){return(new Date).getTime()},
uaMatch:function(p){p=p.toLowerCase();p=da.exec(p)||qa.exec(p)||sa.exec(p)||p.indexOf("compatible")<0&&ra.exec(p)||[];return{browser:p[1]||"",version:p[2]||"0"}},sub:function(){function p(T,P){return new p.fn.init(T,P)}b.extend(true,p,this);p.superclass=this;p.fn=p.prototype=this();p.fn.constructor=p;p.sub=this.sub;p.fn.init=function(T,P){if(P&&P instanceof b&&!(P instanceof p))P=p(P);return b.fn.init.call(this,T,P,F)};p.fn.init.prototype=p.fn;var F=p(I);return p},browser:{}});b.each("Boolean Number String Function Array Date RegExp Object".split(" "),
function(p,F){ka["[object "+F+"]"]=F.toLowerCase()});ya=b.uaMatch(ya);if(ya.browser){b.browser[ya.browser]=true;b.browser.version=ya.version}if(b.browser.webkit)b.browser.safari=true;if(l.test("\u00a0")){n=/^[\s\xA0]+/;o=/[\s\xA0]+$/}g=b(I);if(I.addEventListener)k=function(){I.removeEventListener("DOMContentLoaded",k,false);b.ready()};else if(I.attachEvent)k=function(){if(I.readyState==="complete"){I.detachEvent("onreadystatechange",k);b.ready()}};return b}(),va={};d.Callbacks=function(a){a=a?va[a]||
q(a):{};var b=[],e=[],f,g,h,l,n,o=function(A){var R,L,da,qa;R=0;for(L=A.length;R<L;R++){da=A[R];qa=d.type(da);if(qa==="array")o(da);else if(qa==="function")if(!a.unique||!M.has(da))b.push(da)}},u=function(A,R){R=R||[];f=!a.memory||[A,R];g=true;n=h||0;h=0;for(l=b.length;b&&n<l;n++)if(b[n].apply(A,R)===false&&a.stopOnFalse){f=true;break}g=false;if(b)if(a.once)if(f===true)M.disable();else b=[];else if(e&&e.length){f=e.shift();M.fireWith(f[0],f[1])}},M={add:function(){if(b){var A=b.length;o(arguments);
if(g)l=b.length;else if(f&&f!==true){h=A;u(f[0],f[1])}}return this},remove:function(){if(b)for(var A=arguments,R=0,L=A.length;R<L;R++)for(var da=0;da<b.length;da++)if(A[R]===b[da]){if(g)if(da<=l){l--;da<=n&&n--}b.splice(da--,1);if(a.unique)break}return this},has:function(A){if(b)for(var R=0,L=b.length;R<L;R++)if(A===b[R])return true;return false},empty:function(){b=[];return this},disable:function(){b=e=f=c;return this},disabled:function(){return!b},lock:function(){e=c;if(!f||f===true)M.disable();
return this},locked:function(){return!e},fireWith:function(A,R){if(e)if(g)a.once||e.push([A,R]);else a.once&&f||u(A,R);return this},fire:function(){M.fireWith(this,arguments);return this},fired:function(){return!!f}};return M};var xa=[].slice;d.extend({Deferred:function(a){var b=d.Callbacks("once memory"),e=d.Callbacks("once memory"),f=d.Callbacks("memory"),g="pending",h={resolve:b,reject:e,notify:f},l={done:b.add,fail:e.add,progress:f.add,state:function(){return g},isResolved:b.fired,isRejected:e.fired,
then:function(u,M,A){n.done(u).fail(M).progress(A);return this},always:function(){n.done.apply(n,arguments).fail.apply(n,arguments);return this},pipe:function(u,M,A){return d.Deferred(function(R){d.each({done:[u,"resolve"],fail:[M,"reject"],progress:[A,"notify"]},function(L,da){var qa=da[0],sa=da[1],ra;d.isFunction(qa)?n[L](function(){(ra=qa.apply(this,arguments))&&d.isFunction(ra.promise)?ra.promise().then(R.resolve,R.reject,R.notify):R[sa+"With"](this===n?R:this,[ra])}):n[L](R[sa])})}).promise()},
promise:function(u){if(u==null)u=l;else for(var M in l)u[M]=l[M];return u}},n=l.promise({}),o;for(o in h){n[o]=h[o].fire;n[o+"With"]=h[o].fireWith}n.done(function(){g="resolved"},e.disable,f.lock).fail(function(){g="rejected"},b.disable,f.lock);a&&a.call(n,n);return n},when:function(a){function b(M){return function(A){f[M]=arguments.length>1?xa.call(arguments,0):A;--n||o.resolveWith(o,f)}}function e(M){return function(A){l[M]=arguments.length>1?xa.call(arguments,0):A;o.notifyWith(u,l)}}var f=xa.call(arguments,
0),g=0,h=f.length,l=new Array(h),n=h,o=h<=1&&a&&d.isFunction(a.promise)?a:d.Deferred(),u=o.promise();if(h>1){for(;g<h;g++)if(f[g]&&f[g].promise&&d.isFunction(f[g].promise))f[g].promise().then(b(g),o.reject,e(g));else--n;n||o.resolveWith(o,f)}else if(o!==a)o.resolveWith(o,h?[a]:[]);return u}});d.support=function(){var a,b,e,f,g,h,l,n,o=I.createElement("div");o.setAttribute("className","t");o.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
b=o.getElementsByTagName("*");e=o.getElementsByTagName("a")[0];if(!b||!b.length||!e)return{};f=I.createElement("select");g=f.appendChild(I.createElement("option"));b=o.getElementsByTagName("input")[0];a={leadingWhitespace:o.firstChild.nodeType===3,tbody:!o.getElementsByTagName("tbody").length,htmlSerialize:!!o.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,
checkOn:b.value==="on",optSelected:g.selected,getSetAttribute:o.className!=="t",enctype:!!I.createElement("form").enctype,html5Clone:I.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};b.checked=true;a.noCloneChecked=b.cloneNode(true).checked;f.disabled=true;a.optDisabled=!g.disabled;try{delete o.test}catch(u){a.deleteExpando=
false}if(!o.addEventListener&&o.attachEvent&&o.fireEvent){o.attachEvent("onclick",function(){a.noCloneEvent=false});o.cloneNode(true).fireEvent("onclick")}b=I.createElement("input");b.value="t";b.setAttribute("type","radio");a.radioValue=b.value==="t";b.setAttribute("checked","checked");o.appendChild(b);e=I.createDocumentFragment();e.appendChild(o.lastChild);a.checkClone=e.cloneNode(true).cloneNode(true).lastChild.checked;a.appendChecked=b.checked;e.removeChild(b);e.appendChild(o);o.innerHTML="";
if(j.getComputedStyle){b=I.createElement("div");b.style.width="0";b.style.marginRight="0";o.style.width="2px";o.appendChild(b);a.reliableMarginRight=(parseInt((j.getComputedStyle(b,null)||{marginRight:0}).marginRight,10)||0)===0}if(o.attachEvent)for(l in{submit:1,change:1,focusin:1}){b="on"+l;n=b in o;if(!n){o.setAttribute(b,"return;");n=typeof o[b]==="function"}a[l+"Bubbles"]=n}e.removeChild(o);e=f=g=b=o=b=null;d(function(){var M,A,R,L,da=I.getElementsByTagName("body")[0];if(da){M=I.createElement("div");
M.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";da.insertBefore(M,da.firstChild);o=I.createElement("div");M.appendChild(o);o.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";h=o.getElementsByTagName("td");n=h[0].offsetHeight===0;h[0].style.display="";h[1].style.display="none";a.reliableHiddenOffsets=n&&h[0].offsetHeight===0;o.innerHTML="";o.style.width=o.style.paddingLeft="1px";d.boxModel=a.boxModel=
o.offsetWidth===2;if(typeof o.style.zoom!=="undefined"){o.style.display="inline";o.style.zoom=1;a.inlineBlockNeedsLayout=o.offsetWidth===2;o.style.display="";o.innerHTML="<div style='width:4px;'></div>";a.shrinkWrapBlocks=o.offsetWidth!==2}o.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;visibility:hidden;border:0;";o.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;'><div></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;margin:0;border:5px solid #000;padding:0;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
A=o.firstChild;R=A.firstChild;L={doesNotAddBorder:R.offsetTop!==5,doesAddBorderForTableAndCells:A.nextSibling.firstChild.firstChild.offsetTop===5};R.style.position="fixed";R.style.top="20px";L.fixedPosition=R.offsetTop===20||R.offsetTop===15;R.style.position=R.style.top="";A.style.overflow="hidden";A.style.position="relative";L.subtractsBorderForOverflowNotVisible=R.offsetTop===-5;L.doesNotIncludeMarginInBodyOffset=da.offsetTop!==1;da.removeChild(M);o=null;d.extend(a,L)}});return a}();var ub=/^(?:\{.*\}|\[.*\])$/,
tb=/([A-Z])/g;d.extend({cache:{},uuid:0,expando:"jQuery"+(d.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(a){a=a.nodeType?d.cache[a[d.expando]]:a[d.expando];return!!a&&!x(a)},data:function(a,b,e,f){if(d.acceptData(a)){var g;g=d.expando;var h=typeof b==="string",l=a.nodeType,n=l?d.cache:a,o=l?a[g]:a[g]&&g,u=b==="events";if(!((!o||!n[o]||!u&&!f&&!n[o].data)&&h&&e===c)){if(!o)if(l)a[g]=o=++d.uuid;else o=
g;if(!n[o]){n[o]={};if(!l)n[o].toJSON=d.noop}if(typeof b==="object"||typeof b==="function")if(f)n[o]=d.extend(n[o],b);else n[o].data=d.extend(n[o].data,b);g=a=n[o];if(!f){if(!a.data)a.data={};a=a.data}if(e!==c)a[d.camelCase(b)]=e;if(u&&!a[b])return g.events;if(h){e=a[b];if(e==null)e=a[d.camelCase(b)]}else e=a;return e}}},removeData:function(a,b,e){if(d.acceptData(a)){var f,g,h,l=d.expando,n=a.nodeType,o=n?d.cache:a,u=n?a[l]:l;if(o[u]){if(b)if(f=e?o[u]:o[u].data){if(!d.isArray(b))if(b in f)b=[b];else{b=
d.camelCase(b);b=b in f?[b]:b.split(" ")}g=0;for(h=b.length;g<h;g++)delete f[b[g]];if(!(e?x:d.isEmptyObject)(f))return}if(!e){delete o[u].data;if(!x(o[u]))return}if(d.support.deleteExpando||!o.setInterval)delete o[u];else o[u]=null;if(n)if(d.support.deleteExpando)delete a[l];else if(a.removeAttribute)a.removeAttribute(l);else a[l]=null}}},_data:function(a,b,e){return d.data(a,b,e,true)},acceptData:function(a){if(a.nodeName){var b=d.noData[a.nodeName.toLowerCase()];if(b)return!(b===true||a.getAttribute("classid")!==
b)}return true}});d.fn.extend({data:function(a,b){var e,f,g,h=null;if(typeof a==="undefined"){if(this.length){h=d.data(this[0]);if(this[0].nodeType===1&&!d._data(this[0],"parsedAttrs")){f=this[0].attributes;for(var l=0,n=f.length;l<n;l++){g=f[l].name;if(g.indexOf("data-")===0){g=d.camelCase(g.substring(5));s(this[0],g,h[g])}}d._data(this[0],"parsedAttrs",true)}}return h}else if(typeof a==="object")return this.each(function(){d.data(this,a)});e=a.split(".");e[1]=e[1]?"."+e[1]:"";if(b===c){h=this.triggerHandler("getData"+
e[1]+"!",[e[0]]);if(h===c&&this.length){h=d.data(this[0],a);h=s(this[0],a,h)}return h===c&&e[1]?this.data(e[0]):h}else return this.each(function(){var o=d(this),u=[e[0],b];o.triggerHandler("setData"+e[1]+"!",u);d.data(this,a,b);o.triggerHandler("changeData"+e[1]+"!",u)})},removeData:function(a){return this.each(function(){d.removeData(this,a)})}});d.extend({_mark:function(a,b){if(a){b=(b||"fx")+"mark";d._data(a,b,(d._data(a,b)||0)+1)}},_unmark:function(a,b,e){if(a!==true){e=b;b=a;a=false}if(b){e=
e||"fx";var f=e+"mark";if(a=a?0:(d._data(b,f)||1)-1)d._data(b,f,a);else{d.removeData(b,f,true);G(b,e,"mark")}}},queue:function(a,b,e){var f;if(a){b=(b||"fx")+"queue";f=d._data(a,b);if(e)if(!f||d.isArray(e))f=d._data(a,b,d.makeArray(e));else f.push(e);return f||[]}},dequeue:function(a,b){b=b||"fx";var e=d.queue(a,b),f=e.shift(),g={};if(f==="inprogress")f=e.shift();if(f){b==="fx"&&e.unshift("inprogress");d._data(a,b+".run",g);f.call(a,function(){d.dequeue(a,b)},g)}if(!e.length){d.removeData(a,b+"queue "+
b+".run",true);G(a,b,"queue")}}});d.fn.extend({queue:function(a,b){if(typeof a!=="string"){b=a;a="fx"}if(b===c)return d.queue(this[0],a);return this.each(function(){var e=d.queue(this,a,b);a==="fx"&&e[0]!=="inprogress"&&d.dequeue(this,a)})},dequeue:function(a){return this.each(function(){d.dequeue(this,a)})},delay:function(a,b){a=d.fx?d.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(e,f){var g=setTimeout(e,a);f.stop=function(){clearTimeout(g)}})},clearQueue:function(a){return this.queue(a||
"fx",[])},promise:function(a,b){function e(){--h||f.resolveWith(g,[g])}if(typeof a!=="string"){b=a;a=c}a=a||"fx";var f=d.Deferred(),g=this;b=g.length;var h=1,l=a+"defer",n=a+"queue";a=a+"mark";for(var o;b--;)if(o=d.data(g[b],l,c,true)||(d.data(g[b],n,c,true)||d.data(g[b],a,c,true))&&d.data(g[b],l,d.Callbacks("once memory"),true)){h++;o.add(e)}e();return f.promise()}});var Xa=/[\n\t\r]/g,Ja=/\s+/,Ab=/\r/g,Bb=/^(?:button|input)$/i,Cb=/^(?:button|input|object|select|textarea)$/i,Db=/^a(?:rea)?$/i,Ya=
/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Za=d.support.getSetAttribute,Ca,$a,ab;d.fn.extend({attr:function(a,b){return d.access(this,a,b,true,d.attr)},removeAttr:function(a){return this.each(function(){d.removeAttr(this,a)})},prop:function(a,b){return d.access(this,a,b,true,d.prop)},removeProp:function(a){a=d.propFix[a]||a;return this.each(function(){try{this[a]=c;delete this[a]}catch(b){}})},addClass:function(a){var b,
e,f,g,h,l,n;if(d.isFunction(a))return this.each(function(o){d(this).addClass(a.call(this,o,this.className))});if(a&&typeof a==="string"){b=a.split(Ja);e=0;for(f=this.length;e<f;e++){g=this[e];if(g.nodeType===1)if(!g.className&&b.length===1)g.className=a;else{h=" "+g.className+" ";l=0;for(n=b.length;l<n;l++)~h.indexOf(" "+b[l]+" ")||(h+=b[l]+" ");g.className=d.trim(h)}}}return this},removeClass:function(a){var b,e,f,g,h,l,n;if(d.isFunction(a))return this.each(function(o){d(this).removeClass(a.call(this,
o,this.className))});if(a&&typeof a==="string"||a===c){b=(a||"").split(Ja);e=0;for(f=this.length;e<f;e++){g=this[e];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(Xa," ");l=0;for(n=b.length;l<n;l++)h=h.replace(" "+b[l]+" "," ");g.className=d.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var e=typeof a,f=typeof b==="boolean";if(d.isFunction(a))return this.each(function(g){d(this).toggleClass(a.call(this,g,this.className,b),b)});return this.each(function(){if(e===
"string")for(var g,h=0,l=d(this),n=b,o=a.split(Ja);g=o[h++];){n=f?n:!l.hasClass(g);l[n?"addClass":"removeClass"](g)}else if(e==="undefined"||e==="boolean"){this.className&&d._data(this,"__className__",this.className);this.className=this.className||a===false?"":d._data(this,"__className__")||""}})},hasClass:function(a){a=" "+a+" ";for(var b=0,e=this.length;b<e;b++)if(this[b].nodeType===1&&(" "+this[b].className+" ").replace(Xa," ").indexOf(a)>-1)return true;return false},val:function(a){var b,e,f,
g=this[0];if(arguments.length){f=d.isFunction(a);return this.each(function(h){var l=d(this);if(this.nodeType===1){h=f?a.call(this,h,l.val()):a;if(h==null)h="";else if(typeof h==="number")h+="";else if(d.isArray(h))h=d.map(h,function(n){return n==null?"":n+""});b=d.valHooks[this.nodeName.toLowerCase()]||d.valHooks[this.type];if(!b||!("set"in b)||b.set(this,h,"value")===c)this.value=h}})}else if(g){if((b=d.valHooks[g.nodeName.toLowerCase()]||d.valHooks[g.type])&&"get"in b&&(e=b.get(g,"value"))!==c)return e;
e=g.value;return typeof e==="string"?e.replace(Ab,""):e==null?"":e}}});d.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,e,f=a.selectedIndex,g=[],h=a.options,l=a.type==="select-one";if(f<0)return null;a=l?f:0;for(e=l?f+1:h.length;a<e;a++){b=h[a];if(b.selected&&(d.support.optDisabled?!b.disabled:b.getAttribute("disabled")===null)&&(!b.parentNode.disabled||!d.nodeName(b.parentNode,"optgroup"))){b=d(b).val();if(l)return b;
g.push(b)}}if(l&&!g.length&&h.length)return d(h[f]).val();return g},set:function(a,b){var e=d.makeArray(b);d(a).find("option").each(function(){this.selected=d.inArray(d(this).val(),e)>=0});if(!e.length)a.selectedIndex=-1;return e}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(a,b,e,f){var g,h,l=a.nodeType;if(!(!a||l===3||l===8||l===2)){if(f&&b in d.attrFn)return d(a)[b](e);if(typeof a.getAttribute==="undefined")return d.prop(a,b,e);if(f=
l!==1||!d.isXMLDoc(a)){b=b.toLowerCase();h=d.attrHooks[b]||(Ya.test(b)?$a:Ca)}if(e!==c)if(e===null)d.removeAttr(a,b);else if(h&&"set"in h&&f&&(g=h.set(a,e,b))!==c)return g;else{a.setAttribute(b,""+e);return e}else if(h&&"get"in h&&f&&(g=h.get(a,b))!==null)return g;else{g=a.getAttribute(b);return g===null?c:g}}},removeAttr:function(a,b){var e,f,g,h=0;if(b&&a.nodeType===1){e=b.toLowerCase().split(Ja);for(g=e.length;h<g;h++)if(f=e[h]){b=d.propFix[f]||f;d.attr(a,f,"");a.removeAttribute(Za?f:b);if(Ya.test(f)&&
b in a)a[b]=false}}},attrHooks:{type:{set:function(a,b){if(Bb.test(a.nodeName)&&a.parentNode)d.error("type property can't be changed");else if(!d.support.radioValue&&b==="radio"&&d.nodeName(a,"input")){var e=a.value;a.setAttribute("type",b);if(e)a.value=e;return b}}},value:{get:function(a,b){if(Ca&&d.nodeName(a,"button"))return Ca.get(a,b);return b in a?a.value:null},set:function(a,b,e){if(Ca&&d.nodeName(a,"button"))return Ca.set(a,b,e);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",
"for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,e){var f,g,h=a.nodeType;if(!(!a||h===3||h===8||h===2)){if(h!==1||!d.isXMLDoc(a)){b=d.propFix[b]||b;g=d.propHooks[b]}return e!==c?g&&"set"in g&&(f=g.set(a,e,b))!==c?f:(a[b]=e):g&&"get"in g&&(f=g.get(a,b))!==null?f:a[b]}},propHooks:{tabIndex:{get:function(a){var b=
a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):Cb.test(a.nodeName)||Db.test(a.nodeName)&&a.href?0:c}}}});d.attrHooks.tabindex=d.propHooks.tabIndex;$a={get:function(a,b){var e,f=d.prop(a,b);return f===true||typeof f!=="boolean"&&(e=a.getAttributeNode(b))&&e.nodeValue!==false?b.toLowerCase():c},set:function(a,b,e){if(b===false)d.removeAttr(a,e);else{b=d.propFix[e]||e;if(b in a)a[b]=true;a.setAttribute(e,e.toLowerCase())}return e}};if(!Za){ab={name:true,id:true};Ca=d.valHooks.button=
{get:function(a,b){return(a=a.getAttributeNode(b))&&(ab[b]?a.nodeValue!=="":a.specified)?a.nodeValue:c},set:function(a,b,e){var f=a.getAttributeNode(e);if(!f){f=I.createAttribute(e);a.setAttributeNode(f)}return f.nodeValue=b+""}};d.attrHooks.tabindex.set=Ca.set;d.each(["width","height"],function(a,b){d.attrHooks[b]=d.extend(d.attrHooks[b],{set:function(e,f){if(f===""){e.setAttribute(b,"auto");return f}}})});d.attrHooks.contenteditable={get:Ca.get,set:function(a,b,e){if(b==="")b="false";Ca.set(a,b,
e)}}}d.support.hrefNormalized||d.each(["href","src","width","height"],function(a,b){d.attrHooks[b]=d.extend(d.attrHooks[b],{get:function(e){e=e.getAttribute(b,2);return e===null?c:e}})});if(!d.support.style)d.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||c},set:function(a,b){return a.style.cssText=""+b}};if(!d.support.optSelected)d.propHooks.selected=d.extend(d.propHooks.selected,{get:function(){return null}});if(!d.support.enctype)d.propFix.enctype="encoding";d.support.checkOn||
d.each(["radio","checkbox"],function(){d.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}});d.each(["radio","checkbox"],function(){d.valHooks[this]=d.extend(d.valHooks[this],{set:function(a,b){if(d.isArray(b))return a.checked=d.inArray(d(a).val(),b)>=0}})});var Pa=/^(?:textarea|input|select)$/i,bb=/^([^\.]*)?(?:\.(.+))?$/,Eb=/\bhover(\.\S+)?\b/,Fb=/^key/,Gb=/^(?:mouse|contextmenu)|click/,cb=/^(?:focusinfocus|focusoutblur)$/,Hb=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,
Ib=function(a){if(a=Hb.exec(a)){a[1]=(a[1]||"").toLowerCase();a[3]=a[3]&&new RegExp("(?:^|\\s)"+a[3]+"(?:\\s|$)")}return a},Jb=function(a,b){var e=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(e.id||{}).value===b[2])&&(!b[3]||b[3].test((e["class"]||{}).value))},db=function(a){return d.event.special.hover?a:a.replace(Eb,"mouseenter$1 mouseleave$1")};d.event={add:function(a,b,e,f,g){var h,l,n,o,u,M,A,R,L;if(!(a.nodeType===3||a.nodeType===8||!b||!e||!(h=d._data(a)))){if(e.handler){A=
e;e=A.handler}if(!e.guid)e.guid=d.guid++;n=h.events;if(!n)h.events=n={};l=h.handle;if(!l){h.handle=l=function(da){return typeof d!=="undefined"&&(!da||d.event.triggered!==da.type)?d.event.dispatch.apply(l.elem,arguments):c};l.elem=a}b=d.trim(db(b)).split(" ");for(h=0;h<b.length;h++){o=bb.exec(b[h])||[];u=o[1];M=(o[2]||"").split(".").sort();L=d.event.special[u]||{};u=(g?L.delegateType:L.bindType)||u;L=d.event.special[u]||{};o=d.extend({type:u,origType:o[1],data:f,handler:e,guid:e.guid,selector:g,quick:Ib(g),
namespace:M.join(".")},A);R=n[u];if(!R){R=n[u]=[];R.delegateCount=0;if(!L.setup||L.setup.call(a,f,M,l)===false)if(a.addEventListener)a.addEventListener(u,l,false);else a.attachEvent&&a.attachEvent("on"+u,l)}if(L.add){L.add.call(a,o);if(!o.handler.guid)o.handler.guid=e.guid}g?R.splice(R.delegateCount++,0,o):R.push(o);d.event.global[u]=true}a=null}},global:{},remove:function(a,b,e,f,g){var h=d.hasData(a)&&d._data(a),l,n,o,u,M,A,R,L,da,qa;if(h&&(R=h.events)){b=d.trim(db(b||"")).split(" ");for(l=0;l<
b.length;l++){n=bb.exec(b[l])||[];o=u=n[1];n=n[2];if(o){L=d.event.special[o]||{};o=(f?L.delegateType:L.bindType)||o;da=R[o]||[];M=da.length;n=n?new RegExp("(^|\\.)"+n.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(A=0;A<da.length;A++){qa=da[A];if((g||u===qa.origType)&&(!e||e.guid===qa.guid)&&(!n||n.test(qa.namespace))&&(!f||f===qa.selector||f==="**"&&qa.selector)){da.splice(A--,1);qa.selector&&da.delegateCount--;L.remove&&L.remove.call(a,qa)}}if(da.length===0&&M!==da.length){if(!L.teardown||
L.teardown.call(a,n)===false)d.removeEvent(a,o,h.handle);delete R[o]}}else for(o in R)d.event.remove(a,o+b[l],e,f,true)}if(d.isEmptyObject(R)){if(b=h.handle)b.elem=null;d.removeData(a,["events","handle"],true)}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(a,b,e,f){if(!(e&&(e.nodeType===3||e.nodeType===8))){var g=a.type||a,h=[],l,n,o,u,M;if(!cb.test(g+d.event.triggered)){if(g.indexOf("!")>=0){g=g.slice(0,-1);l=true}if(g.indexOf(".")>=0){h=g.split(".");g=h.shift();h.sort()}if(!((!e||
d.event.customEvent[g])&&!d.event.global[g])){a=typeof a==="object"?a[d.expando]?a:new d.Event(g,a):new d.Event(g);a.type=g;a.isTrigger=true;a.exclusive=l;a.namespace=h.join(".");a.namespace_re=a.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;l=g.indexOf(":")<0?"on"+g:"";if(e){a.result=c;if(!a.target)a.target=e;b=b!=null?d.makeArray(b):[];b.unshift(a);o=d.event.special[g]||{};if(!(o.trigger&&o.trigger.apply(e,b)===false)){M=[[e,o.bindType||g]];if(!f&&!o.noBubble&&!d.isWindow(e)){u=
o.delegateType||g;h=cb.test(u+g)?e:e.parentNode;for(n=null;h;h=h.parentNode){M.push([h,u]);n=h}if(n&&n===e.ownerDocument)M.push([n.defaultView||n.parentWindow||j,u])}for(n=0;n<M.length&&!a.isPropagationStopped();n++){h=M[n][0];a.type=M[n][1];(u=(d._data(h,"events")||{})[a.type]&&d._data(h,"handle"))&&u.apply(h,b);(u=l&&h[l])&&d.acceptData(h)&&u.apply(h,b)===false&&a.preventDefault()}a.type=g;if(!f&&!a.isDefaultPrevented())if((!o._default||o._default.apply(e.ownerDocument,b)===false)&&!(g==="click"&&
d.nodeName(e,"a"))&&d.acceptData(e))if(l&&e[g]&&(g!=="focus"&&g!=="blur"||a.target.offsetWidth!==0)&&!d.isWindow(e)){if(n=e[l])e[l]=null;d.event.triggered=g;e[g]();d.event.triggered=c;if(n)e[l]=n}return a.result}}else{e=d.cache;for(n in e)e[n].events&&e[n].events[g]&&d.event.trigger(a,b,e[n].handle.elem,true)}}}}},dispatch:function(a){a=d.event.fix(a||j.event);var b=(d._data(this,"events")||{})[a.type]||[],e=b.delegateCount,f=[].slice.call(arguments,0),g=!a.exclusive&&!a.namespace,h=[],l,n,o,u,M,
A,R;f[0]=a;a.delegateTarget=this;if(e&&!a.target.disabled&&!(a.button&&a.type==="click")){o=d(this);o.context=this.ownerDocument||this;for(n=a.target;n!=this;n=n.parentNode||this){M={};A=[];o[0]=n;for(l=0;l<e;l++){u=b[l];R=u.selector;if(M[R]===c)M[R]=u.quick?Jb(n,u.quick):o.is(R);M[R]&&A.push(u)}A.length&&h.push({elem:n,matches:A})}}b.length>e&&h.push({elem:this,matches:b.slice(e)});for(l=0;l<h.length&&!a.isPropagationStopped();l++){e=h[l];a.currentTarget=e.elem;for(b=0;b<e.matches.length&&!a.isImmediatePropagationStopped();b++){u=
e.matches[b];if(g||!a.namespace&&!u.namespace||a.namespace_re&&a.namespace_re.test(u.namespace)){a.data=u.data;a.handleObj=u;u=((d.event.special[u.origType]||{}).handle||u.handler).apply(e.elem,f);if(u!==c){a.result=u;if(u===false){a.preventDefault();a.stopPropagation()}}}}}return a.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),
filter:function(a,b){if(a.which==null)a.which=b.charCode!=null?b.charCode:b.keyCode;return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var e,f,g=b.button,h=b.fromElement;if(a.pageX==null&&b.clientX!=null){e=a.target.ownerDocument||I;f=e.documentElement;e=e.body;a.pageX=b.clientX+(f&&f.scrollLeft||e&&e.scrollLeft||0)-(f&&f.clientLeft||e&&e.clientLeft||0);a.pageY=b.clientY+(f&&f.scrollTop||e&&
e.scrollTop||0)-(f&&f.clientTop||e&&e.clientTop||0)}if(!a.relatedTarget&&h)a.relatedTarget=h===a.target?b.toElement:h;if(!a.which&&g!==c)a.which=g&1?1:g&2?3:g&4?2:0;return a}},fix:function(a){if(a[d.expando])return a;var b,e,f=a,g=d.event.fixHooks[a.type]||{},h=g.props?this.props.concat(g.props):this.props;a=d.Event(f);for(b=h.length;b;){e=h[--b];a[e]=f[e]}if(!a.target)a.target=f.srcElement||I;if(a.target.nodeType===3)a.target=a.target.parentNode;if(a.metaKey===c)a.metaKey=a.ctrlKey;return g.filter?
g.filter(a,f):a},special:{ready:{setup:d.bindReady},load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,e){if(d.isWindow(this))this.onbeforeunload=e},teardown:function(a,b){if(this.onbeforeunload===b)this.onbeforeunload=null}}},simulate:function(a,b,e,f){a=d.extend(new d.Event,e,{type:a,isSimulated:true,originalEvent:{}});f?d.event.trigger(a,null,b):d.event.dispatch.call(b,a);a.isDefaultPrevented()&&e.preventDefault()}};d.event.handle=
d.event.dispatch;d.removeEvent=I.removeEventListener?function(a,b,e){a.removeEventListener&&a.removeEventListener(b,e,false)}:function(a,b,e){a.detachEvent&&a.detachEvent("on"+b,e)};d.Event=function(a,b){if(!(this instanceof d.Event))return new d.Event(a,b);if(a&&a.type){this.originalEvent=a;this.type=a.type;this.isDefaultPrevented=a.defaultPrevented||a.returnValue===false||a.getPreventDefault&&a.getPreventDefault()?N:J}else this.type=a;b&&d.extend(this,b);this.timeStamp=a&&a.timeStamp||d.now();this[d.expando]=
true};d.Event.prototype={preventDefault:function(){this.isDefaultPrevented=N;var a=this.originalEvent;if(a)if(a.preventDefault)a.preventDefault();else a.returnValue=false},stopPropagation:function(){this.isPropagationStopped=N;var a=this.originalEvent;if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=N;this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J};d.each({mouseenter:"mouseover",
mouseleave:"mouseout"},function(a,b){d.event.special[a]={delegateType:b,bindType:b,handle:function(e){var f=this,g=e.relatedTarget,h=e.handleObj,l;if(!g||g!==f&&!d.contains(f,g)){e.type=h.origType;l=h.handler.apply(this,arguments);e.type=b}return l}}});if(!d.support.submitBubbles)d.event.special.submit={setup:function(){if(d.nodeName(this,"form"))return false;d.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=d.nodeName(a,"input")||d.nodeName(a,"button")?a.form:c)&&!a._submit_attached){d.event.add(a,
"submit._submit",function(b){this.parentNode&&!b.isTrigger&&d.event.simulate("submit",this.parentNode,b,true)});a._submit_attached=true}})},teardown:function(){if(d.nodeName(this,"form"))return false;d.event.remove(this,"._submit")}};if(!d.support.changeBubbles)d.event.special.change={setup:function(){if(Pa.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){d.event.add(this,"propertychange._change",function(a){if(a.originalEvent.propertyName==="checked")this._just_changed=true});
d.event.add(this,"click._change",function(a){if(this._just_changed&&!a.isTrigger){this._just_changed=false;d.event.simulate("change",this,a,true)}})}return false}d.event.add(this,"beforeactivate._change",function(a){a=a.target;if(Pa.test(a.nodeName)&&!a._change_attached){d.event.add(a,"change._change",function(b){this.parentNode&&!b.isSimulated&&!b.isTrigger&&d.event.simulate("change",this.parentNode,b,true)});a._change_attached=true}})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||
a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){d.event.remove(this,"._change");return Pa.test(this.nodeName)}};d.support.focusinBubbles||d.each({focus:"focusin",blur:"focusout"},function(a,b){var e=0,f=function(g){d.event.simulate(b,g.target,d.event.fix(g),true)};d.event.special[b]={setup:function(){e++===0&&I.addEventListener(a,f,true)},teardown:function(){--e===0&&I.removeEventListener(a,f,true)}}});d.fn.extend({on:function(a,
b,e,f,g){var h,l;if(typeof a==="object"){if(typeof b!=="string"){e=b;b=c}for(l in a)this.on(l,b,e,a[l],g);return this}if(e==null&&f==null){f=b;e=b=c}else if(f==null)if(typeof b==="string"){f=e;e=c}else{f=e;e=b;b=c}if(f===false)f=J;else if(!f)return this;if(g===1){h=f;f=function(n){d().off(n);return h.apply(this,arguments)};f.guid=h.guid||(h.guid=d.guid++)}return this.each(function(){d.event.add(this,a,f,e,b)})},one:function(a,b,e,f){return this.on.call(this,a,b,e,f,1)},off:function(a,b,e){if(a&&a.preventDefault&&
a.handleObj){var f=a.handleObj;d(a.delegateTarget).off(f.namespace?f.type+"."+f.namespace:f.type,f.selector,f.handler);return this}if(typeof a==="object"){for(f in a)this.off(f,b,a[f]);return this}if(b===false||typeof b==="function"){e=b;b=c}if(e===false)e=J;return this.each(function(){d.event.remove(this,a,e,b)})},bind:function(a,b,e){return this.on(a,null,b,e)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,e){d(this.context).on(a,this.selector,b,e);return this},die:function(a,
b){d(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,e,f){return this.on(b,a,e,f)},undelegate:function(a,b,e){return arguments.length==1?this.off(a,"**"):this.off(b,a,e)},trigger:function(a,b){return this.each(function(){d.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return d.event.trigger(a,b,this[0],true)},toggle:function(a){var b=arguments,e=a.guid||d.guid++,f=0,g=function(h){var l=(d._data(this,"lastToggle"+a.guid)||0)%f;d._data(this,"lastToggle"+
a.guid,l+1);h.preventDefault();return b[l].apply(this,arguments)||false};for(g.guid=e;f<b.length;)b[f++].guid=e;return this.click(g)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});d.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){d.fn[b]=function(e,f){if(f==null){f=e;e=null}return arguments.length>
0?this.on(b,null,e,f):this.trigger(b)};if(d.attrFn)d.attrFn[b]=true;if(Fb.test(b))d.event.fixHooks[b]=d.event.keyHooks;if(Gb.test(b))d.event.fixHooks[b]=d.event.mouseHooks});(function(){function a(i,k,w,z,C,K){C=0;for(var S=z.length;C<S;C++){var V=z[C];if(V){var ka=false;for(V=V[i];V;){if(V[f]===w){ka=z[V.sizset];break}if(V.nodeType===1&&!K){V[f]=w;V.sizset=C}if(V.nodeName.toLowerCase()===k){ka=V;break}V=V[i]}z[C]=ka}}}function b(i,k,w,z,C,K){C=0;for(var S=z.length;C<S;C++){var V=z[C];if(V){var ka=
false;for(V=V[i];V;){if(V[f]===w){ka=z[V.sizset];break}if(V.nodeType===1){if(!K){V[f]=w;V.sizset=C}if(typeof k!=="string"){if(V===k){ka=true;break}}else if(A.filter(k,[V]).length>0){ka=V;break}}V=V[i]}z[C]=ka}}}var e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,f="sizcache"+(Math.random()+"").replace(".",""),g=0,h=Object.prototype.toString,l=false,n=true,o=/\\/g,u=/\r\n/g,M=/\W/;[0,0].sort(function(){n=false;
return 0});var A=function(i,k,w,z){w=w||[];var C=k=k||I;if(k.nodeType!==1&&k.nodeType!==9)return[];if(!i||typeof i!=="string")return w;var K,S,V,ka,p,F=true,T=A.isXML(k),P=[],pa=i;do{e.exec("");if(K=e.exec(pa)){pa=K[3];P.push(K[1]);if(K[2]){ka=K[3];break}}}while(K);if(P.length>1&&da.exec(i))if(P.length===2&&L.relative[P[0]])S=ya(P[0]+P[1],k,z);else for(S=L.relative[P[0]]?[k]:A(P.shift(),k);P.length;){i=P.shift();if(L.relative[i])i+=P.shift();S=ya(i,S,z)}else{if(!z&&P.length>1&&k.nodeType===9&&!T&&
L.match.ID.test(P[0])&&!L.match.ID.test(P[P.length-1])){K=A.find(P.shift(),k,T);k=K.expr?A.filter(K.expr,K.set)[0]:K.set[0]}if(k){K=z?{expr:P.pop(),set:ra(z)}:A.find(P.pop(),P.length===1&&(P[0]==="~"||P[0]==="+")&&k.parentNode?k.parentNode:k,T);S=K.expr?A.filter(K.expr,K.set):K.set;if(P.length>0)V=ra(S);else F=false;for(;P.length;){K=p=P.pop();if(L.relative[p])K=P.pop();else p="";if(K==null)K=k;L.relative[p](V,K,T)}}else V=[]}V||(V=S);V||A.error(p||i);if(h.call(V)==="[object Array]")if(F)if(k&&k.nodeType===
1)for(i=0;V[i]!=null;i++){if(V[i]&&(V[i]===true||V[i].nodeType===1&&A.contains(k,V[i])))w.push(S[i])}else for(i=0;V[i]!=null;i++)V[i]&&V[i].nodeType===1&&w.push(S[i]);else w.push.apply(w,V);else ra(V,w);if(ka){A(ka,C,w,z);A.uniqueSort(w)}return w};A.uniqueSort=function(i){if(fa){l=n;i.sort(fa);if(l)for(var k=1;k<i.length;k++)i[k]===i[k-1]&&i.splice(k--,1)}return i};A.matches=function(i,k){return A(i,null,null,k)};A.matchesSelector=function(i,k){return A(k,null,null,[i]).length>0};A.find=function(i,
k,w){var z,C,K,S,V,ka;if(!i)return[];C=0;for(K=L.order.length;C<K;C++){V=L.order[C];if(S=L.leftMatch[V].exec(i)){ka=S[1];S.splice(1,1);if(ka.substr(ka.length-1)!=="\\"){S[1]=(S[1]||"").replace(o,"");z=L.find[V](S,k,w);if(z!=null){i=i.replace(L.match[V],"");break}}}}z||(z=typeof k.getElementsByTagName!=="undefined"?k.getElementsByTagName("*"):[]);return{set:z,expr:i}};A.filter=function(i,k,w,z){for(var C,K,S,V,ka,p,F,T,P=i,pa=[],ia=k,ta=k&&k[0]&&A.isXML(k[0]);i&&k.length;){for(S in L.filter)if((C=
L.leftMatch[S].exec(i))!=null&&C[2]){p=L.filter[S];ka=C[1];K=false;C.splice(1,1);if(ka.substr(ka.length-1)!=="\\"){if(ia===pa)pa=[];if(L.preFilter[S])if(C=L.preFilter[S](C,ia,w,pa,z,ta)){if(C===true)continue}else K=V=true;if(C)for(F=0;(ka=ia[F])!=null;F++)if(ka){V=p(ka,C,F,ia);T=z^V;if(w&&V!=null)if(T)K=true;else ia[F]=false;else if(T){pa.push(ka);K=true}}if(V!==c){w||(ia=pa);i=i.replace(L.match[S],"");if(!K)return[];break}}}if(i===P)if(K==null)A.error(i);else break;P=i}return ia};A.error=function(i){throw new Error("Syntax error, unrecognized expression: "+
i);};var R=A.getText=function(i){var k,w;k=i.nodeType;var z="";if(k)if(k===1||k===9)if(typeof i.textContent==="string")return i.textContent;else if(typeof i.innerText==="string")return i.innerText.replace(u,"");else for(i=i.firstChild;i;i=i.nextSibling)z+=R(i);else{if(k===3||k===4)return i.nodeValue}else for(k=0;w=i[k];k++)if(w.nodeType!==8)z+=R(w);return z},L=A.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(i){return i.getAttribute("href")},
type:function(i){return i.getAttribute("type")}},relative:{"+":function(i,k){var w=typeof k==="string",z=w&&!M.test(k);w=w&&!z;if(z)k=k.toLowerCase();z=0;for(var C=i.length,K;z<C;z++)if(K=i[z]){for(;(K=K.previousSibling)&&K.nodeType!==1;);i[z]=w||K&&K.nodeName.toLowerCase()===k?K||false:K===k}w&&A.filter(k,i,true)},">":function(i,k){var w,z=typeof k==="string",C=0,K=i.length;if(z&&!M.test(k))for(k=k.toLowerCase();C<K;C++){if(w=i[C]){w=w.parentNode;i[C]=w.nodeName.toLowerCase()===k?w:false}}else{for(;C<
K;C++)if(w=i[C])i[C]=z?w.parentNode:w.parentNode===k;z&&A.filter(k,i,true)}},"":function(i,k,w){var z,C=g++,K=b;if(typeof k==="string"&&!M.test(k)){z=k=k.toLowerCase();K=a}K("parentNode",k,C,i,z,w)},"~":function(i,k,w){var z,C=g++,K=b;if(typeof k==="string"&&!M.test(k)){z=k=k.toLowerCase();K=a}K("previousSibling",k,C,i,z,w)}},find:{ID:function(i,k,w){if(typeof k.getElementById!=="undefined"&&!w)return(i=k.getElementById(i[1]))&&i.parentNode?[i]:[]},NAME:function(i,k){if(typeof k.getElementsByName!==
"undefined"){var w=[];k=k.getElementsByName(i[1]);for(var z=0,C=k.length;z<C;z++)k[z].getAttribute("name")===i[1]&&w.push(k[z]);return w.length===0?null:w}},TAG:function(i,k){if(typeof k.getElementsByTagName!=="undefined")return k.getElementsByTagName(i[1])}},preFilter:{CLASS:function(i,k,w,z,C,K){i=" "+i[1].replace(o,"")+" ";if(K)return i;K=0;for(var S;(S=k[K])!=null;K++)if(S)if(C^(S.className&&(" "+S.className+" ").replace(/[\t\n\r]/g," ").indexOf(i)>=0))w||z.push(S);else if(w)k[K]=false;return false},
ID:function(i){return i[1].replace(o,"")},TAG:function(i){return i[1].replace(o,"").toLowerCase()},CHILD:function(i){if(i[1]==="nth"){i[2]||A.error(i[0]);i[2]=i[2].replace(/^\+|\s*/g,"");var k=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(i[2]==="even"&&"2n"||i[2]==="odd"&&"2n+1"||!/\D/.test(i[2])&&"0n+"+i[2]||i[2]);i[2]=k[1]+(k[2]||1)-0;i[3]=k[3]-0}else i[2]&&A.error(i[0]);i[0]=g++;return i},ATTR:function(i,k,w,z,C,K){k=i[1]=i[1].replace(o,"");if(!K&&L.attrMap[k])i[1]=L.attrMap[k];i[4]=(i[4]||i[5]||"").replace(o,
"");if(i[2]==="~=")i[4]=" "+i[4]+" ";return i},PSEUDO:function(i,k,w,z,C){if(i[1]==="not")if((e.exec(i[3])||"").length>1||/^\w/.test(i[3]))i[3]=A(i[3],null,null,k);else{i=A.filter(i[3],k,w,true^C);w||z.push.apply(z,i);return false}else if(L.match.POS.test(i[0])||L.match.CHILD.test(i[0]))return true;return i},POS:function(i){i.unshift(true);return i}},filters:{enabled:function(i){return i.disabled===false&&i.type!=="hidden"},disabled:function(i){return i.disabled===true},checked:function(i){return i.checked===
true},selected:function(i){return i.selected===true},parent:function(i){return!!i.firstChild},empty:function(i){return!i.firstChild},has:function(i,k,w){return!!A(w[3],i).length},header:function(i){return/h\d/i.test(i.nodeName)},text:function(i){var k=i.getAttribute("type"),w=i.type;return i.nodeName.toLowerCase()==="input"&&"text"===w&&(k===w||k===null)},radio:function(i){return i.nodeName.toLowerCase()==="input"&&"radio"===i.type},checkbox:function(i){return i.nodeName.toLowerCase()==="input"&&
"checkbox"===i.type},file:function(i){return i.nodeName.toLowerCase()==="input"&&"file"===i.type},password:function(i){return i.nodeName.toLowerCase()==="input"&&"password"===i.type},submit:function(i){var k=i.nodeName.toLowerCase();return(k==="input"||k==="button")&&"submit"===i.type},image:function(i){return i.nodeName.toLowerCase()==="input"&&"image"===i.type},reset:function(i){var k=i.nodeName.toLowerCase();return(k==="input"||k==="button")&&"reset"===i.type},button:function(i){var k=i.nodeName.toLowerCase();
return k==="input"&&"button"===i.type||k==="button"},input:function(i){return/input|select|textarea|button/i.test(i.nodeName)},focus:function(i){return i===i.ownerDocument.activeElement}},setFilters:{first:function(i,k){return k===0},last:function(i,k,w,z){return k===z.length-1},even:function(i,k){return k%2===0},odd:function(i,k){return k%2===1},lt:function(i,k,w){return k<w[3]-0},gt:function(i,k,w){return k>w[3]-0},nth:function(i,k,w){return w[3]-0===k},eq:function(i,k,w){return w[3]-0===k}},filter:{PSEUDO:function(i,
k,w,z){var C=k[1],K=L.filters[C];if(K)return K(i,w,k,z);else if(C==="contains")return(i.textContent||i.innerText||R([i])||"").indexOf(k[3])>=0;else if(C==="not"){k=k[3];w=0;for(z=k.length;w<z;w++)if(k[w]===i)return false;return true}else A.error(C)},CHILD:function(i,k){var w,z,C,K;w=k[1];var S=i;switch(w){case "only":case "first":for(;S=S.previousSibling;)if(S.nodeType===1)return false;if(w==="first")return true;S=i;case "last":for(;S=S.nextSibling;)if(S.nodeType===1)return false;return true;case "nth":w=
k[2];z=k[3];if(w===1&&z===0)return true;k=k[0];if((C=i.parentNode)&&(C[f]!==k||!i.nodeIndex)){K=0;for(S=C.firstChild;S;S=S.nextSibling)if(S.nodeType===1)S.nodeIndex=++K;C[f]=k}i=i.nodeIndex-z;return w===0?i===0:i%w===0&&i/w>=0}},ID:function(i,k){return i.nodeType===1&&i.getAttribute("id")===k},TAG:function(i,k){return k==="*"&&i.nodeType===1||!!i.nodeName&&i.nodeName.toLowerCase()===k},CLASS:function(i,k){return(" "+(i.className||i.getAttribute("class"))+" ").indexOf(k)>-1},ATTR:function(i,k){var w=
k[1];i=A.attr?A.attr(i,w):L.attrHandle[w]?L.attrHandle[w](i):i[w]!=null?i[w]:i.getAttribute(w);w=i+"";var z=k[2];k=k[4];return i==null?z==="!=":!z&&A.attr?i!=null:z==="="?w===k:z==="*="?w.indexOf(k)>=0:z==="~="?(" "+w+" ").indexOf(k)>=0:!k?w&&i!==false:z==="!="?w!==k:z==="^="?w.indexOf(k)===0:z==="$="?w.substr(w.length-k.length)===k:z==="|="?w===k||w.substr(0,k.length+1)===k+"-":false},POS:function(i,k,w,z){var C=L.setFilters[k[2]];if(C)return C(i,w,k,z)}}},da=L.match.POS,qa=function(i,k){return"\\"+
(k-0+1)};for(var sa in L.match){L.match[sa]=new RegExp(L.match[sa].source+/(?![^\[]*\])(?![^\(]*\))/.source);L.leftMatch[sa]=new RegExp(/(^(?:.|\r|\n)*?)/.source+L.match[sa].source.replace(/\\(\d+)/g,qa))}var ra=function(i,k){i=Array.prototype.slice.call(i,0);if(k){k.push.apply(k,i);return k}return i};try{Array.prototype.slice.call(I.documentElement.childNodes,0)}catch(Ba){ra=function(i,k){var w=0;k=k||[];if(h.call(i)==="[object Array]")Array.prototype.push.apply(k,i);else if(typeof i.length==="number")for(var z=
i.length;w<z;w++)k.push(i[w]);else for(;i[w];w++)k.push(i[w]);return k}}var fa,Aa;if(I.documentElement.compareDocumentPosition)fa=function(i,k){if(i===k){l=true;return 0}if(!i.compareDocumentPosition||!k.compareDocumentPosition)return i.compareDocumentPosition?-1:1;return i.compareDocumentPosition(k)&4?-1:1};else{fa=function(i,k){if(i===k){l=true;return 0}else if(i.sourceIndex&&k.sourceIndex)return i.sourceIndex-k.sourceIndex;var w,z,C=[],K=[];w=i.parentNode;z=k.parentNode;var S=w;if(w===z)return Aa(i,
k);else if(w){if(!z)return 1}else return-1;for(;S;){C.unshift(S);S=S.parentNode}for(S=z;S;){K.unshift(S);S=S.parentNode}w=C.length;z=K.length;for(S=0;S<w&&S<z;S++)if(C[S]!==K[S])return Aa(C[S],K[S]);return S===w?Aa(i,K[S],-1):Aa(C[S],k,1)};Aa=function(i,k,w){if(i===k)return w;for(i=i.nextSibling;i;){if(i===k)return-1;i=i.nextSibling}return 1}}(function(){var i=I.createElement("div"),k="script"+(new Date).getTime(),w=I.documentElement;i.innerHTML="<a name='"+k+"'/>";w.insertBefore(i,w.firstChild);
if(I.getElementById(k)){L.find.ID=function(z,C,K){if(typeof C.getElementById!=="undefined"&&!K)return(C=C.getElementById(z[1]))?C.id===z[1]||typeof C.getAttributeNode!=="undefined"&&C.getAttributeNode("id").nodeValue===z[1]?[C]:c:[]};L.filter.ID=function(z,C){var K=typeof z.getAttributeNode!=="undefined"&&z.getAttributeNode("id");return z.nodeType===1&&K&&K.nodeValue===C}}w.removeChild(i);w=i=null})();(function(){var i=I.createElement("div");i.appendChild(I.createComment(""));if(i.getElementsByTagName("*").length>
0)L.find.TAG=function(k,w){w=w.getElementsByTagName(k[1]);if(k[1]==="*"){k=[];for(var z=0;w[z];z++)w[z].nodeType===1&&k.push(w[z]);w=k}return w};i.innerHTML="<a href='#'></a>";if(i.firstChild&&typeof i.firstChild.getAttribute!=="undefined"&&i.firstChild.getAttribute("href")!=="#")L.attrHandle.href=function(k){return k.getAttribute("href",2)};i=null})();I.querySelectorAll&&function(){var i=A,k=I.createElement("div");k.innerHTML="<p class='TEST'></p>";if(!(k.querySelectorAll&&k.querySelectorAll(".TEST").length===
0)){A=function(z,C,K,S){C=C||I;if(!S&&!A.isXML(C)){var V=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(z);if(V&&(C.nodeType===1||C.nodeType===9))if(V[1])return ra(C.getElementsByTagName(z),K);else if(V[2]&&L.find.CLASS&&C.getElementsByClassName)return ra(C.getElementsByClassName(V[2]),K);if(C.nodeType===9){if(z==="body"&&C.body)return ra([C.body],K);else if(V&&V[3]){var ka=C.getElementById(V[3]);if(ka&&ka.parentNode){if(ka.id===V[3])return ra([ka],K)}else return ra([],K)}try{return ra(C.querySelectorAll(z),
K)}catch(p){}}else if(C.nodeType===1&&C.nodeName.toLowerCase()!=="object"){V=C;var F=(ka=C.getAttribute("id"))||"__sizzle__",T=C.parentNode,P=/^\s*[+~]/.test(z);if(ka)F=F.replace(/'/g,"\\$&");else C.setAttribute("id",F);if(P&&T)C=C.parentNode;try{if(!P||T)return ra(C.querySelectorAll("[id='"+F+"'] "+z),K)}catch(pa){}finally{ka||V.removeAttribute("id")}}}return i(z,C,K,S)};for(var w in i)A[w]=i[w];k=null}}();(function(){var i=I.documentElement,k=i.matchesSelector||i.mozMatchesSelector||i.webkitMatchesSelector||
i.msMatchesSelector;if(k){var w=!k.call(I.createElement("div"),"div"),z=false;try{k.call(I.documentElement,"[test!='']:sizzle")}catch(C){z=true}A.matchesSelector=function(K,S){S=S.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!A.isXML(K))try{if(z||!L.match.PSEUDO.test(S)&&!/!=/.test(S)){var V=k.call(K,S);if(V||!w||K.document&&K.document.nodeType!==11)return V}}catch(ka){}return A(S,null,null,[K]).length>0}}})();(function(){var i=I.createElement("div");i.innerHTML="<div class='test e'></div><div class='test'></div>";
if(!(!i.getElementsByClassName||i.getElementsByClassName("e").length===0)){i.lastChild.className="e";if(i.getElementsByClassName("e").length!==1){L.order.splice(1,0,"CLASS");L.find.CLASS=function(k,w,z){if(typeof w.getElementsByClassName!=="undefined"&&!z)return w.getElementsByClassName(k[1])};i=null}}})();A.contains=I.documentElement.contains?function(i,k){return i!==k&&(i.contains?i.contains(k):true)}:I.documentElement.compareDocumentPosition?function(i,k){return!!(i.compareDocumentPosition(k)&
16)}:function(){return false};A.isXML=function(i){return(i=(i?i.ownerDocument||i:0).documentElement)?i.nodeName!=="HTML":false};var ya=function(i,k,w){var z,C=[],K="";for(k=k.nodeType?[k]:k;z=L.match.PSEUDO.exec(i);){K+=z[0];i=i.replace(L.match.PSEUDO,"")}i=L.relative[i]?i+"*":i;z=0;for(var S=k.length;z<S;z++)A(i,k[z],C,w);return A.filter(K,C)};A.attr=d.attr;A.selectors.attrMap={};d.find=A;d.expr=A.selectors;d.expr[":"]=d.expr.filters;d.unique=A.uniqueSort;d.text=A.getText;d.isXMLDoc=A.isXML;d.contains=
A.contains})();var Kb=/Until$/,Lb=/^(?:parents|prevUntil|prevAll)/,Mb=/,/,vb=/^.[^:#\[\.,]*$/,Nb=Array.prototype.slice,eb=d.expr.match.POS,Ob={children:true,contents:true,next:true,prev:true};d.fn.extend({find:function(a){var b=this,e,f;if(typeof a!=="string")return d(a).filter(function(){e=0;for(f=b.length;e<f;e++)if(d.contains(b[e],this))return true});var g=this.pushStack("","find",a),h,l,n;e=0;for(f=this.length;e<f;e++){h=g.length;d.find(a,this[e],g);if(e>0)for(l=h;l<g.length;l++)for(n=0;n<h;n++)if(g[n]===
g[l]){g.splice(l--,1);break}}return g},has:function(a){var b=d(a);return this.filter(function(){for(var e=0,f=b.length;e<f;e++)if(d.contains(this,b[e]))return true})},not:function(a){return this.pushStack(Z(this,a,false),"not",a)},filter:function(a){return this.pushStack(Z(this,a,true),"filter",a)},is:function(a){return!!a&&(typeof a==="string"?eb.test(a)?d(a,this.context).index(this[0])>=0:d.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var e=[],f,g,h=this[0];if(d.isArray(a)){for(g=
1;h&&h.ownerDocument&&h!==b;){for(f=0;f<a.length;f++)d(h).is(a[f])&&e.push({selector:a[f],elem:h,level:g});h=h.parentNode;g++}return e}var l=eb.test(a)||typeof a!=="string"?d(a,b||this.context):0;f=0;for(g=this.length;f<g;f++)for(h=this[f];h;)if(l?l.index(h)>-1:d.find.matchesSelector(h,a)){e.push(h);break}else{h=h.parentNode;if(!h||!h.ownerDocument||h===b||h.nodeType===11)break}e=e.length>1?d.unique(e):e;return this.pushStack(e,"closest",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?
this.prevAll().length:-1;if(typeof a==="string")return d.inArray(this[0],d(a));return d.inArray(a.jquery?a[0]:a,this)},add:function(a,b){a=typeof a==="string"?d(a,b):d.makeArray(a&&a.nodeType?[a]:a);b=d.merge(this.get(),a);return this.pushStack(W(a[0])||W(b[0])?b:d.unique(b))},andSelf:function(){return this.add(this.prevObject)}});d.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return d.dir(a,"parentNode")},parentsUntil:function(a,b,e){return d.dir(a,
"parentNode",e)},next:function(a){return d.nth(a,2,"nextSibling")},prev:function(a){return d.nth(a,2,"previousSibling")},nextAll:function(a){return d.dir(a,"nextSibling")},prevAll:function(a){return d.dir(a,"previousSibling")},nextUntil:function(a,b,e){return d.dir(a,"nextSibling",e)},prevUntil:function(a,b,e){return d.dir(a,"previousSibling",e)},siblings:function(a){return d.sibling(a.parentNode.firstChild,a)},children:function(a){return d.sibling(a.firstChild)},contents:function(a){return d.nodeName(a,
"iframe")?a.contentDocument||a.contentWindow.document:d.makeArray(a.childNodes)}},function(a,b){d.fn[a]=function(e,f){var g=d.map(this,b,e);Kb.test(a)||(f=e);if(f&&typeof f==="string")g=d.filter(f,g);g=this.length>1&&!Ob[a]?d.unique(g):g;if((this.length>1||Mb.test(f))&&Lb.test(a))g=g.reverse();return this.pushStack(g,a,Nb.call(arguments).join(","))}});d.extend({filter:function(a,b,e){if(e)a=":not("+a+")";return b.length===1?d.find.matchesSelector(b[0],a)?[b[0]]:[]:d.find.matches(a,b)},dir:function(a,
b,e){var f=[];for(a=a[b];a&&a.nodeType!==9&&(e===c||a.nodeType!==1||!d(a).is(e));){a.nodeType===1&&f.push(a);a=a[b]}return f},nth:function(a,b,e){b=b||1;for(var f=0;a;a=a[e])if(a.nodeType===1&&++f===b)break;return a},sibling:function(a,b){for(var e=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&e.push(a);return e}});var Ta="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Pb=/ jQuery\d+="(?:\d+|null)"/g,
Qa=/^\s+/,fb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,gb=/<([\w:]+)/,Qb=/<tbody/i,Rb=/<|&#?\w+;/,Sb=/<(?:script|style)/i,Tb=/<(?:script|object|embed|option|style)/i,hb=new RegExp("<(?:"+Ta+")","i"),ib=/checked\s*(?:[^=]|=\s*.checked.)/i,Ub=/\/(java|ecma)script/i,wb=/^\s*<!(?:\[CDATA\[|\-\-)/,wa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,
"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Ua=H(I);wa.optgroup=wa.option;wa.tbody=wa.tfoot=wa.colgroup=wa.caption=wa.thead;wa.th=wa.td;if(!d.support.htmlSerialize)wa._default=[1,"div<div>","</div>"];d.fn.extend({text:function(a){if(d.isFunction(a))return this.each(function(b){var e=d(this);e.text(a.call(this,b,e.text()))});if(typeof a!=="object"&&a!==c)return this.empty().append((this[0]&&
this[0].ownerDocument||I).createTextNode(a));return d.text(this)},wrapAll:function(a){if(d.isFunction(a))return this.each(function(e){d(this).wrapAll(a.call(this,e))});if(this[0]){var b=d(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var e=this;e.firstChild&&e.firstChild.nodeType===1;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(a){if(d.isFunction(a))return this.each(function(b){d(this).wrapInner(a.call(this,b))});
return this.each(function(){var b=d(this),e=b.contents();e.length?e.wrapAll(a):b.append(a)})},wrap:function(a){var b=d.isFunction(a);return this.each(function(e){d(this).wrapAll(b?a.call(this,e):a)})},unwrap:function(){return this.parent().each(function(){d.nodeName(this,"body")||d(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===
1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this)});else if(arguments.length){var a=d.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this.nextSibling)});else if(arguments.length){var a=this.pushStack(this,
"after",arguments);a.push.apply(a,d.clean(arguments));return a}},remove:function(a,b){for(var e=0,f;(f=this[e])!=null;e++)if(!a||d.filter(a,[f]).length){if(!b&&f.nodeType===1){d.cleanData(f.getElementsByTagName("*"));d.cleanData([f])}f.parentNode&&f.parentNode.removeChild(f)}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&d.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=a==null?false:a;b=b==
null?a:b;return this.map(function(){return d.clone(this,a,b)})},html:function(a){if(a===c)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Pb,""):null;else if(typeof a==="string"&&!Sb.test(a)&&(d.support.leadingWhitespace||!Qa.test(a))&&!wa[(gb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(fb,"<$1></$2>");try{for(var b=0,e=this.length;b<e;b++)if(this[b].nodeType===1){d.cleanData(this[b].getElementsByTagName("*"));this[b].innerHTML=a}}catch(f){this.empty().append(a)}}else d.isFunction(a)?
this.each(function(g){var h=d(this);h.html(a.call(this,g,h.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(d.isFunction(a))return this.each(function(b){var e=d(this),f=e.html();e.replaceWith(a.call(this,b,f))});if(typeof a!=="string")a=d(a).detach();return this.each(function(){var b=this.nextSibling,e=this.parentNode;d(this).remove();b?d(b).before(a):d(e).append(a)})}else return this.length?this.pushStack(d(d.isFunction(a)?a():a),"replaceWith",
a):this},detach:function(a){return this.remove(a,true)},domManip:function(a,b,e){var f,g,h,l=a[0],n=[];if(!d.support.checkClone&&arguments.length===3&&typeof l==="string"&&ib.test(l))return this.each(function(){d(this).domManip(a,b,e,true)});if(d.isFunction(l))return this.each(function(A){var R=d(this);a[0]=l.call(this,A,b?R.html():c);R.domManip(a,b,e)});if(this[0]){f=l&&l.parentNode;f=d.support.parentNode&&f&&f.nodeType===11&&f.childNodes.length===this.length?{fragment:f}:d.buildFragment(a,this,
n);h=f.fragment;if(g=h.childNodes.length===1?(h=h.firstChild):h.firstChild){b=b&&d.nodeName(g,"tr");for(var o=0,u=this.length,M=u-1;o<u;o++)e.call(b?X(this[o],g):this[o],f.cacheable||u>1&&o<M?d.clone(h,true,true):h)}n.length&&d.each(n,D)}return this}});d.buildFragment=function(a,b,e){var f,g,h,l,n=a[0];if(b&&b[0])l=b[0].ownerDocument||b[0];l.createDocumentFragment||(l=I);if(a.length===1&&typeof n==="string"&&n.length<512&&l===I&&n.charAt(0)==="<"&&!Tb.test(n)&&(d.support.checkClone||!ib.test(n))&&
(d.support.html5Clone||!hb.test(n))){g=true;if((h=d.fragments[n])&&h!==1)f=h}if(!f){f=l.createDocumentFragment();d.clean(a,l,f,e)}if(g)d.fragments[n]=h?f:1;return{fragment:f,cacheable:g}};d.fragments={};d.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){d.fn[a]=function(e){var f=[];e=d(e);var g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}else{g=
0;for(var h=e.length;g<h;g++){var l=(g>0?this.clone(true):this).get();d(e[g])[b](l);f=f.concat(l)}return this.pushStack(f,a,e.selector)}}});d.extend({clone:function(a,b,e){var f,g,h,l=d.support.html5Clone||!hb.test("<"+a.nodeName)?a.cloneNode(true):ga(a);if((!d.support.noCloneEvent||!d.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!d.isXMLDoc(a)){Y(a,l);f=ea(a);g=ea(l);for(h=0;f[h];++h)g[h]&&Y(f[h],g[h])}if(b){ba(a,l);if(e){f=ea(a);g=ea(l);for(h=0;f[h];++h)ba(f[h],g[h])}}return l},clean:function(a,
b,e,f){b=b||I;if(typeof b.createElement==="undefined")b=b.ownerDocument||b[0]&&b[0].ownerDocument||I;for(var g=[],h,l=0,n;(n=a[l])!=null;l++){if(typeof n==="number")n+="";if(n){if(typeof n==="string")if(Rb.test(n)){n=n.replace(fb,"<$1></$2>");h=(gb.exec(n)||["",""])[1].toLowerCase();var o=wa[h]||wa._default,u=o[0],M=b.createElement("div");b===I?Ua.appendChild(M):H(b).appendChild(M);for(M.innerHTML=o[1]+n+o[2];u--;)M=M.lastChild;if(!d.support.tbody){u=Qb.test(n);o=h==="table"&&!u?M.firstChild&&M.firstChild.childNodes:
o[1]==="<table>"&&!u?M.childNodes:[];for(h=o.length-1;h>=0;--h)d.nodeName(o[h],"tbody")&&!o[h].childNodes.length&&o[h].parentNode.removeChild(o[h])}!d.support.leadingWhitespace&&Qa.test(n)&&M.insertBefore(b.createTextNode(Qa.exec(n)[0]),M.firstChild);n=M.childNodes}else n=b.createTextNode(n);var A;if(!d.support.appendChecked)if(n[0]&&typeof(A=n.length)==="number")for(h=0;h<A;h++)la(n[h]);else la(n);if(n.nodeType)g.push(n);else g=d.merge(g,n)}}if(e){a=function(R){return!R.type||Ub.test(R.type)};for(l=
0;g[l];l++)if(f&&d.nodeName(g[l],"script")&&(!g[l].type||g[l].type.toLowerCase()==="text/javascript"))f.push(g[l].parentNode?g[l].parentNode.removeChild(g[l]):g[l]);else{if(g[l].nodeType===1){b=d.grep(g[l].getElementsByTagName("script"),a);g.splice.apply(g,[l+1,0].concat(b))}e.appendChild(g[l])}}return g},cleanData:function(a){for(var b,e,f=d.cache,g=d.event.special,h=d.support.deleteExpando,l=0,n;(n=a[l])!=null;l++)if(!(n.nodeName&&d.noData[n.nodeName.toLowerCase()]))if(e=n[d.expando]){if((b=f[e])&&
b.events){for(var o in b.events)g[o]?d.event.remove(n,o):d.removeEvent(n,o,b.handle);if(b.handle)b.handle.elem=null}if(h)delete n[d.expando];else n.removeAttribute&&n.removeAttribute(d.expando);delete f[e]}}});var Ra=/alpha\([^)]*\)/i,Vb=/opacity=([^)]*)/,Wb=/([A-Z]|^ms)/g,jb=/^-?\d+(?:px)?$/i,Xb=/^-?\d/,Yb=/^([\-+])=([\-+.\de]+)/,Zb={position:"absolute",visibility:"hidden",display:"block"},xb=["Left","Right"],yb=["Top","Bottom"],Fa,kb,lb;d.fn.css=function(a,b){if(arguments.length===2&&b===c)return this;
return d.access(this,a,b,true,function(e,f,g){return g!==c?d.style(e,f,g):d.css(e,f)})};d.extend({cssHooks:{opacity:{get:function(a,b){if(b){a=Fa(a,"opacity","opacity");return a===""?"1":a}else return a.style.opacity}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":d.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,e,f){if(!(!a||a.nodeType===3||a.nodeType===8||!a.style)){var g,h=d.camelCase(b),
l=a.style,n=d.cssHooks[h];b=d.cssProps[h]||h;if(e!==c){f=typeof e;if(f==="string"&&(g=Yb.exec(e))){e=+(g[1]+1)*+g[2]+parseFloat(d.css(a,b));f="number"}if(!(e==null||f==="number"&&isNaN(e))){if(f==="number"&&!d.cssNumber[h])e+="px";if(!n||!("set"in n)||(e=n.set(a,e))!==c)try{l[b]=e}catch(o){}}}else{if(n&&"get"in n&&(g=n.get(a,false,f))!==c)return g;return l[b]}}},css:function(a,b,e){var f,g;b=d.camelCase(b);g=d.cssHooks[b];b=d.cssProps[b]||b;if(b==="cssFloat")b="float";if(g&&"get"in g&&(f=g.get(a,
true,e))!==c)return f;else if(Fa)return Fa(a,b)},swap:function(a,b,e){var f={};for(var g in b){f[g]=a.style[g];a.style[g]=b[g]}e.call(a);for(g in b)a.style[g]=f[g]}});d.curCSS=d.css;d.each(["height","width"],function(a,b){d.cssHooks[b]={get:function(e,f,g){var h;if(f){if(e.offsetWidth!==0)return m(e,b,g);else d.swap(e,Zb,function(){h=m(e,b,g)});return h}},set:function(e,f){if(jb.test(f)){f=parseFloat(f);if(f>=0)return f+"px"}else return f}}});if(!d.support.opacity)d.cssHooks.opacity={get:function(a,
b){return Vb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var e=a.style;a=a.currentStyle;var f=d.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=a&&a.filter||e.filter||"";e.zoom=1;if(b>=1&&d.trim(g.replace(Ra,""))===""){e.removeAttribute("filter");if(a&&!a.filter)return}e.filter=Ra.test(g)?g.replace(Ra,f):g+" "+f}};d(function(){if(!d.support.reliableMarginRight)d.cssHooks.marginRight={get:function(a,b){var e;d.swap(a,{display:"inline-block"},
function(){e=b?Fa(a,"margin-right","marginRight"):a.style.marginRight});return e}}});if(I.defaultView&&I.defaultView.getComputedStyle)kb=function(a,b){var e,f,g;b=b.replace(Wb,"-$1").toLowerCase();if((f=a.ownerDocument.defaultView)&&(g=f.getComputedStyle(a,null))){e=g.getPropertyValue(b);if(e===""&&!d.contains(a.ownerDocument.documentElement,a))e=d.style(a,b)}return e};if(I.documentElement.currentStyle)lb=function(a,b){var e,f,g=a.currentStyle&&a.currentStyle[b],h=a.style;if(g===null&&h&&(e=h[b]))g=
e;if(!jb.test(g)&&Xb.test(g)){e=h.left;if(f=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;h.left=b==="fontSize"?"1em":g||0;g=h.pixelLeft+"px";h.left=e;if(f)a.runtimeStyle.left=f}return g===""?"auto":g};Fa=kb||lb;if(d.expr&&d.expr.filters){d.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!d.support.reliableHiddenOffsets&&(a.style&&a.style.display||d.css(a,"display"))==="none"};d.expr.filters.visible=function(a){return!d.expr.filters.hidden(a)}}var $b=
/%20/g,zb=/\[\]$/,mb=/\r?\n/g,ac=/#.*$/,bc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,cc=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,dc=/^(?:GET|HEAD)$/,ec=/^\/\//,nb=/\?/,fc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,gc=/^(?:select|textarea)/i,Va=/\s+/,hc=/([?&])_=[^&]*/,ob=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,pb=d.fn.load,Ma={},qb={},Da,Ea,rb=["*/"]+["*"];try{Da=ha.href}catch(nc){Da=I.createElement("a");Da.href="";
Da=Da.href}Ea=ob.exec(Da.toLowerCase())||[];d.fn.extend({load:function(a,b,e){if(typeof a!=="string"&&pb)return pb.apply(this,arguments);else if(!this.length)return this;var f=a.indexOf(" ");if(f>=0){var g=a.slice(f,a.length);a=a.slice(0,f)}f="GET";if(b)if(d.isFunction(b)){e=b;b=c}else if(typeof b==="object"){b=d.param(b,d.ajaxSettings.traditional);f="POST"}var h=this;d.ajax({url:a,type:f,dataType:"html",data:b,complete:function(l,n,o){o=l.responseText;if(l.isResolved()){l.done(function(u){o=u});
h.html(g?d("<div>").append(o.replace(fc,"")).find(g):o)}e&&h.each(e,[o,n,l])}});return this},serialize:function(){return d.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?d.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||gc.test(this.nodeName)||cc.test(this.type))}).map(function(a,b){a=d(this).val();return a==null?null:d.isArray(a)?d.map(a,function(e){return{name:b.name,value:e.replace(mb,"\r\n")}}):
{name:b.name,value:a.replace(mb,"\r\n")}}).get()}});d.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){d.fn[b]=function(e){return this.on(b,e)}});d.each(["get","post"],function(a,b){d[b]=function(e,f,g,h){if(d.isFunction(f)){h=h||g;g=f;f=c}return d.ajax({type:b,url:e,data:f,success:g,dataType:h})}});d.extend({getScript:function(a,b){return d.get(a,c,b,"script")},getJSON:function(a,b,e){return d.get(a,b,e,"json")},ajaxSetup:function(a,b){if(b)Q(a,d.ajaxSettings);
else{b=a;a=d.ajaxSettings}Q(a,b);return a},ajaxSettings:{url:Da,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(Ea[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":rb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":j.String,"text html":true,
"text json":d.parseJSON,"text xml":d.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:r(Ma),ajaxTransport:r(qb),ajax:function(a,b){function e(i,k,w,z){if(sa!==2){sa=2;qa&&clearTimeout(qa);da=c;R=z||"";fa.readyState=i>0?4:0;var C,K,S;z=k;w=w?y(f,fa,w):c;var V;if(i>=200&&i<300||i===304){if(f.ifModified){if(V=fa.getResponseHeader("Last-Modified"))d.lastModified[u]=V;if(V=fa.getResponseHeader("Etag"))d.etag[u]=V}if(i===304){z="notmodified";C=true}else try{K=t(f,w);z="success";C=true}catch(ka){z=
"parsererror";S=ka}}else{S=z;if(!z||i){z="error";if(i<0)i=0}}fa.status=i;fa.statusText=""+(k||z);C?l.resolveWith(g,[K,z,fa]):l.rejectWith(g,[fa,z,S]);fa.statusCode(o);o=c;if(ra)h.trigger("ajax"+(C?"Success":"Error"),[fa,f,C?K:S]);n.fireWith(g,[fa,z]);if(ra){h.trigger("ajaxComplete",[fa,f]);--d.active||d.event.trigger("ajaxStop")}}}if(typeof a==="object"){b=a;a=c}b=b||{};var f=d.ajaxSetup({},b),g=f.context||f,h=g!==f&&(g.nodeType||g instanceof d)?d(g):d.event,l=d.Deferred(),n=d.Callbacks("once memory"),
o=f.statusCode||{},u,M={},A={},R,L,da,qa,sa=0,ra,Ba,fa={readyState:0,setRequestHeader:function(i,k){if(!sa){var w=i.toLowerCase();i=A[w]=A[w]||i;M[i]=k}return this},getAllResponseHeaders:function(){return sa===2?R:null},getResponseHeader:function(i){var k;if(sa===2){if(!L)for(L={};k=bc.exec(R);)L[k[1].toLowerCase()]=k[2];k=L[i.toLowerCase()]}return k===c?null:k},overrideMimeType:function(i){if(!sa)f.mimeType=i;return this},abort:function(i){i=i||"abort";da&&da.abort(i);e(0,i);return this}};l.promise(fa);
fa.success=fa.done;fa.error=fa.fail;fa.complete=n.add;fa.statusCode=function(i){if(i){var k;if(sa<2)for(k in i)o[k]=[o[k],i[k]];else{k=i[fa.status];fa.then(k,k)}}return this};f.url=((a||f.url)+"").replace(ac,"").replace(ec,Ea[1]+"//");f.dataTypes=d.trim(f.dataType||"*").toLowerCase().split(Va);if(f.crossDomain==null){a=ob.exec(f.url.toLowerCase());f.crossDomain=!!(a&&(a[1]!=Ea[1]||a[2]!=Ea[2]||(a[3]||(a[1]==="http:"?80:443))!=(Ea[3]||(Ea[1]==="http:"?80:443))))}if(f.data&&f.processData&&typeof f.data!==
"string")f.data=d.param(f.data,f.traditional);B(Ma,f,b,fa);if(sa===2)return false;ra=f.global;f.type=f.type.toUpperCase();f.hasContent=!dc.test(f.type);ra&&d.active++===0&&d.event.trigger("ajaxStart");if(!f.hasContent){if(f.data){f.url+=(nb.test(f.url)?"&":"?")+f.data;delete f.data}u=f.url;if(f.cache===false){a=d.now();var Aa=f.url.replace(hc,"$1_="+a);f.url=Aa+(Aa===f.url?(nb.test(f.url)?"&":"?")+"_="+a:"")}}if(f.data&&f.hasContent&&f.contentType!==false||b.contentType)fa.setRequestHeader("Content-Type",
f.contentType);if(f.ifModified){u=u||f.url;d.lastModified[u]&&fa.setRequestHeader("If-Modified-Since",d.lastModified[u]);d.etag[u]&&fa.setRequestHeader("If-None-Match",d.etag[u])}fa.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+(f.dataTypes[0]!=="*"?", "+rb+"; q=0.01":""):f.accepts["*"]);for(Ba in f.headers)fa.setRequestHeader(Ba,f.headers[Ba]);if(f.beforeSend&&(f.beforeSend.call(g,fa,f)===false||sa===2)){fa.abort();return false}for(Ba in{success:1,
error:1,complete:1})fa[Ba](f[Ba]);if(da=B(qb,f,b,fa)){fa.readyState=1;ra&&h.trigger("ajaxSend",[fa,f]);if(f.async&&f.timeout>0)qa=setTimeout(function(){fa.abort("timeout")},f.timeout);try{sa=1;da.send(M,e)}catch(ya){if(sa<2)e(-1,ya);else throw ya;}}else e(-1,"No Transport");return fa},param:function(a,b){var e=[],f=function(h,l){l=d.isFunction(l)?l():l;e[e.length]=encodeURIComponent(h)+"="+encodeURIComponent(l)};if(b===c)b=d.ajaxSettings.traditional;if(d.isArray(a)||a.jquery&&!d.isPlainObject(a))d.each(a,
function(){f(this.name,this.value)});else for(var g in a)v(g,a[g],b,f);return e.join("&").replace($b,"+")}});d.extend({active:0,lastModified:{},etag:{}});var ic=d.now(),Ka=/(\=)\?(&|$)|\?\?/i;d.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return d.expando+"_"+ic++}});d.ajaxPrefilter("json jsonp",function(a,b,e){b=a.contentType==="application/x-www-form-urlencoded"&&typeof a.data==="string";if(a.dataTypes[0]==="jsonp"||a.jsonp!==false&&(Ka.test(a.url)||b&&Ka.test(a.data))){var f,g=a.jsonpCallback=
d.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,h=j[g],l=a.url,n=a.data,o="$1"+g+"$2";if(a.jsonp!==false){l=l.replace(Ka,o);if(a.url===l){if(b)n=n.replace(Ka,o);if(a.data===n)l+=(/\?/.test(l)?"&":"?")+a.jsonp+"="+g}}a.url=l;a.data=n;j[g]=function(u){f=[u]};e.always(function(){j[g]=h;f&&d.isFunction(h)&&j[g](f[0])});a.converters["script json"]=function(){f||d.error(g+" was not called");return f[0]};a.dataTypes[0]="json";return"script"}});d.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){d.globalEval(a);return a}}});d.ajaxPrefilter("script",function(a){if(a.cache===c)a.cache=false;if(a.crossDomain){a.type="GET";a.global=false}});d.ajaxTransport("script",function(a){if(a.crossDomain){var b,e=I.head||I.getElementsByTagName("head")[0]||I.documentElement;return{send:function(f,g){b=I.createElement("script");b.async="async";if(a.scriptCharset)b.charset=a.scriptCharset;b.src=a.url;b.onload=b.onreadystatechange=
function(h,l){if(l||!b.readyState||/loaded|complete/.test(b.readyState)){b.onload=b.onreadystatechange=null;e&&b.parentNode&&e.removeChild(b);b=c;l||g(200,"success")}};e.insertBefore(b,e.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var Sa=j.ActiveXObject?function(){for(var a in Ha)Ha[a](0,1)}:false,jc=0,Ha;d.ajaxSettings.xhr=j.ActiveXObject?function(){return!this.isLocal&&E()||U()}:E;(function(a){d.extend(d.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(d.ajaxSettings.xhr());d.support.ajax&&
d.ajaxTransport(function(a){if(!a.crossDomain||d.support.cors){var b;return{send:function(e,f){var g=a.xhr(),h,l;a.username?g.open(a.type,a.url,a.async,a.username,a.password):g.open(a.type,a.url,a.async);if(a.xhrFields)for(l in a.xhrFields)g[l]=a.xhrFields[l];a.mimeType&&g.overrideMimeType&&g.overrideMimeType(a.mimeType);if(!a.crossDomain&&!e["X-Requested-With"])e["X-Requested-With"]="XMLHttpRequest";try{for(l in e)g.setRequestHeader(l,e[l])}catch(n){}g.send(a.hasContent&&a.data||null);b=function(o,
u){var M,A,R,L,da;try{if(b&&(u||g.readyState===4)){b=c;if(h){g.onreadystatechange=d.noop;Sa&&delete Ha[h]}if(u)g.readyState!==4&&g.abort();else{M=g.status;R=g.getAllResponseHeaders();L={};if((da=g.responseXML)&&da.documentElement)L.xml=da;L.text=g.responseText;try{A=g.statusText}catch(qa){A=""}if(!M&&a.isLocal&&!a.crossDomain)M=L.text?200:404;else if(M===1223)M=204}}}catch(sa){u||f(-1,sa)}L&&f(M,A,L,R)};if(!a.async||g.readyState===4)b();else{h=++jc;if(Sa){if(!Ha){Ha={};d(j).unload(Sa)}Ha[h]=b}g.onreadystatechange=
b}},abort:function(){b&&b(0,1)}}}});var Na={},za,Ga,kc=/^(?:toggle|show|hide)$/,lc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,La,Wa=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Ia;d.fn.extend({show:function(a,b,e){if(a||a===0)return this.animate(aa("show",3),a,b,e);else{e=0;for(var f=this.length;e<f;e++){a=this[e];if(a.style){b=a.style.display;if(!d._data(a,"olddisplay")&&b==="none")b=a.style.display="";
b===""&&d.css(a,"display")==="none"&&d._data(a,"olddisplay",ja(a.nodeName))}}for(e=0;e<f;e++){a=this[e];if(a.style){b=a.style.display;if(b===""||b==="none")a.style.display=d._data(a,"olddisplay")||""}}return this}},hide:function(a,b,e){if(a||a===0)return this.animate(aa("hide",3),a,b,e);else{e=0;for(var f=this.length;e<f;e++){a=this[e];if(a.style){b=d.css(a,"display");b!=="none"&&!d._data(a,"olddisplay")&&d._data(a,"olddisplay",b)}}for(e=0;e<f;e++)if(this[e].style)this[e].style.display="none";return this}},
_toggle:d.fn.toggle,toggle:function(a,b,e){var f=typeof a==="boolean";if(d.isFunction(a)&&d.isFunction(b))this._toggle.apply(this,arguments);else a==null||f?this.each(function(){var g=f?a:d(this).is(":hidden");d(this)[g?"show":"hide"]()}):this.animate(aa("toggle",3),a,b,e);return this},fadeTo:function(a,b,e,f){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,e,f)},animate:function(a,b,e,f){function g(){h.queue===false&&d._mark(this);var l=d.extend({},h),n=this.nodeType===
1,o=n&&d(this).is(":hidden"),u,M,A,R,L;l.animatedProperties={};for(A in a){u=d.camelCase(A);if(A!==u){a[u]=a[A];delete a[A]}M=a[u];if(d.isArray(M)){l.animatedProperties[u]=M[1];M=a[u]=M[0]}else l.animatedProperties[u]=l.specialEasing&&l.specialEasing[u]||l.easing||"swing";if(M==="hide"&&o||M==="show"&&!o)return l.complete.call(this);if(n&&(u==="height"||u==="width")){l.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(d.css(this,"display")==="inline"&&d.css(this,"float")===
"none")if(!d.support.inlineBlockNeedsLayout||ja(this.nodeName)==="inline")this.style.display="inline-block";else this.style.zoom=1}}if(l.overflow!=null)this.style.overflow="hidden";for(A in a){n=new d.fx(this,l,A);M=a[A];if(kc.test(M))if(u=d._data(this,"toggle"+A)||(M==="toggle"?o?"show":"hide":0)){d._data(this,"toggle"+A,u==="show"?"hide":"show");n[u]()}else n[M]();else{u=lc.exec(M);R=n.cur();if(u){M=parseFloat(u[2]);L=u[3]||(d.cssNumber[A]?"":"px");if(L!=="px"){d.style(this,A,(M||1)+L);R=(M||1)/
n.cur()*R;d.style(this,A,R+L)}if(u[1])M=(u[1]==="-="?-1:1)*M+R;n.custom(R,M,L)}else n.custom(R,M,"")}}return true}var h=d.speed(b,e,f);if(d.isEmptyObject(a))return this.each(h.complete,[false]);a=d.extend({},a);return h.queue===false?this.each(g):this.queue(h.queue,g)},stop:function(a,b,e){if(typeof a!=="string"){e=b;b=a;a=c}if(b&&a!==false)this.queue(a||"fx",[]);return this.each(function(){function f(o,u,M){u=u[M];d.removeData(o,M,true);u.stop(e)}var g,h=false,l=d.timers,n=d._data(this);e||d._unmark(true,
this);if(a==null)for(g in n)n[g]&&n[g].stop&&g.indexOf(".run")===g.length-4&&f(this,n,g);else if(n[g=a+".run"]&&n[g].stop)f(this,n,g);for(g=l.length;g--;)if(l[g].elem===this&&(a==null||l[g].queue===a)){e?l[g](true):l[g].saveState();h=true;l.splice(g,1)}e&&h||d.dequeue(this,a)})}});d.each({slideDown:aa("show",1),slideUp:aa("hide",1),slideToggle:aa("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){d.fn[a]=function(e,f,g){return this.animate(b,
e,f,g)}});d.extend({speed:function(a,b,e){var f=a&&typeof a==="object"?d.extend({},a):{complete:e||!e&&b||d.isFunction(a)&&a,duration:a,easing:e&&b||b&&!d.isFunction(b)&&b};f.duration=d.fx.off?0:typeof f.duration==="number"?f.duration:f.duration in d.fx.speeds?d.fx.speeds[f.duration]:d.fx.speeds._default;if(f.queue==null||f.queue===true)f.queue="fx";f.old=f.complete;f.complete=function(g){d.isFunction(f.old)&&f.old.call(this);if(f.queue)d.dequeue(this,f.queue);else g!==false&&d._unmark(this)};return f},
easing:{linear:function(a,b,e,f){return e+f*a},swing:function(a,b,e,f){return(-Math.cos(a*Math.PI)/2+0.5)*f+e}},timers:[],fx:function(a,b,e){this.options=b;this.elem=a;this.prop=e;b.orig=b.orig||{}}});d.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(d.fx.step[this.prop]||d.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=d.css(this.elem,
this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,b,e){function f(l){return g.step(l)}var g=this,h=d.fx;this.startTime=Ia||ca();this.end=b;this.now=this.start=a;this.pos=this.state=0;this.unit=e||this.unit||(d.cssNumber[this.prop]?"":"px");f.queue=this.options.queue;f.elem=this.elem;f.saveState=function(){g.options.hide&&d._data(g.elem,"fxshow"+g.prop)===c&&d._data(g.elem,"fxshow"+g.prop,g.start)};if(f()&&d.timers.push(f)&&!La)La=setInterval(h.tick,h.interval)},show:function(){var a=
d._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||d.style(this.elem,this.prop);this.options.show=true;a!==c?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());d(this.elem).show()},hide:function(){this.options.orig[this.prop]=d._data(this.elem,"fxshow"+this.prop)||d.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a){var b,e=Ia||ca(),f=true,g=this.elem,h=this.options;if(a||e>=h.duration+this.startTime){this.now=
this.end;this.pos=this.state=1;this.update();h.animatedProperties[this.prop]=true;for(b in h.animatedProperties)if(h.animatedProperties[b]!==true)f=false;if(f){h.overflow!=null&&!d.support.shrinkWrapBlocks&&d.each(["","X","Y"],function(l,n){g.style["overflow"+n]=h.overflow[l]});h.hide&&d(g).hide();if(h.hide||h.show)for(b in h.animatedProperties){d.style(g,b,h.orig[b]);d.removeData(g,"fxshow"+b,true);d.removeData(g,"toggle"+b,true)}if(a=h.complete){h.complete=false;a.call(g)}}return false}else{if(h.duration==
Infinity)this.now=e;else{a=e-this.startTime;this.state=a/h.duration;this.pos=d.easing[h.animatedProperties[this.prop]](this.state,a,0,1,h.duration);this.now=this.start+(this.end-this.start)*this.pos}this.update()}return true}};d.extend(d.fx,{tick:function(){for(var a,b=d.timers,e=0;e<b.length;e++){a=b[e];!a()&&b[e]===a&&b.splice(e--,1)}b.length||d.fx.stop()},interval:13,stop:function(){clearInterval(La);La=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){d.style(a.elem,"opacity",
a.now)},_default:function(a){if(a.elem.style&&a.elem.style[a.prop]!=null)a.elem.style[a.prop]=a.now+a.unit;else a.elem[a.prop]=a.now}}});d.each(["width","height"],function(a,b){d.fx.step[b]=function(e){d.style(e.elem,b,Math.max(0,e.now)+e.unit)}});if(d.expr&&d.expr.filters)d.expr.filters.animated=function(a){return d.grep(d.timers,function(b){return a===b.elem}).length};var mc=/^t(?:able|d|h)$/i,sb=/^(?:body|html)$/i;d.fn.offset="getBoundingClientRect"in I.documentElement?function(a){var b=this[0],
e;if(a)return this.each(function(l){d.offset.setOffset(this,a,l)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return d.offset.bodyOffset(b);try{e=b.getBoundingClientRect()}catch(f){}var g=b.ownerDocument,h=g.documentElement;if(!e||!d.contains(h,b))return e?{top:e.top,left:e.left}:{top:0,left:0};b=g.body;g=ma(g);return{top:e.top+(g.pageYOffset||d.support.boxModel&&h.scrollTop||b.scrollTop)-(h.clientTop||b.clientTop||0),left:e.left+(g.pageXOffset||d.support.boxModel&&h.scrollLeft||
b.scrollLeft)-(h.clientLeft||b.clientLeft||0)}}:function(a){var b=this[0];if(a)return this.each(function(M){d.offset.setOffset(this,a,M)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return d.offset.bodyOffset(b);var e,f=b.offsetParent,g=b,h=b.ownerDocument,l=h.documentElement,n=h.body;e=(h=h.defaultView)?h.getComputedStyle(b,null):b.currentStyle;for(var o=b.offsetTop,u=b.offsetLeft;(b=b.parentNode)&&b!==n&&b!==l;){if(d.support.fixedPosition&&e.position==="fixed")break;e=h?h.getComputedStyle(b,
null):b.currentStyle;o-=b.scrollTop;u-=b.scrollLeft;if(b===f){o+=b.offsetTop;u+=b.offsetLeft;if(d.support.doesNotAddBorder&&!(d.support.doesAddBorderForTableAndCells&&mc.test(b.nodeName))){o+=parseFloat(e.borderTopWidth)||0;u+=parseFloat(e.borderLeftWidth)||0}g=f;f=b.offsetParent}if(d.support.subtractsBorderForOverflowNotVisible&&e.overflow!=="visible"){o+=parseFloat(e.borderTopWidth)||0;u+=parseFloat(e.borderLeftWidth)||0}e=e}if(e.position==="relative"||e.position==="static"){o+=n.offsetTop;u+=n.offsetLeft}if(d.support.fixedPosition&&
e.position==="fixed"){o+=Math.max(l.scrollTop,n.scrollTop);u+=Math.max(l.scrollLeft,n.scrollLeft)}return{top:o,left:u}};d.offset={bodyOffset:function(a){var b=a.offsetTop,e=a.offsetLeft;if(d.support.doesNotIncludeMarginInBodyOffset){b+=parseFloat(d.css(a,"marginTop"))||0;e+=parseFloat(d.css(a,"marginLeft"))||0}return{top:b,left:e}},setOffset:function(a,b,e){var f=d.css(a,"position");if(f==="static")a.style.position="relative";var g=d(a),h=g.offset(),l=d.css(a,"top"),n=d.css(a,"left"),o={},u={};if((f===
"absolute"||f==="fixed")&&d.inArray("auto",[l,n])>-1){u=g.position();f=u.top;n=u.left}else{f=parseFloat(l)||0;n=parseFloat(n)||0}if(d.isFunction(b))b=b.call(a,e,h);if(b.top!=null)o.top=b.top-h.top+f;if(b.left!=null)o.left=b.left-h.left+n;"using"in b?b.using.call(a,o):g.css(o)}};d.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),e=this.offset(),f=sb.test(b[0].nodeName)?{top:0,left:0}:b.offset();e.top-=parseFloat(d.css(a,"marginTop"))||0;e.left-=parseFloat(d.css(a,
"marginLeft"))||0;f.top+=parseFloat(d.css(b[0],"borderTopWidth"))||0;f.left+=parseFloat(d.css(b[0],"borderLeftWidth"))||0;return{top:e.top-f.top,left:e.left-f.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||I.body;a&&!sb.test(a.nodeName)&&d.css(a,"position")==="static";)a=a.offsetParent;return a})}});d.each(["Left","Top"],function(a,b){var e="scroll"+b;d.fn[e]=function(f){var g,h;if(f===c){g=this[0];if(!g)return null;return(h=ma(g))?"pageXOffset"in h?h[a?"pageYOffset":
"pageXOffset"]:d.support.boxModel&&h.document.documentElement[e]||h.document.body[e]:g[e]}return this.each(function(){if(h=ma(this))h.scrollTo(!a?f:d(h).scrollLeft(),a?f:d(h).scrollTop());else this[e]=f})}});d.each(["Height","Width"],function(a,b){var e=b.toLowerCase();d.fn["inner"+b]=function(){var f=this[0];return f?f.style?parseFloat(d.css(f,e,"padding")):this[e]():null};d.fn["outer"+b]=function(f){var g=this[0];return g?g.style?parseFloat(d.css(g,e,f?"margin":"border")):this[e]():null};d.fn[e]=
function(f){var g=this[0];if(!g)return f==null?null:this;if(d.isFunction(f))return this.each(function(n){var o=d(this);o[e](f.call(this,n,o[e]()))});if(d.isWindow(g)){var h=g.document.documentElement["client"+b],l=g.document.body;return g.document.compatMode==="CSS1Compat"&&h||l&&l["client"+b]||h}else if(g.nodeType===9)return Math.max(g.documentElement["client"+b],g.body["scroll"+b],g.documentElement["scroll"+b],g.body["offset"+b],g.documentElement["offset"+b]);else if(f===c){g=d.css(g,e);h=parseFloat(g);
return d.isNumeric(h)?h:g}else return this.css(e,typeof f==="string"?f:f+"px")}});j.jQuery=j.$=d;typeof define==="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return d})})(window);steal.loaded("jquery/jquery.js");steal("jquery");steal.loaded("jquery/event/event.js");
steal("jquery").then(function(j){var c=function(D){return D.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},q=j.makeArray,s=1,x=j.View=function(D,m,r,B){if(typeof r==="function"){B=r;r=undefined}var Q=W(m);if(Q.length){var v=j.Deferred();Q.push(J(D,true));j.when.apply(j,Q).then(function(t){var E=q(arguments),U=E.pop()[0];if(N(m))m=Z(t);else for(var ca in m)if(N(m[ca]))m[ca]=Z(E.shift());E=U(m,r);v.resolve(E);B&&B(E)});return v.promise()}else{var y;Q=typeof B==="function";v=J(D,Q);if(Q){y=v;v.done(function(t){B(t(m,
r))})}else v.done(function(t){y=t(m,r)});return y}},G=function(D,m){if(!D.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+m;},J=function(D,m){return j.ajax({url:D,dataType:"view",async:m})},N=function(D){return D&&j.isFunction(D.always)},W=function(D){var m=[];if(N(D))return[D];else for(var r in D)N(D[r])&&m.push(D[r]);return m},Z=function(D){return j.isArray(D)&&D.length===3&&D[1]==="success"?D[0]:D};j.ajaxTransport("view",function(D,m){var r=m.url;D=r.match(/\.[\w\d]+$/);
var B,Q,v,y,t=function(U){U=B.renderer(v,U);if(x.cache)x.cached[v]=U;return{view:U}};if(Q=document.getElementById(r))D="."+Q.type.match(/\/(x\-)?(.+)/)[2];if(!D){D=x.ext;r+=x.ext}v=c(r);if(r.match(/^\/\//)){var E=r.substr(2);r=typeof steal==="undefined"?(r="/"+E):steal.root.mapJoin(E)+""}B=x.types[D];return{send:function(U,ca){if(x.cached[v])return ca(200,"success",{view:x.cached[v]});else if(Q)ca(200,"success",t(Q.innerHTML));else y=j.ajax({async:m.async,url:r,dataType:"text",error:function(){G("",
r);ca(404)},success:function(O){G(O,r);ca(200,"success",t(O))}})},abort:function(){y&&y.abort()}}});j.extend(x,{hookups:{},hookup:function(D){var m=++s;x.hookups[m]=D;return m},cached:{},cache:true,register:function(D){this.types["."+D.suffix]=D;window.steal&&steal.type(D.suffix+" view js",function(m,r){var B=x.types["."+m.type],Q=c(m.rootSrc+"");m.text=B.script(Q,m.text);r()})},types:{},ext:".ejs",registerScript:function(D,m,r){return"$.View.preload('"+m+"',"+x.types["."+D].script(m,r)+");"},preload:function(D,
m){x.cached[D]=function(r,B){return m.call(r,r,B)}}});window.steal&&steal.type("view js",function(D,m){var r=x.types["."+D.type],B=c(D.rootSrc+"");D.text="steal('"+(r.plugin||"jquery/view/"+D.type)+"').then(function($){$.View.preload('"+B+"',"+D.text+");\n})";m()});var H,X,ba,Y,ea,na,la,ga={val:true,text:true};H=function(D){var m=j.fn[D];j.fn[D]=function(){var r=q(arguments),B,Q,v=this;if(N(r[0])){r[0].done(function(y){X.call(v,[y],m)});return this}else if(ba(r)){if(B=na(r)){Q=r[B];r[B]=function(y){X.call(v,
[y],m);Q.call(v,y)};x.apply(x,r);return this}r=x.apply(x,r);if(N(r)){r.done(function(y){X.call(v,[y],m)});return this}else r=[r]}return ga[D]?m.apply(this,r):X.call(this,r,m)}};X=function(D,m){var r;for(var B in x.hookups)break;if(B&&D[0]&&Y(D[0])){r=x.hookups;x.hookups={};D[0]=j(D[0])}m=m.apply(this,D);r&&la(D[0],r);return m};ba=function(D){var m=typeof D[1];return typeof D[0]=="string"&&(m=="object"||m=="function")&&!ea(D[1])};ea=function(D){return D.nodeType||D.jquery};Y=function(D){if(ea(D))return true;
else if(typeof D==="string"){D=j.trim(D);return D.substr(0,1)==="<"&&D.substr(D.length-1,1)===">"&&D.length>=3}else return false};na=function(D){return typeof D[3]==="function"?3:typeof D[2]==="function"&&2};la=function(D,m){var r,B=0,Q,v;D=D.filter(function(){return this.nodeType!=3});D=D.add("[data-view-id]",D);for(r=D.length;B<r;B++)if(D[B].getAttribute&&(Q=D[B].getAttribute("data-view-id"))&&(v=m[Q])){v(D[B],Q);delete m[Q];D[B].removeAttribute("data-view-id")}j.extend(x.hookups,m)};j.fn.hookup=
function(){var D=x.hookups;x.hookups={};la(this,D);return this};j.each(["prepend","append","after","before","text","html","replaceWith","val"],function(D,m){H(m)})});steal.loaded("jquery/view/view.js");steal("jquery/lang/string",function(j){j.String.rsplit=function(c,q){for(var s=q.exec(c),x=[],G;s!==null;){G=s.index;if(G!==0){x.push(c.substring(0,G));c=c.slice(G)}x.push(s[0]);c=c.slice(s[0].length);s=q.exec(c)}c!==""&&x.push(c);return x}});steal.loaded("jquery/lang/string/rsplit/rsplit.js");
steal("jquery",function(j){j.toJSON=function(s,x,G,J){if(typeof JSON=="object"&&JSON.stringify)return JSON.stringify(s,x,G);if(!J&&j.isFunction(x))s=x("",s);if(typeof G=="number")G="          ".substring(0,G);G=typeof G=="string"?G.substring(0,10):"";var N=typeof s;if(s===null)return"null";if(!(N=="undefined"||N=="function")){if(N=="number"||N=="boolean")return s+"";if(N=="string")return j.quoteString(s);if(N=="object"){if(typeof s.toJSON=="function")return j.toJSON(s.toJSON(),x,G,true);if(s.constructor===
Date){G=s.getUTCMonth()+1;if(G<10)G="0"+G;J=s.getUTCDate();if(J<10)J="0"+J;var W=s.getUTCFullYear(),Z=s.getUTCHours();if(Z<10)Z="0"+Z;var H=s.getUTCMinutes();if(H<10)H="0"+H;var X=s.getUTCSeconds();if(X<10)X="0"+X;s=s.getUTCMilliseconds();if(s<100)s="0"+s;if(s<10)s="0"+s;return'"'+W+"-"+G+"-"+J+"T"+Z+":"+H+":"+X+"."+s+'Z"'}J=j.isFunction(x)?function(ea,na){return x(ea,na)}:function(ea,na){return na};W=G?"\n":"";X=G?" ":"";if(s.constructor===Array){Z=[];for(H=0;H<s.length;H++)Z.push((j.toJSON(J(H,
s[H]),x,G,true)||"null").replace(/^/gm,G));return"["+W+Z.join(","+W)+W+"]"}var ba=[];if(j.isArray(x))Z=j.map(x,function(ea){return typeof ea=="string"||typeof ea=="number"?ea+"":null});for(H in s){var Y;N=typeof H;if(!(Z&&j.inArray(H+"",Z)==-1)){if(N=="number")N='"'+H+'"';else if(N=="string")N=j.quoteString(H);else continue;Y=j.toJSON(J(H,s[H]),x,G,true);typeof Y!="undefined"&&ba.push((N+":"+X+Y).replace(/^/gm,G))}}return"{"+W+ba.join(","+W)+W+"}"}}};j.evalJSON=function(s){if(typeof JSON=="object"&&
JSON.parse)return JSON.parse(s);return eval("("+s+")")};j.secureEvalJSON=function(s){if(typeof JSON=="object"&&JSON.parse)return JSON.parse(s);var x=s;x=x.replace(/\\["\\\/bfnrtu]/g,"@");x=x.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]");x=x.replace(/(?:^|:|,)(?:\s*\[)+/g,"");if(/^[\],:{}\s]*$/.test(x))return eval("("+s+")");else throw new SyntaxError("Error parsing JSON, source is not valid.");};j.quoteString=function(s){if(s.match(c))return'"'+s.replace(c,function(x){var G=
q[x];if(typeof G==="string")return G;G=x.charCodeAt();return"\\u00"+Math.floor(G/16).toString(16)+(G%16).toString(16)})+'"';return'"'+s+'"'};var c=/["\\\x00-\x1f\x7f-\x9f]/g,q={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}});steal.loaded("jquery/lang/json/json.js");
steal("jquery/dom").then(function(j){var c=/radio|checkbox/i,q=/[^\[\]]+/g,s=/^[\-+]?[0-9]*\.?[0-9]+([eE][\-+]?[0-9]+)?$/,x=function(G){if(typeof G=="number")return true;if(typeof G!="string")return false;return G.match(s)};j.fn.extend({formParams:function(G){if(this[0].nodeName.toLowerCase()=="form"&&this[0].elements)return jQuery(jQuery.makeArray(this[0].elements)).getParams(G);return jQuery("input[name], textarea[name], select[name]",this[0]).getParams(G)},getParams:function(G){var J={},N;G=G===
undefined?false:G;this.each(function(){var W=this,Z=W.type&&W.type.toLowerCase();if(!(Z=="submit"||!W.name)){var H=W.name,X=j.data(W,"value")||j.fn.val.call([W]),ba=c.test(W.type);H=H.match(q);W=!ba||!!W.checked;if(G){if(x(X))X=parseFloat(X);else if(X==="true")X=true;else if(X==="false")X=false;if(X==="")X=undefined}N=J;for(ba=0;ba<H.length-1;ba++){N[H[ba]]||(N[H[ba]]={});N=N[H[ba]]}H=H[H.length-1];if(H in N&&Z==="checkbox"){j.isArray(N[H])||(N[H]=N[H]===undefined?[]:[N[H]]);W&&N[H].push(X)}else if(W||
!N[H])N[H]=W?X:undefined}});return J}})});steal.loaded("jquery/dom/form_params/form_params.js");steal("jquery");steal.loaded("jquery/dom/dom.js");
steal("jquery/view/ejs").then(function(j){j.View.preload("common_register_customer_views_customerForm_ejs",jQuery.EJS(function(c,q){try{with(q)with(c){c=[];var s=this.deliveryLocations;c.push("\n");var x=this.customer;c.push("\n");var G=x.defaultDeliveryLocation;c.push("\n");c.push("\n");c.push("\n");c.push("\n");c.push("\n");c.push("\n");c.push("\n");c.push("\n");c.push('<form id="customerForm" class="input-form" action="javascript:">\n');c.push("\n");c.push('\t<div class="input-form-row">\n');c.push('\t\t<label for="');
c.push(jQuery.EJS.clean("reg_firstName"));c.push('">');c.push(jQuery.EJS.clean(msg("customer.registration.firstName")));c.push(":</label>\n");c.push('\t\t<input type="text" name="firstName" id="');c.push(jQuery.EJS.clean("reg_firstName"));c.push('" value="');c.push(jQuery.EJS.clean(x.firstName));c.push('"/>\n');c.push("\t</div>\n");c.push("\n");c.push('\t<div class="input-form-row">\n');c.push('\t\t<label for="');c.push(jQuery.EJS.clean("reg_lastName"));c.push('">');c.push(jQuery.EJS.clean(msg("customer.registration.lastName")));
c.push(":</label>\n");c.push('\t\t<input type="text" name="lastName" id="');c.push(jQuery.EJS.clean("reg_lastName"));c.push('" value="');c.push(jQuery.EJS.clean(x.lastName));c.push('"/>\n');c.push("\t</div>\n");c.push("\n");c.push('\t<div class="input-form-row">\n');c.push('\t\t<label for="');c.push(jQuery.EJS.clean("reg_email"));c.push('">');c.push(jQuery.EJS.clean(msg("customer.registration.email")));c.push(":</label>\n");c.push('\t\t<input type="text" name="email" id="');c.push(jQuery.EJS.clean("reg_email"));
c.push('" value="');c.push(jQuery.EJS.clean(x.email));c.push('"/>\n');c.push("\t</div>\n");c.push("\n");c.push('\t<div class="input-form-row">\n');c.push('\t\t<label for="');c.push(jQuery.EJS.clean("reg_ddl"));c.push('">');c.push(jQuery.EJS.clean(msg("customer.registration.ddl")));c.push(":</label>\n");c.push("\t\n");c.push('\t\t<select name="defaultDeliveryLocationId" id="');c.push(jQuery.EJS.clean("reg_ddl"));c.push('">\n');c.push('\t\t\t<option value="-1"></option> \n');c.push("\t\t");for(q=0;q<
s.length;q++){c.push("\n");c.push('\t\t\t<option value="');c.push(jQuery.EJS.clean(s[q].id));c.push('" ');c.push(jQuery.EJS.clean(G&&s[q].id==G.id?"selected='selected'":""));c.push(">\n");c.push("\t\t\t\t");c.push(jQuery.EJS.clean(s[q].name));c.push("\n");c.push("\t\t\t</option>\n");c.push("\t\t")}c.push("\n");c.push("\t\t</select>\n");c.push("\t</div>\n");c.push('\t<div class="input-form-row">\n');c.push('\t\t<label for="');c.push(jQuery.EJS.clean("reg_subscribeMenuWeekly"));c.push('">');c.push(jQuery.EJS.clean(msg("customer.registration.subscribeMenuWeekly")));
c.push(":</label>\n");c.push('\t\t<input type="checkbox" name="subscribe" id="');c.push(jQuery.EJS.clean("reg_subscribeMenuWeekly"));c.push('" ');c.push(jQuery.EJS.clean(x.isSubscribedMenuWeekly?"checked='checked'":""));c.push("/>\n");c.push("\t</div>\n");c.push('\t<div class="input-form-row">\n');c.push('\t\t<label for="');c.push(jQuery.EJS.clean("reg_subscribeNews"));c.push('" \n');c.push('\t\t\ttitle="');c.push(jQuery.EJS.clean(msg("customer.registration.subscribeNews.title")));c.push('">');c.push(jQuery.EJS.clean(msg("customer.registration.subscribeNews")));
c.push(":</label>\n");c.push('\t\t<input type="checkbox" name="subscribe" id="');c.push(jQuery.EJS.clean("reg_subscribeNews"));c.push('" ');c.push(jQuery.EJS.clean(x.isSubscribedNews?"checked='checked'":""));c.push("/>\n");c.push("\t</div>\n");c.push("\n");c.push('\t<div class="input-form-buttons-row">\n');c.push('\t\t<input type="button" id="submitButton" value="');c.push(jQuery.EJS.clean(msg("customer.registration.done")));c.push('"/>\n');c.push("\t</div>\n");c.push("</form>\n");return c.join("")}}catch(J){J.lineNumber=
null;throw J;}}))});steal.loaded("common/register_customer/views/customerForm.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_menu_list_views_list_ejs",jQuery.EJS(function(c,q){try{with(q)with(c){c=[];var s=Shop.Main.getToken();c.push("\n");c.push("\n");c.push('<div id="menuDiv">\n');c.push('\t<table id="menuTable">\n');c.push('\t\t<tr class="headerRow">\n');c.push('\t\t\t<td class="codeCell"></td>\n');c.push('\t\t\t<td class="articleCell"></td>\n');c.push('\t\t\t<td class="priceCell"></td>\t\n');c.push("\t\t</tr>\n");c.push("\t");for(q=0;q<this.length;q++){c.push("\n");
c.push("\t\t");var x=this[q].entity;c.push("\n");c.push("\t\t");var G=this[q].items;c.push("\n");c.push("\t\t<tr>\n");c.push('\t\t\t<td colspan="3" class="categoryCell">\n');c.push("\t\t\t\t");c.push(jQuery.EJS.clean(localize(x,"name")));c.push("\n");c.push("\t\t\t</td>\n");c.push("\t\t</tr>\n");c.push("\t\t");for(var J=0;J<G.length;J++){c.push("\n");c.push("\t\t\t");var N=G[J],W=N.isSoldOut,Z=N.isNew;c.push("\n");c.push('\t\t\t<tr class="articleRow">\n');c.push('\t\t\t\t<td class="codeCell">\n');
c.push("\t\t\t\t\t");c.push(jQuery.EJS.clean(N.code));c.push("\n");c.push("\t\t\t\t</td>\n");c.push('\t\t\t\t<td class="articleCell">\n');c.push('\t\t\t\t\t<div class="meal-header">\n');c.push('\t\t\t\t\t\t<a class="meal ');c.push(jQuery.EJS.clean(W?"meal-sold-out":""));c.push('" href="#view=order&meal=');c.push(jQuery.EJS.clean(N.id));c.push(jQuery.EJS.clean(s?"&token="+s:""));c.push('">');c.push(jQuery.EJS.clean(localize(N,"name")));c.push("</a>\n");c.push("\t\t\t\t\t\t");if(W){c.push(" \n");c.push('\t\t\t\t\t\t\t<span class="meal-sold-out-label">(');
c.push(jQuery.EJS.clean(msg("menu.article.soldOut.label")));c.push(")</span> \n");c.push("\t\t\t\t\t\t")}c.push("\n");c.push("\t\t\t\t\t\t");if(Z){c.push(" \n");c.push('\t\t\t\t\t\t\t<span class="meal-new-label">');c.push(jQuery.EJS.clean(msg("menu.article.new.label")));c.push("</span> \n");c.push("\t\t\t\t\t\t")}c.push("\n");c.push("\t\t\t\t\t</div>\n");c.push('\t\t\t\t\t<div class="meal-description">\n');c.push("\t\t\t\t\t\t");c.push(jQuery.EJS.clean(localize(N,"description")));c.push("\n");c.push('\t\t\t\t\t\t<span class="meal-padding">. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . </span>\n');
c.push("\t\t\t\t\t</div>\n");c.push("\t\t\t\t</td>\n");c.push('\t\t\t\t<td class="priceCell">\n');c.push("\t\t\t\t\t&nbsp;<br>\n");c.push("\t\t\t\t\t");c.push(jQuery.EJS.clean(N.price));c.push(",- K\u010d\n");c.push("\t\t\t\t</td>\n");c.push("\t\t\t</tr>\n");c.push("\t\t")}c.push("\n");c.push("\t\t\n");c.push("\t")}c.push("\n");c.push("\t</table>\n");c.push("</div>\n");return c.join("")}}catch(H){H.lineNumber=null;throw H;}}))});steal.loaded("shop/menu/list/views/list.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_menu_list_views_restaurantMenu_ejs",jQuery.EJS(function(c,q){try{with(q)with(c){c=[];Shop.Main.getToken();c.push("\n");c.push("\n");c.push('<div id="menuDiv">\n');c.push('\t<div id="menuHeader">\n');c.push("\t\tLunch4you - Menu\n");c.push("\t</div>\n");c.push('\t<table id="menuTable">\n');c.push('\t\t<tr class="headerRow">\n');c.push('\t\t\t<td class="newFlagCell"></td>\n');c.push('\t\t\t<td class="codeCell"></td>\n');c.push('\t\t\t<td class="articleCell"></td>\n');
c.push('\t\t\t<td class="priceCell"></td>\t\n');c.push("\t\t</tr>\n");c.push("\t");for(q=0;q<this.length;q++){c.push("\n");c.push("\t\t");var s=this[q].entity;c.push("\n");c.push("\t\t");var x=this[q].items;c.push("\n");c.push("\t\t<tr>\n");c.push('\t\t\t<td class="newFlagCell"></td>\n');c.push('\t\t\t<td colspan="3" class="categoryCell">\n');c.push("\t\t\t\t");c.push(jQuery.EJS.clean(localize(s,"name")));c.push("\n");c.push("\t\t\t</td>\n");c.push("\t\t</tr>\n");c.push("\t\t");for(var G=0;G<x.length;G++){c.push("\n");
c.push("\t\t\t");var J=x[G],N=J.isNew;c.push("\n");c.push('\t\t\t<tr class="articleRow">\n');c.push('\t\t\t\t<td class="newFlagCell">\n');c.push("\t\t\t\t\t");if(N){c.push(" \n");c.push('\t\t\t\t\t\t\t<span class="meal-new-label">');c.push(jQuery.EJS.clean(msg("menu.article.new.label")));c.push("</span> \n");c.push("\t\t\t\t\t")}c.push("\n");c.push("\t\t\t\t</td>\n");c.push('\t\t\t\t<td class="codeCell">\n');c.push("\t\t\t\t\t");c.push(jQuery.EJS.clean(J.code));c.push("\n");c.push("\t\t\t\t</td>\n");
c.push('\t\t\t\t<td class="articleCell">\n');c.push('\t\t\t\t\t<span class="meal-header">\n');c.push("\t\t\t\t\t\t");c.push(jQuery.EJS.clean(localize(J,"name")));c.push("\t\t\t\t\t\t\n");c.push("\t\t\t\t\t</span>\n");c.push("\t\t\t\t\t<br>\n");c.push('\t\t\t\t\t<div class="articleDiv">\n');c.push('\t\t\t\t\t<span class="meal-description">\n');c.push("\t\t\t\t\t\t(");c.push(jQuery.EJS.clean(localize(J,"description")));c.push(")\n");c.push("\t\t\t\t\t\t. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . \n");
c.push("\t\t\t\t\t</span>\n");c.push("\t\t\t\t\t</div>\n");c.push("\t\t\t\t</td>\n");c.push('\t\t\t\t<td class="priceCell">\n');c.push("\t\t\t\t\t");c.push(jQuery.EJS.clean(J.price));c.push(",- K\u010d\n");c.push("\t\t\t\t</td>\n");c.push("\t\t\t</tr>\n");c.push("\t\t")}c.push("\n");c.push("\t\t\n");c.push("\t")}c.push("\n");c.push("\t</table>\n");c.push('\t<div id="menuFooter">\n');c.push('\t\t<hr style="width : 80%; border-color : lightgray;"/>\n');c.push("\t\tweb: www.lunch4you.cz | email: lunch4you.cz@gmail.com | tel: +420 774 096 313\n");
c.push("\t</div>\n");c.push("</div>\n");return c.join("")}}catch(W){W.lineNumber=null;throw W;}}))});steal.loaded("shop/menu/list/views/restaurantMenu.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_order_new_views_orderForm_ejs",jQuery.EJS(function(c,q){try{with(q)with(c){c=[];var s=this.article;c.push("\n");var x=this.customer;c.push("\n");var G=this.deliveryLocation;c.push("\n");var J=this.deliveryLocations;c.push("\n");c.push("\n");if(x){c.push("\n");c.push('<form id="orderForm" class="input-form" action="javascript:">\n');c.push("\t\n");c.push('\t<div class="input-form-row">\n');c.push("\t\t<label>");c.push(jQuery.EJS.clean(msg("order.detail.article")));
c.push(":</label> \n");c.push('\t\t<div id="articleName">');c.push(jQuery.EJS.clean(localize(s,"name")));c.push("</div>\n");c.push("\t</div>\n");c.push("\n");c.push('\t<div class="input-form-row">\n');c.push("\t\t<label>&nbsp;</label> \n");c.push('\t\t<div id="articleDescription">');c.push(jQuery.EJS.clean(localize(s,"description")));c.push("</div>\n");c.push("\t</div>\n");c.push("\t\n");c.push('\t<div class="input-form-row">\n');c.push("\t\t<label>");c.push(jQuery.EJS.clean(msg("order.detail.price")));
c.push(":</label>\n");c.push("\t\t");c.push(jQuery.EJS.clean(s.price));c.push(",- CZK\n");c.push("\t</div>\n");c.push("\n");c.push('\t<div class="input-form-row">\n');c.push("\t\t<label>");c.push(jQuery.EJS.clean(msg("order.detail.customer")));c.push(":</label>\n");c.push("\t\t\t");c.push(jQuery.EJS.clean(x.firstName));c.push(" ");c.push(jQuery.EJS.clean(x.lastName));c.push("\n");c.push("\t</div>\n");c.push('\t<div class="input-form-row">\n');c.push("\t\t<label>");c.push(jQuery.EJS.clean(msg("order.detail.deliveryLocation")));
c.push(":</label>\n");c.push('\t\t<select id="deliveryLocationsSelect">\n');c.push('\t\t\t<option value="-1"></option> \n');c.push("\t\t");for(s=0;s<J.length;s++){c.push("\n");c.push('\t\t\t<option value="');c.push(jQuery.EJS.clean(J[s].id));c.push('" \n');c.push("\t\t\t\t");c.push(jQuery.EJS.clean(G&&G.id==J[s].id?"selected":""));c.push(" >");c.push(jQuery.EJS.clean(J[s].name));c.push("</option>\n");c.push("\t\t")}c.push("\n");c.push("\t\t</select>\n");c.push('\t\t<div id="setDdlDiv" style="display : none;">\n');
c.push('\t\t\t<input id="setDefaultDeliveryLocation" type="checkbox">\n');c.push("\t\t\t");c.push(jQuery.EJS.clean(msg("order.detail.setDefaultDeliveryLocation")));c.push("\n");c.push("\t\t</div>\n");c.push("\t</div>\n");c.push("\n");c.push('\t<div class="input-form-row">\n');c.push("\t\t<label>");c.push(jQuery.EJS.clean(msg("order.detail.note")));c.push(":</label> \n");c.push('\t\t<textarea id="note"></textarea>\n');c.push("\t</div>\n");c.push("\n");c.push('\t<div class="input-form-buttons-row">\n');
c.push('\t\t<input id="submitButton" type="button" value="');c.push(jQuery.EJS.clean(msg("order.detail.action.order")));c.push('" />\n');c.push("\t</div>\n");c.push("\n");c.push("</form>\n")}else{c.push("\n");c.push('\t<span class="modifiable">\n');c.push("\t\t");c.push(jQuery.EJS.clean(msg("order.detail.user.anonymous")));c.push("\n");c.push("\t</span>\n");c.push("\t<p>");c.push(jQuery.EJS.clean(msg("order.detail.user.anonymous.message")));c.push("</p>\n")}c.push("\n");c.push("\n");return c.join("")}}catch(N){N.lineNumber=
null;throw N;}}))});steal.loaded("shop/order/new/views/orderForm.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_order_new_views_orderMessage_ejs",jQuery.EJS(function(c,q){try{with(q)with(c){c=[];var s=this.orderResult;c.push("\n");var x=Shop.Main.getToken();c.push("\n");c.push("\n");c.push('<div class="general-message-dialogue">\n');c.push("\t");c.push(jQuery.EJS.clean(msg("order.detail.action.orderedMsg_"+s.resultCode)));c.push("\n");c.push("</div>\n");c.push("\n");c.push('<p><a href="#view=menu');c.push(jQuery.EJS.clean(x?"&token="+x:""));c.push('">');
c.push(jQuery.EJS.clean(msg("order.detail.viewMenu")));c.push("</a></p>\n");return c.join("")}}catch(G){G.lineNumber=null;throw G;}}))});steal.loaded("shop/order/new/views/orderMessage.ejs");steal("jquery/view/ejs").then(function(j){j.View.preload("shop_home_views_home_ejs",jQuery.EJS(function(c,q){try{with(q)with(c){c=[];c.push("\n");c.push("\tHome\n");return c.join("")}}catch(s){s.lineNumber=null;throw s;}}))});steal.loaded("shop/home/views/home.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_contacts_views_contacts_ejs",jQuery.EJS(function(c,q){try{with(q)with(c){c=[];c.push("\n");c.push('<table id="contacts" style="font-family : Helvetica CE">\n');c.push("\t<tr>\n");c.push('\t\t<td id="contacts-left">\n');c.push("\t\t\t<h2>Lunch4you s.r.o.</h2>\n");c.push("\t\t\t<br>\n");c.push("\t\t\t<h3>");c.push(jQuery.EJS.clean(msg("contacts.header.deliveryService")));c.push(":</h3>\t\n");c.push("\t\t\tRoztylsk\u00e1 2232/17 <br>\n");
c.push("\t\t\t14900 Praha 11 - Chodov <br>\n");c.push("\t\t\ttel: +420 774 096 313 <br>\n");c.push('\t\t\temail: <a href="mailto:lunch4you.cz@gmail.com">lunch4you.cz@gmail.com</a><br>\n');c.push("\t\t\n");c.push("\t\t\t<br>\n");c.push("\t\t\t<h3>");c.push(jQuery.EJS.clean(msg("contacts.header.restaurant")));c.push(":</h3>\t\n");c.push("\t\t\tOC R\u016f\u017ee\n");c.push("\t\t\tRoztylsk\u00e1 2232/17<br>\n");c.push("\t\t\t148 00 Praha 4 - Chodov <br>\n");c.push("\t\t\t<br>\n");c.push("\t\t\tVstup do restaurace / kav\u00e1rny na rohu OC R\u016f\u017ee (mezi st\u00e1nky Gyros a Pizza UNO) <br>\n");
c.push("\t\t\t\n");c.push("\t\t</td>\n");c.push('\t\t<td id="contacts-right">\n');c.push('\t\t\t<img style="display:block;" src="OC_Ruze.jpg" alt="OC Ruze"></img>\n');c.push('\t\t\t<!--img style="display:block;" src="map_OC_Ruze.jpg" alt="OC Ruze"></img--\>\n');c.push("\t\t\t<br>\n");c.push('\t\t\t<!--iframe frameBorder="0" style="border:none" width="308" height="190" src="http://api4.mapy.cz/frame?w=308&amp;h=190&amp;x=14.491158201893061&amp;y=50.03060013573989&amp;z=15&amp;o=0&amp;url=http://www.mapy.cz/s/66Pb&amp;mini=1&amp;layer=1&amp;dx=14.491158201893061&amp;dy=50.03060013573989&amp;dt=\u010dtvr\u0165 Praha 4, Praha, okres Hlavn\u00ed m\u011bsto Praha" target="New Window"></iframe--\>\n');
c.push('\t\t\t<a href="http://www.mapy.cz/s/66Pb"><img src="http://www.mapy.cz/img/sharing-link-icon.png" width="88" height="31" border="0" alt="Najdete n\u00e1s na mapy.cz"></a>\n');c.push("\t\t</td>\n");c.push("\t</tr>\n");c.push("</div>\n");c.push("\n");c.push("\n");return c.join("")}}catch(s){s.lineNumber=null;throw s;}}))});steal.loaded("shop/contacts/views/contacts.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_ordering_views_ordering_ejs",jQuery.EJS(function(c,q){try{with(q)with(c){c=[];c.push("\n");c.push("\tOrdering\n");return c.join("")}}catch(s){s.lineNumber=null;throw s;}}))});steal.loaded("shop/ordering/views/ordering.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_referral_new_views_referralDetail_ejs",jQuery.EJS(function(c,q){try{with(q)with(c){c=[];var s=this.customer;c.push("\n");c.push("\n");if(s){c.push("\n");c.push('<form id="referralForm" class="input-form" action="javascript:">\n');c.push('\t<div class="input-form-row">\n');c.push("\t\t<label>");c.push(jQuery.EJS.clean(msg("referral.detail.sender")));c.push(":</label>\n");c.push('\t\t<div id="currentCustomerDetails">\n');c.push('\t\t\t<span class="">');
c.push(jQuery.EJS.clean(s.firstName));c.push(" ");c.push(jQuery.EJS.clean(s.lastName));c.push("</span>\n");c.push("\t\t</div>\n");c.push("\t\t\n");c.push("\t</div>\n");c.push("\n");c.push('\t<div class="input-form-row">\n');c.push("\t\t<label>");c.push(jQuery.EJS.clean(msg("referral.detail.recipientEmails")));c.push(":<br><br>\n");c.push("\t\t<span>(");c.push(jQuery.EJS.clean(msg("referral.detail.recipientEmails_multiple")));c.push(")</span></label> \n");c.push('\t\t<textarea id="recipientEmail" type="text"></textarea>\n');
c.push("\t</div>\n");c.push("\n");c.push('\t<div class="input-form-row">\n');c.push("\t\t<label>");c.push(jQuery.EJS.clean(msg("referral.detail.referralMessage")));c.push(":</label> \n");c.push('\t\t<textarea id="referralMessage"></textarea>\n');c.push("\t</div>\n");c.push("\n");c.push('\t<div class="input-form-buttons-row">\n');c.push('\t\t<input id="submitButton" type="button" value="');c.push(jQuery.EJS.clean(msg("referral.detail.action.recommend")));c.push('" />\n');c.push("\t</div>\n");c.push("</form>\n")}else{c.push("\n");
c.push("\t<p>");c.push(jQuery.EJS.clean(msg("referral.detail.user.anonymous.message")));c.push("</p>\n")}c.push("\n");c.push("\t\n");return c.join("")}}catch(x){x.lineNumber=null;throw x;}}))});steal.loaded("shop/referral/new/views/referralDetail.ejs");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_profile_edit_views_edit_ejs",jQuery.EJS(function(c,q){try{with(q)with(c){c=[];var s=this.customer;c.push("\n");c.push("\n");c.push('<div class="customer-box">\n');if(s){c.push("\n");c.push('\t<div id="profile-edit"></div>\n')}else{c.push("\n");c.push("\t<p>");c.push(jQuery.EJS.clean(msg("profile.edit.user.anonymous.message")));c.push("</p>\n")}c.push("\n");c.push("</div>\n");return c.join("")}}catch(x){x.lineNumber=null;throw x;}}))});
steal.loaded("shop/profile/edit/views/edit.ejs");steal("jquery/view/ejs").then(function(j){j.View.preload("shop_profile_edit_views_updateConfirmation_ejs",jQuery.EJS(function(c,q){try{with(q)with(c){c=[];c.push("\n");c.push("\n");c.push('<div class="general-message-dialogue">\n');c.push("\t");c.push(jQuery.EJS.clean(msg("customer.registration.updateSuccess.msg")));c.push("\n");c.push("</div>");return c.join("")}}catch(s){s.lineNumber=null;throw s;}}))});steal.loaded("shop/profile/edit/views/updateConfirmation.ejs");
steal("jquery/model","jquery/lang/json",function(){$.Model("Shop.Models.Article",{findAll:function(j,c){return $.ajax({url:"articles/find.json",dataType:"json article.models",success:j,error:c||Shop.errorHandler})},getGroupedMenu:function(j,c,q,s){return $.ajax({url:"articles/groupedByCategory.json?activeDelivery="+j+"&activeRestaurant="+c,dataType:"json article.models",success:q,error:s||Shop.errorHandler})},findOne:function(j,c,q){return $.ajax({url:"articles/"+j+".json",dataType:"json article.model",
success:c,error:q||Shop.errorHandler})}},{})});steal.loaded("shop/models/article.js");
steal("jquery/model","jquery/lang/json",function(){$.Model("Shop.Models.Order",{create:function(j,c,q,s,x,G,J){return $.ajax({url:"orders.json",type:"POST",contentType:"application/json",data:$.toJSON({articleId:j.id,customerId:c.id,deliveryLocationId:q,setDefaultDeliveryLocation:s,note:x}),dataType:"json order.model",success:G,error:J||Shop.errorHandler})}},{getTotal:function(){return this.onlyItem.article.price*this.onlyItem.amount}})});steal.loaded("shop/models/order.js");
steal("jquery/model","jquery/lang/json",function(){$.Model("Shop.Models.Customer",{findByToken:function(j,c,q){return $.ajax({url:"customers/byToken/"+j+".json",dataType:"json customer.model",success:c,error:q||Shop.errorHandler})},getCurrent:function(j,c){return $.ajax({url:"shop/currentCustomer.json",dataType:"json customer.model",success:j,error:c||Shop.errorHandler})},create:function(j,c,q){return $.ajax({url:"customers.json",type:"POST",contentType:"application/json",data:$.toJSON(j),dataType:"json customer.model",
success:c,error:q||Shop.errorHandler})},updateProfile:function(j,c,q,s){return $.ajax({url:"customers/updateProfile.json",type:"POST",contentType:"application/json",data:$.toJSON({customer:j,defaultDeliveryLocationId:c}),dataType:"json customer.model",success:q,error:s||Shop.errorHandler})},createReferral:function(j,c,q,s,x){return $.ajax({url:"customers/createReferral.json",type:"POST",contentType:"application/json",data:$.toJSON({senderId:j.id,recipientEmails:c,referralMessage:q}),dataType:"json customer.model",
success:s,error:x||Shop.errorHandler})}},{})});steal.loaded("shop/models/customer.js");steal("jquery/model","jquery/lang/json",function(){$.Model("Shop.Models.DeliveryLocation",{findAll:function(j,c){return $.ajax({url:"deliveryLocations/find.json",dataType:"json",success:j,error:c||Shop.errorHandler})},findOne:function(j,c,q){return $.ajax({url:"deliveryLocations/"+j+".json",dataType:"json article.model",success:c,error:q||Shop.errorHandler})}},{})});steal.loaded("shop/models/deliveryLocation.js");
steal("jquery/model","jquery/lang/json",function(){$.Model("Shop.Models.Dictionary",{loadDictionary:function(j,c){return $.ajax({url:"shop/i18n/"+j+".txt",dataType:"json",success:c,error:function(){alert("Error loading localization data for locale '"+j+"'")}})}},{})});steal.loaded("shop/models/dictionary.js");
steal("jquery/model","jquery/lang/json",function(){$.Model("Shop.Models.Category",{findAll:function(j,c){return $.ajax({url:"categories/find.json",dataType:"json category.models",success:j,error:c||Shop.errorHandler})}},{})});steal.loaded("shop/models/category.js");
steal("jquery/class","jquery/lang/string",function(){var j=$.String,c=j.getObject,q=j.underscore,s=j.classize,x=$.isArray,G=$.makeArray,J=$.extend,N=$.each,W=function(m,r,B){$.event.trigger(r,B,m,true)},Z=function(m,r,B,Q,v,y,t){if(typeof m=="string"){var E=m.indexOf(" ");m=E>-1?{url:m.substr(E+1),type:m.substr(0,E)}:{url:m}}m.data=typeof r=="object"&&!x(r)?J(m.data||{},r):r;m.url=j.sub(m.url,m.data,true);return $.ajax(J({type:y||"post",dataType:t||"json",fixture:v,success:B,error:Q},m))},H=function(m,
r,B){var Q=q(m.shortName),v="-"+Q+(r||"");return $.fixture&&$.fixture[v]?v:B||"//"+q(m.fullName).replace(/\.models\..*/,"").replace(/\./g,"/")+"/fixtures/"+Q+(r||"")+".json"},X=function(m,r,B){r=r||{};m=m.id;if(r[m]&&r[m]!==B){r["new"+j.capitalize(B)]=r[m];delete r[m]}r[m]=B;return r},ba=function(m){return new (m||$.Model.List||Array)},Y=function(m){return m[m.constructor.id]},ea=function(m){var r=[];N(m,function(B,Q){if(!Q["__u Nique"]){r.push(Q);Q["__u Nique"]=1}});return N(r,function(B,Q){delete Q["__u Nique"]})},
na=function(m,r,B,Q,v){var y=$.Deferred(),t=[m.serialize(),function(O){m[v||r+"d"](O);y.resolveWith(m,[m,O,r])},function(O){y.rejectWith(m,[O])}],E=m.constructor,U,ca=y.promise();r=="destroy"&&t.shift();r!=="create"&&t.unshift(Y(m));y.then(B);y.fail(Q);if((U=E[r].apply(E,t))&&U.abort)ca.abort=function(){U.abort()};return ca},la=function(m){return typeof m==="object"&&m!==null&&m},ga=function(m){return function(){return $.fn[m].apply($([this]),arguments)}},D=ga("bind");ga=ga("unbind");ajaxMethods=
{create:function(m){return function(r,B,Q){return Z(m||this._shortName,r,B,Q,H(this,"Create","-restCreate"))}},update:function(m){return function(r,B,Q,v){return Z(m||this._shortName+"/{"+this.id+"}",X(this,B,r),Q,v,H(this,"Update","-restUpdate"),"put")}},destroy:function(m){return function(r,B,Q){var v={};v[this.id]=r;return Z(m||this._shortName+"/{"+this.id+"}",v,B,Q,H(this,"Destroy","-restDestroy"),"delete")}},findAll:function(m){return function(r,B,Q){return Z(m||this._shortName,r,B,Q,H(this,
"s"),"get","json "+this._shortName+".models")}},findOne:function(m){return function(r,B,Q){return Z(m||this._shortName+"/{"+this.id+"}",r,B,Q,H(this),"get","json "+this._shortName+".model")}}};jQuery.Class("jQuery.Model",{setup:function(m){var r=this,B=this.fullName;N(["attributes","validations"],function(v,y){if(!r[y]||m[y]===r[y])r[y]={}});N(["convert","serialize"],function(v,y){if(m[y]!=r[y])r[y]=J({},m[y],r[y])});this._fullName=q(B.replace(/\./g,"_"));this._shortName=q(this.shortName);if(B.indexOf("jQuery")!=
0){if(this.listType)this.list=new this.listType([]);N(ajaxMethods,function(v,y){var t=r[v];if(typeof t!=="function")r[v]=y(t)});B={};var Q="* "+this._shortName+".model";B[Q+"s"]=this.proxy("models");B[Q]=this.proxy("model");$.ajaxSetup({converters:B})}},attributes:{},model:function(m){if(!m)return null;if(m instanceof this)m=m.serialize();return new this(la(m[this._shortName])||la(m.data)||la(m.attributes)||m)},models:function(m){if(!m)return null;var r=ba(this.List),B=x(m),Q=$.Model.List;Q=Q&&m instanceof
Q;for(var v=(Q=B?m:Q?m.serialize():m.data)?Q.length:null,y=0;y<v;y++)r.push(this.model(Q[y]));B||N(m,function(t,E){if(t!=="data")r[t]=E});return r},id:"id",addAttr:function(m,r){var B=this.attributes;B[m]||(B[m]=r);return r},convert:{date:function(m){var r=typeof m;return r==="string"?isNaN(Date.parse(m))?null:Date.parse(m):r==="number"?new Date(m):m},number:function(m){return parseFloat(m)},"boolean":function(m){return Boolean(m==="false"?0:m)},"default":function(m,r,B){r=c(B);var Q=window;if(B.indexOf(".")>=
0){B=B.substring(0,B.lastIndexOf("."));Q=c(B)}return typeof r=="function"?r.call(Q,m):m}},serialize:{"default":function(m){return la(m)&&m.serialize?m.serialize():m},date:function(m){return m&&m.getTime()}},bind:D,unbind:ga,_ajax:Z},{setup:function(m){this._init=true;this.attrs(J({},this.constructor.defaults,m));delete this._init},update:function(m,r,B){this.attrs(m);return this.save(r,B)},errors:function(m){if(m)m=x(m)?m:G(arguments);var r={},B=this,Q=function(y,t){N(t,function(E,U){if(E=U.call(B)){r[y]||
(r[y]=[]);r[y].push(E)}})},v=this.constructor.validations;N(m||v||{},function(y,t){if(typeof y=="number"){y=t;t=v[y]}Q(y,t||[])});return $.isEmptyObject(r)?null:r},attr:function(m,r,B,Q){var v=s(m),y="get"+v;if(r!==undefined){v="set"+v;y=this[m];var t=this,E=function(U){Q&&Q.call(t,U);W(t,"error."+m,U)};if(this[v]&&(r=this[v](r,this.proxy("_updateProperty",m,r,y,B,E),E))===undefined)return;this._updateProperty(m,r,y,B,E);return this}return this[y]?this[y]():this[m]},bind:D,unbind:ga,_updateProperty:function(m,
r,B,Q,v){var y=this.constructor,t=y.attributes[m]||y.addAttr(m,"string"),E=y.convert[t]||y.convert["default"],U=null,ca="",O="updated.";Q=Q;var aa=y.list;r=this[m]=r===null?null:E.call(y,r,function(){},t);this._init||(U=this.errors(m));t=[r];E=[m,r,B];if(U){ca=O="error.";Q=v;E.splice(1,0,U);t.unshift(U)}if(B!==r&&!this._init){!U&&W(this,ca+m,t);W(this,O+"attr",E)}Q&&Q.apply(this,t);if(m===y.id&&r!==null&&aa)if(B){if(B!=r){aa.remove(B);aa.push(this)}}else aa.push(this)},removeAttr:function(m){var r=
this[m],B=false,Q=this.constructor.attributes;this[m]&&delete this[m];if(Q[m]){delete Q[m];B=true}!this._init&&B&&r&&W(this,"updated.attr",[m,null,r])},attrs:function(m){var r,B=this.constructor,Q=B.attributes;if(m){B=B.id;for(r in m)r!=B&&this.attr(r,m[r]);B in m&&this.attr(B,m[B])}else{m={};for(r in Q)if(Q.hasOwnProperty(r))m[r]=this.attr(r)}return m},serialize:function(){var m=this.constructor,r=m.attributes,B,Q,v={},y;attributes={};for(y in r)if(r.hasOwnProperty(y)){B=r[y];Q=m.serialize[B]||m.serialize["default"];
v[y]=Q.call(m,this[y],B)}return v},isNew:function(){var m=Y(this);return m===undefined||m===null||m===""},save:function(m,r){return na(this,this.isNew()?"create":"update",m,r)},destroy:function(m,r){return na(this,"destroy",m,r,"destroyed")},identity:function(){var m=Y(this),r=this.constructor;return(r._fullName+"_"+(r.escapeIdentity?encodeURIComponent(m):m)).replace(/ /g,"_")},elements:function(m){var r=this.identity();if(this.constructor.escapeIdentity)r=r.replace(/([ #;&,.+*~\'%:"!^$[\]()=>|\/])/g,
"\\$1");return $("."+r,m)},hookup:function(m){var r=this.constructor._shortName,B=$.data(m,"models")||$.data(m,"models",{});$(m).addClass(r+" "+this.identity());B[r]=this}});N(["created","updated","destroyed"],function(m,r){$.Model.prototype[r]=function(B){var Q=this.constructor;r==="destroyed"&&Q.list&&Q.list.remove(Y(this));B&&typeof B=="object"&&this.attrs(B.attrs?B.attrs():B);W(this,r);W(Q,r,this);return[this].concat(G(arguments))}});$.fn.models=function(){var m=[],r,B;this.each(function(){N($.data(this,
"models")||{},function(Q,v){r=r===undefined?v.constructor.List||null:v.constructor.List===r?r:null;m.push(v)})});B=ba(r);B.push.apply(B,ea(m));return B};$.fn.model=function(m){if(m&&m instanceof $.Model){m.hookup(this[0]);return this}else return this.models.apply(this,arguments)[0]}});steal.loaded("jquery/model/model.js");
steal("jquery/controller","jquery/view/ejs","jquery/controller/view").then("./views/page.ejs",function(j){j.Controller("Shop.Main",{_availableLocales:["cz","en"],_navigationItems:["menu","contacts"],getNavigationItems:function(){return this._navigationItems},getAvailableLocales:function(){return this._availableLocales},getLocale:function(){if(!this.locale)this.locale=Shop.Utils.loadFromCookie("locale")||"cz";return this.locale},setLocale:function(c){for(var q=0;q<this._availableLocales.length;q++)if(this._availableLocales[q]==
c){Shop.Utils.saveToCookie("locale",c);this.locale=c;break}},getToken:function(){if(!this.token)this.token=Shop.Utils.loadFromCookie("token");return this.token},setToken:function(c){Shop.Utils.saveToCookie("token",c);this.token=c},getDeliveryLocationById:function(c){var q=j.grep(Shop.deliveryLocations,function(s){return s.id==c});if(q.length==0){alert("Error, DeliveryLocation not found for id : "+c);return null}if(q.length>1){alert("Error, Multiple DeliveryLocations found for id : "+c);return null}return q[0]},
reloadCustomer:function(){var c=this.getToken();Shop.Models.Customer.findByToken(c,this.proxy("_customerLoaded"))},navigateTo:function(c,q){var s=Shop.params.token;q=q||{};q.view=c;if(s&&!q.token)q.token=s;j.bbq.pushState(q,2)}},{init:function(){j.ajaxSetup({cache:false});j.EJS.Helpers.prototype.currentView=function(){return this.msg("header."+Shop.params.view)};j.EJS.Helpers.prototype.msg=function(x){return Shop.Main.dictionary[x]};j.EJS.Helpers.prototype.localize=function(x,G){return x[G+"_"+Shop.Main.getLocale()]};
this._parseHash();this._rememberToken();var c=this.Class.getToken(),q=null;q=c?Shop.Models.Customer.findByToken(c,this.proxy("_customerLoaded")):function(){return null};c=Shop.Models.DeliveryLocation.findAll(this.proxy("_deliveryLocationsLoaded"));var s=Shop.Models.Dictionary.loadDictionary(this.Class.getLocale(),this.proxy("_dictionaryLoaded"));j.when(q,c,s).done(this.proxy("_render"))},_customerLoaded:function(c){Shop.customer=c},_deliveryLocationsLoaded:function(c){Shop.deliveryLocations=c},_dictionaryLoaded:function(c){this.Class.dictionary=
c},_loadDictionary:function(){var c=Shop.Models.Dictionary.loadDictionary(this.Class.getLocale(),this.proxy("_dictionaryLoaded"));j.when(c).done(this.proxy("_render"))},_render:function(){j("#content").html(this.view("page",this));this.initialized=true;j(function(){j(window).trigger("hashchange")})},"{window} hashchange":function(){if(this.initialized){this._parseHash();switch(Shop.params.view){case "home":this._setScreen("shop_home");break;case "contacts":this._setScreen("shop_contacts");break;case "ordering":this._setScreen("shop_ordering");
break;case "menu":this._setScreen("shop_menu_list");break;case "order":Shop.params.meal?this._setScreen("shop_order_new"):alert("Invalid URL! Missing article.");break;case "referral":this._setScreen("shop_referral_new");break;case "profile":this._setScreen("shop_profile_edit");break;default:alert("Invalid URL! Unknown or missing view.")}}},"#main-customer-link click":function(){this.Class.navigateTo("profile")},"#main-lang-selector click":function(c){c=c.attr("locale");Shop.Main.setLocale(c);this._loadDictionary(c)},
".main-navigation-selector click":function(c){c=c.attr("navigationIndex");this.Class.navigateTo(this.Class.getNavigationItems()[c])},_parseHash:function(){Shop.params=j.bbq.getState()},_rememberToken:function(){var c=Shop.params.token;c&&this.Class.setToken(c)},_setScreen:function(c){j("#main-screen-name").html(j.EJS.Helpers.prototype.currentView());j("#main-detail")[c]()}});Shop.errorHandler=function(c,q,s){alert("An error occured!\nStatus: "+q+"\nDetails: "+s)}});steal.loaded("shop/main/main.js");
steal("jquery/view/ejs").then(function(j){j.View.preload("shop_main_views_page_ejs",jQuery.EJS(function(c,q){try{with(q)with(c){c=[];var s=Shop.Main.getAvailableLocales();c.push("\n");var x=Shop.Main.getNavigationItems();c.push("\n");c.push("\n");c.push("\n");c.push('<table id="main-header">\n');c.push("\t<tr>\n");c.push('\t\t<td id="logo-cell">\n');c.push('\t\t\t<div id="main-logo">Lunch<em>4</em>You</div>\n');c.push("\t\t</td>\n");c.push('\t\t<td id="middle-cell">\n');c.push('\t\t\t<div id="main-screen-name"></div>\n');
c.push("\t\t</td>\n");c.push('\t\t<td id="service-cell">\n');c.push('\t\t\t<span id="main-customer-info">\n');c.push("\t\t\t\t");if(Shop.customer){c.push("\n");c.push('\t\t\t\t<a id="main-customer-link" href="javascript:"> ');c.push(jQuery.EJS.clean(Shop.customer.firstName));c.push(" ");c.push(jQuery.EJS.clean(Shop.customer.lastName));c.push("</a>\n")}else{c.push("\n");c.push("\t\t\t\t\tAnonymous\n")}c.push("\t\t\t\t");c.push("\n");c.push("\t\t\t</span>\n");c.push('\t\t\t<span id="main-lang" >\n');
c.push("\t\t\t");for(q=0;q<s.length;q++){c.push("\n");c.push('\t\t\t\t<a id="main-lang-selector" locale="');c.push(jQuery.EJS.clean(s[q]));c.push('" href="javascript:">\n');c.push('\t\t\t\t\t<img class="main-lang-flag" src="');c.push(jQuery.EJS.clean(s[q]));c.push('.gif"></img>\n');c.push("\t\t\t\t</a>\n");c.push("\t\t\t")}c.push("\n");c.push("\t\t\t</span>\n");c.push("\t\t</td>\n");c.push("\t</tr>\n");c.push("\t<tr>\n");c.push('\t\t<td  id="navigation-cell" colspan="3">\n');c.push('\t\t\t<div id="main-navigation">\n');
c.push("\t\t\t\t");for(q=0;q<x.length;q++){c.push("\n");c.push("\t\t\t\t\t");c.push(jQuery.EJS.clean(q>0?"|":""));c.push("\n");c.push('\t\t\t\t\t<a class="main-navigation-selector" navigationIndex="');c.push(jQuery.EJS.clean(q));c.push('" href="javascript:">');c.push(jQuery.EJS.clean(msg("main.navigation.items."+x[q])));c.push("</a>\n");c.push("\t\t\t\t")}c.push("\n");c.push("\t\t\t</div>\n");c.push("\t\t</td>\n");c.push("\t</tr>\n");c.push("</table>\n");c.push("\n");c.push("\n");c.push('<div id="main-detail">\n');
c.push("</div>\n");return c.join("")}}catch(G){G.lineNumber=null;throw G;}}))});steal.loaded("shop/main/views/page.ejs");
